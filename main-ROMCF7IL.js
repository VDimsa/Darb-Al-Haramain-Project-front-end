import{$ as za,$a as Zt,$b as dl,A as Ot,Aa as Wi,Ab as Ne,B as bo,Ba as Ya,Bb as Z,C as ft,Ca as Re,Cb as tl,D as ja,Da as Ka,Db as ne,E as li,Ea as Za,Eb as J,F as Qt,Fa as Gi,Fb as re,G as St,Ga as u,Gb as he,H as yo,Ha as P,Hb as Hn,I as Ba,Ia as Po,Ib as pe,J as Ua,Ja as Kt,Jb as zn,K as wo,Ka as Ln,Kb as il,L as ci,La as $e,Lb as $n,M as gt,Ma as Dt,Mb as nl,N as Ie,Na as Vn,Nb as rl,O as we,Oa as At,Ob as Do,P as le,Pa as Xa,Pb as ol,Q as Co,Qa as Ja,Qb as Se,R as te,Ra as el,Rb as sl,S as De,Sa as H,Sb as al,T as S,Ta as ue,Tb as ll,U as ce,Ua as k,Ub as ae,V as Ha,Va as ie,Vb as Wn,W as I,Wa as Fe,Wb as hi,X as xo,Xa as w,Xb as bt,Y as U,Ya as Nn,Yb as cl,Z as f,Za as jn,Zb as Ao,_ as Tt,_a as Bn,_b as pi,a as Ye,aa as It,ab as oe,ac as ul,b as Fa,ba as Ke,bb as p,bc as se,c as ke,ca as Ce,cb as Le,cc as ko,d as fo,da as b,db as fe,dc as Gn,e as go,ea as y,eb as _t,ec as qn,f as B,fa as de,fb as Un,fc as it,g as Me,ga as Oe,gb as Oo,gc as nt,h as tt,ha as $a,hb as So,hc as Ee,i as Te,ia as ze,ib as To,ic as hl,j as D,ja as Wa,jb as c,jc as pl,k as Pt,ka as Bi,kb as d,kc as ml,l as An,la as F,lb as E,lc as ye,m as La,ma as q,mb as ge,mc as fl,n as j,na as Mo,nb as _e,nc as We,o as ji,oa as Ga,ob as A,oc as qi,p as He,pa as Y,pb as C,pc as Qn,q as kn,qa as Ui,qb as h,r as _o,ra as qa,rb as di,s as Va,sa as Hi,sb as ui,sc as gl,t as Gt,ta as Qa,tb as vt,tc as Yn,u as Na,ua as xe,ub as kt,v as Rn,va as Yt,vb as K,vc as mi,w as ve,wa as zi,wb as z,wc as Kn,x as vo,xa as Eo,xb as $,xc as Zn,y as mt,ya as Fn,yb as Io,z as qt,za as $i,zb as _}from"./chunk-O2TRBDBE.js";import{a as M,b as G,c as Ra,f as Ni}from"./chunk-EL2NI3EA.js";var Yi=class{},er=class{},rt=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(i){i?typeof i=="string"?this.lazyInit=()=>{this.headers=new Map,i.split(`
`).forEach(e=>{let t=e.indexOf(":");if(t>0){let r=e.slice(0,t),o=e.slice(t+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((e,t)=>{this.addHeaderEntry(t,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([e,t])=>{this.setHeaderEntries(e,t)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();let e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){let e=i.name.toLowerCase();switch(i.op){case"a":case"s":let t=i.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(i.name,e);let r=(i.op==="a"?this.headers.get(e):void 0)||[];r.push(...t),this.headers.set(e,r);break;case"d":let o=i.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(i,e){let t=i.toLowerCase();this.maybeSetNormalizedName(i,t),this.headers.has(t)?this.headers.get(t).push(e):this.headers.set(t,[e])}setHeaderEntries(i,e){let t=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=i.toLowerCase();this.headers.set(r,t),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}};var Fo=class{encodeKey(i){return _l(i)}encodeValue(i){return _l(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}};function au(n,i){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,o)),i.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var lu=/%(\d[a-f0-9])/gi,cu={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _l(n){return encodeURIComponent(n).replace(lu,(i,e)=>cu[e]??i)}function Xn(n){return`${n}`}var Ft=class n{map;encoder;updates=null;cloneFrom=null;constructor(i={}){if(this.encoder=i.encoder||new Fo,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=au(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{let t=i.fromObject[e],r=Array.isArray(t)?t.map(Xn):[Xn(t)];this.map.set(e,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();let e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){let e=[];return Object.keys(i).forEach(t=>{let r=i[t];Array.isArray(r)?r.forEach(o=>{e.push({param:t,value:o,op:"a"})}):e.push({param:t,value:r,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{let e=this.encoder.encodeKey(i);return this.map.get(i).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(i=>i!=="").join("&")}clone(i){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":let e=(i.op==="a"?this.map.get(i.param):void 0)||[];e.push(Xn(i.value)),this.map.set(i.param,e);break;case"d":if(i.value!==void 0){let t=this.map.get(i.param)||[],r=t.indexOf(Xn(i.value));r!==-1&&t.splice(r,1),t.length>0?this.map.set(i.param,t):this.map.delete(i.param)}else{this.map.delete(i.param);break}}}),this.cloneFrom=this.updates=null)}};var Lo=class{map=new Map;set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}};function du(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function vl(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function bl(n){return typeof Blob<"u"&&n instanceof Blob}function yl(n){return typeof FormData<"u"&&n instanceof FormData}function uu(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Qi=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(i,e,t,r){this.url=e,this.method=i.toUpperCase();let o;if(du(this.method)||r?(this.body=t!==void 0?t:null,o=r):o=t,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new rt,this.context??=new Lo,!this.params)this.params=new Ft,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||vl(this.body)||bl(this.body)||yl(this.body)||uu(this.body)?this.body:this.body instanceof Ft?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||yl(this.body)?null:bl(this.body)?this.body.type||null:vl(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ft?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(i={}){let e=i.method||this.method,t=i.url||this.url,r=i.responseType||this.responseType,o=i.transferCache??this.transferCache,s=i.body!==void 0?i.body:this.body,a=i.withCredentials??this.withCredentials,l=i.reportProgress??this.reportProgress,m=i.headers||this.headers,g=i.params||this.params,x=i.context??this.context;return i.setHeaders!==void 0&&(m=Object.keys(i.setHeaders).reduce((T,R)=>T.set(R,i.setHeaders[R]),m)),i.setParams&&(g=Object.keys(i.setParams).reduce((T,R)=>T.set(R,i.setParams[R]),g)),new n(e,t,s,{params:g,headers:m,context:x,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Lt=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Lt||{}),Ki=class{headers;status;statusText;url;ok;type;constructor(i,e=200,t="OK"){this.headers=i.headers||new rt,this.status=i.status!==void 0?i.status:e,this.statusText=i.statusText||t,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}},tr=class n extends Ki{constructor(i={}){super(i)}type=Lt.ResponseHeader;clone(i={}){return new n({headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},Xt=class n extends Ki{body;constructor(i={}){super(i),this.body=i.body!==void 0?i.body:null}type=Lt.Response;clone(i={}){return new n({body:i.body!==void 0?i.body:this.body,headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},Rt=class extends Ki{name="HttpErrorResponse";message;error;ok=!1;constructor(i){super(i,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${i.url||"(unknown url)"}`:this.message=`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}},Al=200,hu=204;function Ro(n,i){return{body:i,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var jo=(()=>{class n{handler;constructor(e){this.handler=e}request(e,t,r={}){let o;if(e instanceof Qi)o=e;else{let l;r.headers instanceof rt?l=r.headers:l=new rt(r.headers);let m;r.params&&(r.params instanceof Ft?m=r.params:m=new Ft({fromObject:r.params})),o=new Qi(e,t,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=D(o).pipe(qt(l=>this.handler.handle(l)));if(e instanceof Qi||r.observe==="events")return s;let a=s.pipe(ve(l=>l instanceof Xt));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(j(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(j(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(j(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(j(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:new Ft().append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,r={}){return this.request("PATCH",e,Ro(r,t))}post(e,t,r={}){return this.request("POST",e,Ro(r,t))}put(e,t,r={}){return this.request("PUT",e,Ro(r,t))}static \u0275fac=function(t){return new(t||n)(U(Yi))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),pu=/^\)\]\}',?\n/,mu="X-Request-URL";function wl(n){if(n.url)return n.url;let i=mu.toLocaleLowerCase();return n.headers.get(i)}var fu=(()=>{class n{fetchImpl=f(Vo,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=f(q);handle(e){return new ke(t=>{let r=new AbortController;return this.doRequest(e,r.signal,t).then(No,o=>t.error(new Rt({error:o}))),()=>r.abort()})}doRequest(e,t,r){return Ni(this,null,function*(){let o=this.createRequestInit(e),s;try{let R=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,M({signal:t},o)));gu(R),r.next({type:Lt.Sent}),s=yield R}catch(R){r.error(new Rt({error:R,status:R.status??0,statusText:R.statusText,url:e.urlWithParams,headers:R.headers}));return}let a=new rt(s.headers),l=s.statusText,m=wl(s)??e.urlWithParams,g=s.status,x=null;if(e.reportProgress&&r.next(new tr({headers:a,status:g,statusText:l,url:m})),s.body){let R=s.headers.get("content-length"),W=[],L=s.body.getReader(),V=0,be,Ae,ee=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Ni(this,null,function*(){for(;;){let{done:pt,value:Vi}=yield L.read();if(pt)break;if(W.push(Vi),V+=Vi.length,e.reportProgress){Ae=e.responseType==="text"?(Ae??"")+(be??=new TextDecoder).decode(Vi,{stream:!0}):void 0;let ka=()=>r.next({type:Lt.DownloadProgress,total:R?+R:void 0,loaded:V,partialText:Ae});ee?ee.run(ka):ka()}}}));let ht=this.concatChunks(W,V);try{let pt=s.headers.get("Content-Type")??"";x=this.parseBody(e,ht,pt)}catch(pt){r.error(new Rt({error:pt,headers:new rt(s.headers),status:s.status,statusText:s.statusText,url:wl(s)??e.urlWithParams}));return}}g===0&&(g=x?Al:0),g>=200&&g<300?(r.next(new Xt({body:x,headers:a,status:g,statusText:l,url:m})),r.complete()):r.error(new Rt({error:x,headers:a,status:g,statusText:l,url:m}))})}parseBody(e,t,r){switch(e.responseType){case"json":let o=new TextDecoder().decode(t).replace(pu,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(t);case"blob":return new Blob([t],{type:r});case"arraybuffer":return t.buffer}}createRequestInit(e){let t={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>t[o]=s.join(",")),e.headers.has("Accept")||(t.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let o=e.detectContentTypeHeader();o!==null&&(t["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:t,credentials:r}}concatChunks(e,t){let r=new Uint8Array(t),o=0;for(let s of e)r.set(s,o),o+=s.length;return r}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Vo=class{};function No(){}function gu(n){n.then(No,No)}function kl(n,i){return i(n)}function _u(n,i){return(e,t)=>i.intercept(e,{handle:r=>n(r,t)})}function vu(n,i,e){return(t,r)=>Ke(e,()=>i(t,o=>n(o,r)))}var bu=new I(""),Bo=new I(""),Rl=new I(""),Fl=new I("",{providedIn:"root",factory:()=>!0});function yu(){let n=null;return(i,e)=>{n===null&&(n=(f(bu,{optional:!0})??[]).reduceRight(_u,kl));let t=f(Bi);if(f(Fl)){let o=t.add();return n(i,e).pipe(Qt(()=>t.remove(o)))}else return n(i,e)}}var Cl=(()=>{class n extends Yi{backend;injector;chain=null;pendingTasks=f(Bi);contributeToStability=f(Fl);constructor(e,t){super(),this.backend=e,this.injector=t}handle(e){if(this.chain===null){let t=Array.from(new Set([...this.injector.get(Bo),...this.injector.get(Rl,[])]));this.chain=t.reduceRight((r,o)=>vu(r,o,this.injector),kl)}if(this.contributeToStability){let t=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Qt(()=>this.pendingTasks.remove(t)))}else return this.chain(e,t=>this.backend.handle(t))}static \u0275fac=function(t){return new(t||n)(U(er),U(It))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})();var wu=/^\)\]\}',?\n/;function Cu(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var xl=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new te(-2800,!1);let t=this.xhrFactory;return(t.\u0275loadImpl?Te(t.\u0275loadImpl()):D(null)).pipe(Ie(()=>new ke(o=>{let s=t.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((L,V)=>s.setRequestHeader(L,V.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let L=e.detectContentTypeHeader();L!==null&&s.setRequestHeader("Content-Type",L)}if(e.responseType){let L=e.responseType.toLowerCase();s.responseType=L!=="json"?L:"text"}let a=e.serializeBody(),l=null,m=()=>{if(l!==null)return l;let L=s.statusText||"OK",V=new rt(s.getAllResponseHeaders()),be=Cu(s)||e.url;return l=new tr({headers:V,status:s.status,statusText:L,url:be}),l},g=()=>{let{headers:L,status:V,statusText:be,url:Ae}=m(),ee=null;V!==hu&&(ee=typeof s.response>"u"?s.responseText:s.response),V===0&&(V=ee?Al:0);let ht=V>=200&&V<300;if(e.responseType==="json"&&typeof ee=="string"){let pt=ee;ee=ee.replace(wu,"");try{ee=ee!==""?JSON.parse(ee):null}catch(Vi){ee=pt,ht&&(ht=!1,ee={error:Vi,text:ee})}}ht?(o.next(new Xt({body:ee,headers:L,status:V,statusText:be,url:Ae||void 0})),o.complete()):o.error(new Rt({error:ee,headers:L,status:V,statusText:be,url:Ae||void 0}))},x=L=>{let{url:V}=m(),be=new Rt({error:L,status:s.status||0,statusText:s.statusText||"Unknown Error",url:V||void 0});o.error(be)},T=!1,R=L=>{T||(o.next(m()),T=!0);let V={type:Lt.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(V.total=L.total),e.responseType==="text"&&s.responseText&&(V.partialText=s.responseText),o.next(V)},W=L=>{let V={type:Lt.UploadProgress,loaded:L.loaded};L.lengthComputable&&(V.total=L.total),o.next(V)};return s.addEventListener("load",g),s.addEventListener("error",x),s.addEventListener("timeout",x),s.addEventListener("abort",x),e.reportProgress&&(s.addEventListener("progress",R),a!==null&&s.upload&&s.upload.addEventListener("progress",W)),s.send(a),o.next({type:Lt.Sent}),()=>{s.removeEventListener("error",x),s.removeEventListener("abort",x),s.removeEventListener("load",g),s.removeEventListener("timeout",x),e.reportProgress&&(s.removeEventListener("progress",R),a!==null&&s.upload&&s.upload.removeEventListener("progress",W)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(t){return new(t||n)(U(Qn))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Ll=new I(""),xu="XSRF-TOKEN",Mu=new I("",{providedIn:"root",factory:()=>xu}),Eu="X-XSRF-TOKEN",Pu=new I("",{providedIn:"root",factory:()=>Eu}),ir=class{},Ou=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,t,r){this.doc=e,this.platform=t,this.cookieName=r}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=qn(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(t){return new(t||n)(U(se),U(xe),U(Mu))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})();function Su(n,i){let e=n.url.toLowerCase();if(!f(Ll)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return i(n);let t=f(ir).getToken(),r=f(Pu);return t!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,t)})),i(n)}var Vl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Vl||{});function Tu(n,i){return{\u0275kind:n,\u0275providers:i}}function Uo(...n){let i=[jo,xl,Cl,{provide:Yi,useExisting:Cl},{provide:er,useFactory:()=>f(fu,{optional:!0})??f(xl)},{provide:Bo,useValue:Su,multi:!0},{provide:Ll,useValue:!0},{provide:ir,useClass:Ou}];for(let e of n)i.push(...e.\u0275providers);return Tt(i)}var Ml=new I("");function Iu(){return Tu(Vl.LegacyInterceptors,[{provide:Ml,useFactory:yu},{provide:Bo,useExisting:Ml,multi:!0}])}var Nl=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({providers:[Uo(Iu())]})}return n})();var Du=new I(""),El="b",Pl="h",Ol="s",Sl="st",Tl="u",Il="rt",Jn=new I(""),Au=["GET","HEAD"];function ku(n,i){let R=f(Jn),{isCacheActive:e}=R,t=Ra(R,["isCacheActive"]),{transferCache:r,method:o}=n;if(!e||r===!1||o==="POST"&&!t.includePostRequests&&!r||o!=="POST"&&!Au.includes(o)||!t.includeRequestsWithAuthHeaders&&Ru(n)||t.filter?.(n)===!1)return i(n);let s=f(Eo),a=f(Du,{optional:!0}),l=qi(f(xe));if(a&&!l)throw new te(2803,!1);let m=l&&a?Nu(n.url,a):n.url,g=Lu(n,m),x=s.get(g,null),T=t.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(T=r.includeHeaders),x){let{[El]:W,[Il]:L,[Pl]:V,[Ol]:be,[Sl]:Ae,[Tl]:ee}=x,ht=W;switch(L){case"arraybuffer":ht=new TextEncoder().encode(W).buffer;break;case"blob":ht=new Blob([W]);break}let pt=new rt(V);return D(new Xt({body:ht,headers:pt,status:be,statusText:Ae,url:ee}))}return i(n).pipe(le(W=>{W instanceof Xt&&l&&s.set(g,{[El]:W.body,[Pl]:Fu(W.headers,T),[Ol]:W.status,[Sl]:W.statusText,[Tl]:m,[Il]:n.responseType})}))}function Ru(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function Fu(n,i){if(!i)return{};let e={};for(let t of i){let r=n.getAll(t);r!==null&&(e[t]=r)}return e}function Dl(n){return[...n.keys()].sort().map(i=>`${i}=${n.getAll(i)}`).join("&")}function Lu(n,i){let{params:e,method:t,responseType:r}=n,o=Dl(e),s=n.serializeBody();s instanceof URLSearchParams?s=Dl(s):typeof s!="string"&&(s="");let a=[t,r,i,s,o].join("|"),l=Vu(a);return l}function Vu(n){let i=0;for(let e of n)i=Math.imul(31,i)+e.charCodeAt(0)<<0;return i+=2147483648,i.toString()}function jl(n){return[{provide:Jn,useFactory:()=>(Fn("NgHttpTransferCache"),M({isCacheActive:!0},n))},{provide:Rl,useValue:ku,multi:!0,deps:[Eo,Jn]},{provide:Bn,multi:!0,useFactory:()=>{let i=f(Zt),e=f(Jn);return()=>{i.whenStable().then(()=>{e.isCacheActive=!1})}}}]}function Nu(n,i){let e=new URL(n,"resolve://").origin,t=i[e];return t?n.replace(e,t):n}var zo=class extends ul{supportsDOMEvents=!0},$o=class n extends zo{static makeCurrent(){dl(new n)}onAndCancel(i,e,t){return i.addEventListener(e,t),()=>{i.removeEventListener(e,t)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.remove()}createElement(i,e){return e=e||this.getDefaultDocument(),e.createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return e==="window"?window:e==="document"?i:e==="body"?i.body:null}getBaseHref(i){let e=Uu();return e==null?null:Hu(e)}resetBaseElement(){Zi=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return qn(document.cookie,i)}},Zi=null;function Uu(){return Zi=Zi||document.querySelector("base"),Zi?Zi.getAttribute("href"):null}function Hu(n){return new URL(n,document.baseURI).pathname}var zu=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Wo=new I(""),Wl=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,t){this._zone=t,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,t,r){return this._findPluginFor(t).addEventListener(e,t,r)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find(o=>o.supports(e)),!t)throw new te(5101,!1);return this._eventNameToPlugin.set(e,t),t}static \u0275fac=function(t){return new(t||n)(U(Wo),U(q))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),nr=class{_doc;constructor(i){this._doc=i}manager},Go="ng-app-id";function Bl(n){for(let i of n)i.remove()}function Ul(n,i){let e=i.createElement("style");return e.textContent=n,e}function $u(n,i,e){let t=n.head?.querySelectorAll(`style[${Go}="${i}"]`);if(t)for(let r of t)r.textContent&&(r.removeAttribute(Go),e.set(r.textContent,{usage:0,elements:[r]}))}function qo(n,i){let e=i.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Gl=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,t,r,o={}){this.doc=e,this.appId=t,this.nonce=r,this.isServer=qi(o),$u(e,t,this.inline),this.hosts.add(e.head)}addStyles(e,t){for(let r of e)this.addUsage(r,this.inline,Ul);t?.forEach(r=>this.addUsage(r,this.external,qo))}removeStyles(e,t){for(let r of e)this.removeUsage(r,this.inline);t?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,t,r){let o=t.get(e);o?o.usage++:t.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,t){let r=t.get(e);r&&(r.usage--,r.usage<=0&&(Bl(r.elements),t.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Bl(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[t,{elements:r}]of this.inline)r.push(this.addElement(e,Ul(t,this.doc)));for(let[t,{elements:r}]of this.external)r.push(this.addElement(e,qo(t,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,t){return this.nonce&&t.setAttribute("nonce",this.nonce),this.isServer&&t.setAttribute(Go,this.appId),e.appendChild(t)}static \u0275fac=function(t){return new(t||n)(U(se),U(Hi),U(zi,8),U(xe))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Ho={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ko=/%COMP%/g,ql="%COMP%",Wu=`_nghost-${ql}`,Gu=`_ngcontent-${ql}`,qu=!0,Qu=new I("",{providedIn:"root",factory:()=>qu});function Yu(n){return Gu.replace(Ko,n)}function Ku(n){return Wu.replace(Ko,n)}function Ql(n,i){return i.map(e=>e.replace(Ko,n))}var rr=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,t,r,o,s,a,l,m=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=m,this.platformIsServer=qi(a),this.defaultRenderer=new Xi(e,s,l,this.platformIsServer)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===Wi.ShadowDom&&(t=G(M({},t),{encapsulation:Wi.Emulated}));let r=this.getOrCreateRenderer(e,t);return r instanceof or?r.applyToHost(e):r instanceof Ji&&r.applyStyles(),r}getOrCreateRenderer(e,t){let r=this.rendererByCompId,o=r.get(t.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,m=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,x=this.platformIsServer;switch(t.encapsulation){case Wi.Emulated:o=new or(l,m,t,this.appId,g,s,a,x);break;case Wi.ShadowDom:return new Qo(l,m,e,t,s,a,this.nonce,x);default:o=new Ji(l,m,t,g,s,a,x);break}r.set(t.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(t){return new(t||n)(U(Wl),U(Gl),U(Hi),U(Qu),U(se),U(xe),U(q),U(zi))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Xi=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(i,e,t,r){this.eventManager=i,this.doc=e,this.ngZone=t,this.platformIsServer=r}destroy(){}destroyNode=null;createElement(i,e){return e?this.doc.createElementNS(Ho[e]||e,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,e){(Hl(i)?i.content:i).appendChild(e)}insertBefore(i,e,t){i&&(Hl(i)?i.content:i).insertBefore(e,t)}removeChild(i,e){e.remove()}selectRootElement(i,e){let t=typeof i=="string"?this.doc.querySelector(i):i;if(!t)throw new te(-5104,!1);return e||(t.textContent=""),t}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,t,r){if(r){e=r+":"+e;let o=Ho[r];o?i.setAttributeNS(o,e,t):i.setAttribute(e,t)}else i.setAttribute(e,t)}removeAttribute(i,e,t){if(t){let r=Ho[t];r?i.removeAttributeNS(r,e):i.removeAttribute(`${t}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,t,r){r&(Gi.DashCase|Gi.Important)?i.style.setProperty(e,t,r&Gi.Important?"important":""):i.style[e]=t}removeStyle(i,e,t){t&Gi.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,t){i!=null&&(i[e]=t)}setValue(i,e){i.nodeValue=e}listen(i,e,t){if(typeof i=="string"&&(i=pi().getGlobalEventTarget(this.doc,i),!i))throw new Error(`Unsupported event target ${i} for event ${e}`);return this.eventManager.addEventListener(i,e,this.decoratePreventDefault(t))}decoratePreventDefault(i){return e=>{if(e==="__ngUnwrap__")return i;(this.platformIsServer?this.ngZone.runGuarded(()=>i(e)):i(e))===!1&&e.preventDefault()}}};function Hl(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Qo=class extends Xi{sharedStylesHost;hostEl;shadowRoot;constructor(i,e,t,r,o,s,a,l){super(i,o,s,l),this.sharedStylesHost=e,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=Ql(r.id,r.styles);for(let x of m){let T=document.createElement("style");a&&T.setAttribute("nonce",a),T.textContent=x,this.shadowRoot.appendChild(T)}let g=r.getExternalStyles?.();if(g)for(let x of g){let T=qo(x,o);a&&T.setAttribute("nonce",a),this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,t){return super.insertBefore(this.nodeOrShadowRoot(i),e,t)}removeChild(i,e){return super.removeChild(null,e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ji=class extends Xi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(i,e,t,r,o,s,a,l){super(i,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?Ql(l,t.styles):t.styles,this.styleUrls=t.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},or=class extends Ji{contentAttr;hostAttr;constructor(i,e,t,r,o,s,a,l){let m=r+"-"+t.id;super(i,e,t,o,s,a,l,m),this.contentAttr=Yu(m),this.hostAttr=Ku(m)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,e){let t=super.createElement(i,e);return super.setAttribute(t,this.contentAttr,""),t}},Zu=(()=>{class n extends nr{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,r){return e.addEventListener(t,r,!1),()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,r){return e.removeEventListener(t,r)}static \u0275fac=function(t){return new(t||n)(U(se))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),zl=["alt","control","meta","shift"],Xu={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ju={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},eh=(()=>{class n extends nr{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,t,r){let o=n.parseEventName(t),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pi().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let t=e.toLowerCase().split("."),r=t.shift();if(t.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(t.pop()),s="",a=t.indexOf("code");if(a>-1&&(t.splice(a,1),s="code."),zl.forEach(m=>{let g=t.indexOf(m);g>-1&&(t.splice(g,1),s+=m+".")}),s+=o,t.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,t){let r=Xu[e.key]||e.key,o="";return t.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),zl.forEach(s=>{if(s!==r){let a=Ju[s];a(e)&&(o+=s+".")}}),o+=r,o===t)}static eventCallback(e,t,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>t(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(t){return new(t||n)(U(se))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})();function Yl(n,i){return sl(M({rootComponent:n},th(i)))}function th(n){return{appProviders:[...sh,...n?.providers??[]],platformProviders:oh}}function ih(){$o.makeCurrent()}function nh(){return new Mo}function rh(){return qa(document),document}var oh=[{provide:xe,useValue:fl},{provide:Qa,useValue:ih,multi:!0},{provide:se,useFactory:rh,deps:[]}];var sh=[{provide:za,useValue:"root"},{provide:Mo,useFactory:nh,deps:[]},{provide:Wo,useClass:Zu,multi:!0,deps:[se,q,xe]},{provide:Wo,useClass:eh,multi:!0,deps:[se]},rr,Gl,Wl,{provide:Ln,useExisting:rr},{provide:Qn,useClass:zu,deps:[]},[]];var Kl=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(t){return new(t||n)(U(se))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sr=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n}(sr||{});function ah(n,i=[],e={}){return{\u0275kind:n,\u0275providers:i}}function Zl(){return ah(sr.EventReplay,al())}function Xl(...n){let i=[],e=new Set,t=e.has(sr.HttpTransferCacheOptions);for(let{\u0275providers:r,\u0275kind:o}of n)e.add(o),r.length&&i.push(r);return Tt([[],ll(),e.has(sr.NoHttpTransferCache)||t?[]:jl({}),i])}var N="primary",gn=Symbol("RouteTitle"),ts=class{params;constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function yi(n){return new ts(n)}function ch(n,i,e){let t=e.path.split("/");if(t.length>n.length||e.pathMatch==="full"&&(i.hasChildren()||t.length<n.length))return null;let r={};for(let o=0;o<t.length;o++){let s=t[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,t.length),posParams:r}}function dh(n,i){if(n.length!==i.length)return!1;for(let e=0;e<n.length;++e)if(!ot(n[e],i[e]))return!1;return!0}function ot(n,i){let e=n?is(n):void 0,t=i?is(i):void 0;if(!e||!t||e.length!=t.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!sc(n[r],i[r]))return!1;return!0}function is(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function sc(n,i){if(Array.isArray(n)&&Array.isArray(i)){if(n.length!==i.length)return!1;let e=[...n].sort(),t=[...i].sort();return e.every((r,o)=>t[o]===r)}else return n===i}function ac(n){return n.length>0?n[n.length-1]:null}function Nt(n){return An(n)?n:jn(n)?Te(Promise.resolve(n)):D(n)}var uh={exact:cc,subset:dc},lc={exact:hh,subset:ph,ignored:()=>!0};function Jl(n,i,e){return uh[e.paths](n.root,i.root,e.matrixParams)&&lc[e.queryParams](n.queryParams,i.queryParams)&&!(e.fragment==="exact"&&n.fragment!==i.fragment)}function hh(n,i){return ot(n,i)}function cc(n,i,e){if(!ei(n.segments,i.segments)||!cr(n.segments,i.segments,e)||n.numberOfChildren!==i.numberOfChildren)return!1;for(let t in i.children)if(!n.children[t]||!cc(n.children[t],i.children[t],e))return!1;return!0}function ph(n,i){return Object.keys(i).length<=Object.keys(n).length&&Object.keys(i).every(e=>sc(n[e],i[e]))}function dc(n,i,e){return uc(n,i,i.segments,e)}function uc(n,i,e,t){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!ei(r,e)||i.hasChildren()||!cr(r,e,t))}else if(n.segments.length===e.length){if(!ei(n.segments,e)||!cr(n.segments,e,t))return!1;for(let r in i.children)if(!n.children[r]||!dc(n.children[r],i.children[r],t))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!ei(n.segments,r)||!cr(n.segments,r,t)||!n.children[N]?!1:uc(n.children[N],i,o,t)}}function cr(n,i,e){return i.every((t,r)=>lc[e](n[r].parameters,t.parameters))}var Ct=class{root;queryParams;fragment;_queryParamMap;constructor(i=new X([],{}),e={},t=null){this.root=i,this.queryParams=e,this.fragment=t}get queryParamMap(){return this._queryParamMap??=yi(this.queryParams),this._queryParamMap}toString(){return gh.serialize(this)}},X=class{segments;children;parent=null;constructor(i,e){this.segments=i,this.children=e,Object.values(e).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dr(this)}},Jt=class{path;parameters;_parameterMap;constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap??=yi(this.parameters),this._parameterMap}toString(){return pc(this)}};function mh(n,i){return ei(n,i)&&n.every((e,t)=>ot(e.parameters,i[t].parameters))}function ei(n,i){return n.length!==i.length?!1:n.every((e,t)=>e.path===i[t].path)}function fh(n,i){let e=[];return Object.entries(n.children).forEach(([t,r])=>{t===N&&(e=e.concat(i(r,t)))}),Object.entries(n.children).forEach(([t,r])=>{t!==N&&(e=e.concat(i(r,t)))}),e}var Ss=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:()=>new an,providedIn:"root"})}return n})(),an=class{parse(i){let e=new rs(i);return new Ct(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){let e=`/${en(i.root,!0)}`,t=bh(i.queryParams),r=typeof i.fragment=="string"?`#${_h(i.fragment)}`:"";return`${e}${t}${r}`}},gh=new an;function dr(n){return n.segments.map(i=>pc(i)).join("/")}function en(n,i){if(!n.hasChildren())return dr(n);if(i){let e=n.children[N]?en(n.children[N],!1):"",t=[];return Object.entries(n.children).forEach(([r,o])=>{r!==N&&t.push(`${r}:${en(o,!1)}`)}),t.length>0?`${e}(${t.join("//")})`:e}else{let e=fh(n,(t,r)=>r===N?[en(n.children[N],!1)]:[`${r}:${en(t,!1)}`]);return Object.keys(n.children).length===1&&n.children[N]!=null?`${dr(n)}/${e[0]}`:`${dr(n)}/(${e.join("//")})`}}function hc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ar(n){return hc(n).replace(/%3B/gi,";")}function _h(n){return encodeURI(n)}function ns(n){return hc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ur(n){return decodeURIComponent(n)}function ec(n){return ur(n.replace(/\+/g,"%20"))}function pc(n){return`${ns(n.path)}${vh(n.parameters)}`}function vh(n){return Object.entries(n).map(([i,e])=>`;${ns(i)}=${ns(e)}`).join("")}function bh(n){let i=Object.entries(n).map(([e,t])=>Array.isArray(t)?t.map(r=>`${ar(e)}=${ar(r)}`).join("&"):`${ar(e)}=${ar(t)}`).filter(e=>e);return i.length?`?${i.join("&")}`:""}var yh=/^[^\/()?;#]+/;function Zo(n){let i=n.match(yh);return i?i[0]:""}var wh=/^[^\/()?;=#]+/;function Ch(n){let i=n.match(wh);return i?i[0]:""}var xh=/^[^=?&#]+/;function Mh(n){let i=n.match(xh);return i?i[0]:""}var Eh=/^[^&#]+/;function Ph(n){let i=n.match(Eh);return i?i[0]:""}var rs=class{url;remaining;constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(t[N]=new X(i,e)),t}parseSegment(){let i=Zo(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(i),new Jt(ur(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let e=Ch(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let r=Zo(this.remaining);r&&(t=r,this.capture(t))}i[ur(e)]=ur(t)}parseQueryParam(i){let e=Mh(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let s=Ph(this.remaining);s&&(t=s,this.capture(t))}let r=ec(e),o=ec(t);if(i.hasOwnProperty(r)){let s=i[r];Array.isArray(s)||(s=[s],i[r]=s),s.push(o)}else i[r]=o}parseParens(i){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=Zo(this.remaining),r=this.remaining[t.length];if(r!=="/"&&r!==")"&&r!==";")throw new te(4010,!1);let o;t.indexOf(":")>-1?(o=t.slice(0,t.indexOf(":")),this.capture(o),this.capture(":")):i&&(o=N);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[N]:new X([],s),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new te(4011,!1)}};function mc(n){return n.segments.length>0?new X([],{[N]:n}):n}function fc(n){let i={};for(let[t,r]of Object.entries(n.children)){let o=fc(r);if(t===N&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))i[s]=a;else(o.segments.length>0||o.hasChildren())&&(i[t]=o)}let e=new X(n.segments,i);return Oh(e)}function Oh(n){if(n.numberOfChildren===1&&n.children[N]){let i=n.children[N];return new X(n.segments.concat(i.segments),i.children)}return n}function ti(n){return n instanceof Ct}function Sh(n,i,e=null,t=null){let r=gc(n);return _c(r,i,e,t)}function gc(n){let i;function e(o){let s={};for(let l of o.children){let m=e(l);s[l.outlet]=m}let a=new X(o.url,s);return o===n&&(i=a),a}let t=e(n.root),r=mc(t);return i??r}function _c(n,i,e,t){let r=n;for(;r.parent;)r=r.parent;if(i.length===0)return Xo(r,r,r,e,t);let o=Th(i);if(o.toRoot())return Xo(r,r,new X([],{}),e,t);let s=Ih(o,r,n),a=s.processChildren?rn(s.segmentGroup,s.index,o.commands):bc(s.segmentGroup,s.index,o.commands);return Xo(r,s.segmentGroup,a,e,t)}function hr(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ln(n){return typeof n=="object"&&n!=null&&n.outlets}function Xo(n,i,e,t,r){let o={};t&&Object.entries(t).forEach(([l,m])=>{o[l]=Array.isArray(m)?m.map(g=>`${g}`):`${m}`});let s;n===i?s=e:s=vc(n,i,e);let a=mc(fc(s));return new Ct(a,o,r)}function vc(n,i,e){let t={};return Object.entries(n.children).forEach(([r,o])=>{o===i?t[r]=e:t[r]=vc(o,i,e)}),new X(n.segments,t)}var pr=class{isAbsolute;numberOfDoubleDots;commands;constructor(i,e,t){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=t,i&&t.length>0&&hr(t[0]))throw new te(4003,!1);let r=t.find(ln);if(r&&r!==ac(t))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Th(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new pr(!0,0,n);let i=0,e=!1,t=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,m])=>{a[l]=typeof m=="string"?m.split("/"):m}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?i++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new pr(e,i,t)}var _i=class{segmentGroup;processChildren;index;constructor(i,e,t){this.segmentGroup=i,this.processChildren=e,this.index=t}};function Ih(n,i,e){if(n.isAbsolute)return new _i(i,!0,0);if(!e)return new _i(i,!1,NaN);if(e.parent===null)return new _i(e,!0,0);let t=hr(n.commands[0])?0:1,r=e.segments.length-1+t;return Dh(e,r,n.numberOfDoubleDots)}function Dh(n,i,e){let t=n,r=i,o=e;for(;o>r;){if(o-=r,t=t.parent,!t)throw new te(4005,!1);r=t.segments.length}return new _i(t,!1,r-o)}function Ah(n){return ln(n[0])?n[0].outlets:{[N]:n}}function bc(n,i,e){if(n??=new X([],{}),n.segments.length===0&&n.hasChildren())return rn(n,i,e);let t=kh(n,i,e),r=e.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){let o=new X(n.segments.slice(0,t.pathIndex),{});return o.children[N]=new X(n.segments.slice(t.pathIndex),n.children),rn(o,0,r)}else return t.match&&r.length===0?new X(n.segments,{}):t.match&&!n.hasChildren()?os(n,i,e):t.match?rn(n,0,r):os(n,i,e)}function rn(n,i,e){if(e.length===0)return new X(n.segments,{});{let t=Ah(e),r={};if(Object.keys(t).some(o=>o!==N)&&n.children[N]&&n.numberOfChildren===1&&n.children[N].segments.length===0){let o=rn(n.children[N],i,e);return new X(n.segments,o.children)}return Object.entries(t).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=bc(n.children[o],i,s))}),Object.entries(n.children).forEach(([o,s])=>{t[o]===void 0&&(r[o]=s)}),new X(n.segments,r)}}function kh(n,i,e){let t=0,r=i,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(t>=e.length)return o;let s=n.segments[r],a=e[t];if(ln(a))break;let l=`${a}`,m=t<e.length-1?e[t+1]:null;if(r>0&&l===void 0)break;if(l&&m&&typeof m=="object"&&m.outlets===void 0){if(!ic(l,m,s))return o;t+=2}else{if(!ic(l,{},s))return o;t++}r++}return{match:!0,pathIndex:r,commandIndex:t}}function os(n,i,e){let t=n.segments.slice(0,i),r=0;for(;r<e.length;){let o=e[r];if(ln(o)){let l=Rh(o.outlets);return new X(t,l)}if(r===0&&hr(e[0])){let l=n.segments[i];t.push(new Jt(l.path,tc(e[0]))),r++;continue}let s=ln(o)?o.outlets[N]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&hr(a)?(t.push(new Jt(s,tc(a))),r+=2):(t.push(new Jt(s,{})),r++)}return new X(t,{})}function Rh(n){let i={};return Object.entries(n).forEach(([e,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(i[e]=os(new X([],{}),0,t))}),i}function tc(n){let i={};return Object.entries(n).forEach(([e,t])=>i[e]=`${t}`),i}function ic(n,i,e){return n==e.path&&ot(i,e.parameters)}var on="imperative",Pe=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Pe||{}),Ge=class{id;url;constructor(i,e){this.id=i,this.url=e}},cn=class extends Ge{type=Pe.NavigationStart;navigationTrigger;restoredState;constructor(i,e,t="imperative",r=null){super(i,e),this.navigationTrigger=t,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vt=class extends Ge{urlAfterRedirects;type=Pe.NavigationEnd;constructor(i,e,t){super(i,e),this.urlAfterRedirects=t}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Be=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Be||{}),ss=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ss||{}),wt=class extends Ge{reason;code;type=Pe.NavigationCancel;constructor(i,e,t,r){super(i,e),this.reason=t,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ii=class extends Ge{reason;code;type=Pe.NavigationSkipped;constructor(i,e,t,r){super(i,e),this.reason=t,this.code=r}},dn=class extends Ge{error;target;type=Pe.NavigationError;constructor(i,e,t,r){super(i,e),this.error=t,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},mr=class extends Ge{urlAfterRedirects;state;type=Pe.RoutesRecognized;constructor(i,e,t,r){super(i,e),this.urlAfterRedirects=t,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},as=class extends Ge{urlAfterRedirects;state;type=Pe.GuardsCheckStart;constructor(i,e,t,r){super(i,e),this.urlAfterRedirects=t,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ls=class extends Ge{urlAfterRedirects;state;shouldActivate;type=Pe.GuardsCheckEnd;constructor(i,e,t,r,o){super(i,e),this.urlAfterRedirects=t,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cs=class extends Ge{urlAfterRedirects;state;type=Pe.ResolveStart;constructor(i,e,t,r){super(i,e),this.urlAfterRedirects=t,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ds=class extends Ge{urlAfterRedirects;state;type=Pe.ResolveEnd;constructor(i,e,t,r){super(i,e),this.urlAfterRedirects=t,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},us=class{route;type=Pe.RouteConfigLoadStart;constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hs=class{route;type=Pe.RouteConfigLoadEnd;constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ps=class{snapshot;type=Pe.ChildActivationStart;constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ms=class{snapshot;type=Pe.ChildActivationEnd;constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fs=class{snapshot;type=Pe.ActivationStart;constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gs=class{snapshot;type=Pe.ActivationEnd;constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var un=class{},wi=class{url;navigationBehaviorOptions;constructor(i,e){this.url=i,this.navigationBehaviorOptions=e}};function Fh(n,i){return n.providers&&!n._injector&&(n._injector=el(n.providers,i,`Route: ${n.path}`)),n._injector??i}function Ze(n){return n.outlet||N}function Lh(n,i){let e=n.filter(t=>Ze(t)===i);return e.push(...n.filter(t=>Ze(t)!==i)),e}function _n(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let i=n.parent;i;i=i.parent){let e=i.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var _s=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return _n(this.route?.snapshot)??this.rootInjector}constructor(i){this.rootInjector=i,this.children=new wr(this.rootInjector)}},wr=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,t){let r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){let t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new _s(this.rootInjector),this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(t){return new(t||n)(U(It))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fr=class{_root;constructor(i){this._root=i}get root(){return this._root.value}parent(i){let e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){let e=vs(i,this._root);return e?e.children.map(t=>t.value):[]}firstChild(i){let e=vs(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){let e=bs(i,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return bs(i,this._root).map(e=>e.value)}};function vs(n,i){if(n===i.value)return i;for(let e of i.children){let t=vs(n,e);if(t)return t}return null}function bs(n,i){if(n===i.value)return[i];for(let e of i.children){let t=bs(n,e);if(t.length)return t.unshift(i),t}return[]}var je=class{value;children;constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}};function gi(n){let i={};return n&&n.children.forEach(e=>i[e.value.outlet]=e),i}var gr=class extends fr{snapshot;constructor(i,e){super(i),this.snapshot=e,Ts(this,i)}toString(){return this.snapshot.toString()}};function yc(n){let i=Vh(n),e=new Me([new Jt("",{})]),t=new Me({}),r=new Me({}),o=new Me({}),s=new Me(""),a=new xt(e,t,o,s,r,N,n,i.root);return a.snapshot=i.root,new gr(new je(a,[]),i)}function Vh(n){let i={},e={},t={},r="",o=new vi([],i,t,r,e,N,n,null,{});return new vr("",new je(o,[]))}var xt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(i,e,t,r,o,s,a,l){this.urlSubject=i,this.paramsSubject=e,this.queryParamsSubject=t,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(j(m=>m[gn]))??D(void 0),this.url=i,this.params=e,this.queryParams=t,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(i=>yi(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(i=>yi(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _r(n,i,e="emptyOnly"){let t,{routeConfig:r}=n;return i!==null&&(e==="always"||r?.path===""||!i.component&&!i.routeConfig?.loadComponent)?t={params:M(M({},i.params),n.params),data:M(M({},i.data),n.data),resolve:M(M(M(M({},n.data),i.data),r?.data),n._resolvedData)}:t={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},r&&Cc(r)&&(t.resolve[gn]=r.title),t}var vi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[gn]}constructor(i,e,t,r,o,s,a,l,m){this.url=i,this.params=e,this.queryParams=t,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=yi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=yi(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(t=>t.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${e}')`}},vr=class extends fr{url;constructor(i,e){super(e),this.url=i,Ts(this,e)}toString(){return wc(this._root)}};function Ts(n,i){i.value._routerState=n,i.children.forEach(e=>Ts(n,e))}function wc(n){let i=n.children.length>0?` { ${n.children.map(wc).join(", ")} } `:"";return`${n.value}${i}`}function Jo(n){if(n.snapshot){let i=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ot(i.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),i.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),ot(i.params,e.params)||n.paramsSubject.next(e.params),dh(i.url,e.url)||n.urlSubject.next(e.url),ot(i.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ys(n,i){let e=ot(n.params,i.params)&&mh(n.url,i.url),t=!n.parent!=!i.parent;return e&&!t&&(!n.parent||ys(n.parent,i.parent))}function Cc(n){return typeof n.title=="string"||n.title===null}var Nh=new I(""),Is=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=N;activateEvents=new F;deactivateEvents=new F;attachEvents=new F;detachEvents=new F;routerOutletData=Ga(void 0);parentContexts=f(wr);location=f(Dt);changeDetector=f(Se);inputBinder=f(Ds,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:t,previousValue:r}=e.name;if(t)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ws(e,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:t}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=k({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ce]})}return n})(),ws=class n{route;childContexts;parent;outletData;__ngOutletInjector(i){return new n(this.route,this.childContexts,i,this.outletData)}constructor(i,e,t,r){this.route=i,this.childContexts=e,this.parent=t,this.outletData=r}get(i,e){return i===xt?this.route:i===wr?this.childContexts:i===Nh?this.outletData:this.parent.get(i,e)}},Ds=new I("");function jh(n,i,e){let t=hn(n,i._root,e?e._root:void 0);return new gr(t,i)}function hn(n,i,e){if(e&&n.shouldReuseRoute(i.value,e.value.snapshot)){let t=e.value;t._futureSnapshot=i.value;let r=Bh(n,i,e);return new je(t,r)}else{if(n.shouldAttach(i.value)){let o=n.retrieve(i.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=i.value,s.children=i.children.map(a=>hn(n,a)),s}}let t=Uh(i.value),r=i.children.map(o=>hn(n,o));return new je(t,r)}}function Bh(n,i,e){return i.children.map(t=>{for(let r of e.children)if(n.shouldReuseRoute(t.value,r.value.snapshot))return hn(n,t,r);return hn(n,t)})}function Uh(n){return new xt(new Me(n.url),new Me(n.params),new Me(n.queryParams),new Me(n.fragment),new Me(n.data),n.outlet,n.component,n)}var pn=class{redirectTo;navigationBehaviorOptions;constructor(i,e){this.redirectTo=i,this.navigationBehaviorOptions=e}},xc="ngNavigationCancelingError";function br(n,i){let{redirectTo:e,navigationBehaviorOptions:t}=ti(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=Mc(!1,Be.Redirect);return r.url=e,r.navigationBehaviorOptions=t,r}function Mc(n,i){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[xc]=!0,e.cancellationCode=i,e}function Hh(n){return Ec(n)&&ti(n.url)}function Ec(n){return!!n&&n[xc]}var zh=(n,i,e,t)=>j(r=>(new Cs(i,r.targetRouterState,r.currentRouterState,e,t).activate(n),r)),Cs=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(i,e,t,r,o){this.routeReuseStrategy=i,this.futureState=e,this.currState=t,this.forwardEvent=r,this.inputBindingEnabled=o}activate(i){let e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,i),Jo(this.futureState.root),this.activateChildRoutes(e,t,i)}deactivateChildRoutes(i,e,t){let r=gi(e);i.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],t),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,t)})}deactivateRoutes(i,e,t){let r=i.value,o=e?e.value:null;if(r===o)if(r.component){let s=t.getContext(r.outlet);s&&this.deactivateChildRoutes(i,e,s.children)}else this.deactivateChildRoutes(i,e,t);else o&&this.deactivateRouteAndItsChildren(e,t)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){let t=e.getContext(i.value.outlet),r=t&&i.value.component?t.children:e,o=gi(i);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(t&&t.outlet){let s=t.outlet.detach(),a=t.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:s,route:i,contexts:a})}}deactivateRouteAndOutlet(i,e){let t=e.getContext(i.value.outlet),r=t&&i.value.component?t.children:e,o=gi(i);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(i,e,t){let r=gi(e);i.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],t),this.forwardEvent(new gs(o.value.snapshot))}),i.children.length&&this.forwardEvent(new ms(i.value.snapshot))}activateRoutes(i,e,t){let r=i.value,o=e?e.value:null;if(Jo(r),r===o)if(r.component){let s=t.getOrCreateContext(r.outlet);this.activateChildRoutes(i,e,s.children)}else this.activateChildRoutes(i,e,t);else if(r.component){let s=t.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jo(a.route.value),this.activateChildRoutes(i,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(i,null,s.children)}else this.activateChildRoutes(i,null,t)}},yr=class{path;route;constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},bi=class{component;route;constructor(i,e){this.component=i,this.route=e}};function $h(n,i,e){let t=n._root,r=i?i._root:null;return tn(t,r,e,[t.value])}function Wh(n){let i=n.routeConfig?n.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:n,guards:i}}function xi(n,i){let e=Symbol(),t=i.get(n,e);return t===e?typeof n=="function"&&!Ha(n)?n:i.get(n):t}function tn(n,i,e,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=gi(i);return n.children.forEach(s=>{Gh(s,o[s.value.outlet],e,t.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>sn(a,e.getContext(s),r)),r}function Gh(n,i,e,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=i?i.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=qh(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new yr(t)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?tn(n,i,a?a.children:null,t,r):tn(n,i,e,t,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new bi(a.outlet.component,s))}else s&&sn(i,a,r),r.canActivateChecks.push(new yr(t)),o.component?tn(n,null,a?a.children:null,t,r):tn(n,null,e,t,r);return r}function qh(n,i,e){if(typeof e=="function")return e(n,i);switch(e){case"pathParamsChange":return!ei(n.url,i.url);case"pathParamsOrQueryParamsChange":return!ei(n.url,i.url)||!ot(n.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ys(n,i)||!ot(n.queryParams,i.queryParams);case"paramsChange":default:return!ys(n,i)}}function sn(n,i,e){let t=gi(n),r=n.value;Object.entries(t).forEach(([o,s])=>{r.component?i?sn(s,i.children.getContext(o),e):sn(s,null,e):sn(s,i,e)}),r.component?i&&i.outlet&&i.outlet.isActivated?e.canDeactivateChecks.push(new bi(i.outlet.component,r)):e.canDeactivateChecks.push(new bi(null,r)):e.canDeactivateChecks.push(new bi(null,r))}function vn(n){return typeof n=="function"}function Qh(n){return typeof n=="boolean"}function Yh(n){return n&&vn(n.canLoad)}function Kh(n){return n&&vn(n.canActivate)}function Zh(n){return n&&vn(n.canActivateChild)}function Xh(n){return n&&vn(n.canDeactivate)}function Jh(n){return n&&vn(n.canMatch)}function Pc(n){return n instanceof La||n?.name==="EmptyError"}var lr=Symbol("INITIAL_VALUE");function Ci(){return Ie(n=>ji(n.map(i=>i.pipe(ft(1),gt(lr)))).pipe(j(i=>{for(let e of i)if(e!==!0){if(e===lr)return lr;if(e===!1||ep(e))return e}return!0}),ve(i=>i!==lr),ft(1)))}function ep(n){return ti(n)||n instanceof pn}function tp(n,i){return He(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?D(G(M({},e),{guardsResult:!0})):ip(s,t,r,n).pipe(He(a=>a&&Qh(a)?np(t,o,n,i):D(a)),j(a=>G(M({},e),{guardsResult:a})))})}function ip(n,i,e,t){return Te(n).pipe(He(r=>lp(r.component,r.route,e,i,t)),St(r=>r!==!0,!0))}function np(n,i,e,t){return Te(i).pipe(qt(r=>kn(op(r.route.parent,t),rp(r.route,t),ap(n,r.path,e),sp(n,r.route,e))),St(r=>r!==!0,!0))}function rp(n,i){return n!==null&&i&&i(new fs(n)),D(!0)}function op(n,i){return n!==null&&i&&i(new ps(n)),D(!0)}function sp(n,i,e){let t=i.routeConfig?i.routeConfig.canActivate:null;if(!t||t.length===0)return D(!0);let r=t.map(o=>_o(()=>{let s=_n(i)??e,a=xi(o,s),l=Kh(a)?a.canActivate(i,n):Ke(s,()=>a(i,n));return Nt(l).pipe(St())}));return D(r).pipe(Ci())}function ap(n,i,e){let t=i[i.length-1],o=i.slice(0,i.length-1).reverse().map(s=>Wh(s)).filter(s=>s!==null).map(s=>_o(()=>{let a=s.guards.map(l=>{let m=_n(s.node)??e,g=xi(l,m),x=Zh(g)?g.canActivateChild(t,n):Ke(m,()=>g(t,n));return Nt(x).pipe(St())});return D(a).pipe(Ci())}));return D(o).pipe(Ci())}function lp(n,i,e,t,r){let o=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!o||o.length===0)return D(!0);let s=o.map(a=>{let l=_n(i)??r,m=xi(a,l),g=Xh(m)?m.canDeactivate(n,i,e,t):Ke(l,()=>m(n,i,e,t));return Nt(g).pipe(St())});return D(s).pipe(Ci())}function cp(n,i,e,t){let r=i.canLoad;if(r===void 0||r.length===0)return D(!0);let o=r.map(s=>{let a=xi(s,n),l=Yh(a)?a.canLoad(i,e):Ke(n,()=>a(i,e));return Nt(l)});return D(o).pipe(Ci(),Oc(t))}function Oc(n){return Fa(le(i=>{if(typeof i!="boolean")throw br(n,i)}),j(i=>i===!0))}function dp(n,i,e,t){let r=i.canMatch;if(!r||r.length===0)return D(!0);let o=r.map(s=>{let a=xi(s,n),l=Jh(a)?a.canMatch(i,e):Ke(n,()=>a(i,e));return Nt(l)});return D(o).pipe(Ci(),Oc(t))}var mn=class{segmentGroup;constructor(i){this.segmentGroup=i||null}},fn=class extends Error{urlTree;constructor(i){super(),this.urlTree=i}};function fi(n){return Pt(new mn(n))}function up(n){return Pt(new te(4e3,!1))}function hp(n){return Pt(Mc(!1,Be.GuardRejected))}var xs=class{urlSerializer;urlTree;constructor(i,e){this.urlSerializer=i,this.urlTree=e}lineralizeSegments(i,e){let t=[],r=e.root;for(;;){if(t=t.concat(r.segments),r.numberOfChildren===0)return D(t);if(r.numberOfChildren>1||!r.children[N])return up(`${i.redirectTo}`);r=r.children[N]}}applyRedirectCommands(i,e,t,r,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:m,routeConfig:g,url:x,outlet:T,params:R,data:W,title:L}=r,V=Ke(o,()=>a({params:R,data:W,queryParams:l,fragment:m,routeConfig:g,url:x,outlet:T,title:L}));if(V instanceof Ct)throw new fn(V);e=V}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),i,t);if(e[0]==="/")throw new fn(s);return s}applyRedirectCreateUrlTree(i,e,t,r){let o=this.createSegmentGroup(i,e.root,t,r);return new Ct(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){let t={};return Object.entries(i).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);t[r]=e[a]}else t[r]=o}),t}createSegmentGroup(i,e,t,r){let o=this.createSegments(i,e.segments,t,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(i,l,t,r)}),new X(o,s)}createSegments(i,e,t,r){return e.map(o=>o.path[0]===":"?this.findPosParam(i,o,r):this.findOrReturn(o,t))}findPosParam(i,e,t){let r=t[e.path.substring(1)];if(!r)throw new te(4001,!1);return r}findOrReturn(i,e){let t=0;for(let r of e){if(r.path===i.path)return e.splice(t),r;t++}return i}},Ms={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pp(n,i,e,t,r){let o=Sc(n,i,e);return o.matched?(t=Fh(i,t),dp(t,i,e,r).pipe(j(s=>s===!0?o:M({},Ms)))):D(o)}function Sc(n,i,e){if(i.path==="**")return mp(e);if(i.path==="")return i.pathMatch==="full"&&(n.hasChildren()||e.length>0)?M({},Ms):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(i.matcher||ch)(e,n,i);if(!r)return M({},Ms);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?M(M({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function mp(n){return{matched:!0,parameters:n.length>0?ac(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function nc(n,i,e,t){return e.length>0&&_p(n,e,t)?{segmentGroup:new X(i,gp(t,new X(e,n.children))),slicedSegments:[]}:e.length===0&&vp(n,e,t)?{segmentGroup:new X(n.segments,fp(n,e,t,n.children)),slicedSegments:e}:{segmentGroup:new X(n.segments,n.children),slicedSegments:e}}function fp(n,i,e,t){let r={};for(let o of e)if(Cr(n,i,o)&&!t[Ze(o)]){let s=new X([],{});r[Ze(o)]=s}return M(M({},t),r)}function gp(n,i){let e={};e[N]=i;for(let t of n)if(t.path===""&&Ze(t)!==N){let r=new X([],{});e[Ze(t)]=r}return e}function _p(n,i,e){return e.some(t=>Cr(n,i,t)&&Ze(t)!==N)}function vp(n,i,e){return e.some(t=>Cr(n,i,t))}function Cr(n,i,e){return(n.hasChildren()||i.length>0)&&e.pathMatch==="full"?!1:e.path===""}function bp(n,i,e){return i.length===0&&!n.children[e]}var Es=class{};function yp(n,i,e,t,r,o,s="emptyOnly"){return new Ps(n,i,e,t,r,s,o).recognize()}var wp=31,Ps=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(i,e,t,r,o,s,a){this.injector=i,this.configLoader=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new xs(this.urlSerializer,this.urlTree)}noMatchError(i){return new te(4002,`'${i.segmentGroup}'`)}recognize(){let i=nc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(j(({children:e,rootSnapshot:t})=>{let r=new je(t,e),o=new vr("",r),s=Sh(t,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(i){let e=new vi([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),N,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,N,e).pipe(j(t=>({children:t,rootSnapshot:e})),mt(t=>{if(t instanceof fn)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof mn?this.noMatchError(t):t}))}processSegmentGroup(i,e,t,r,o){return t.segments.length===0&&t.hasChildren()?this.processChildren(i,e,t,o):this.processSegment(i,e,t,t.segments,r,!0,o).pipe(j(s=>s instanceof je?[s]:[]))}processChildren(i,e,t,r){let o=[];for(let s of Object.keys(t.children))s==="primary"?o.unshift(s):o.push(s);return Te(o).pipe(qt(s=>{let a=t.children[s],l=Lh(e,s);return this.processSegmentGroup(i,l,a,s,r)}),Ua((s,a)=>(s.push(...a),s)),bo(null),Ba(),He(s=>{if(s===null)return fi(t);let a=Tc(s);return Cp(a),D(a)}))}processSegment(i,e,t,r,o,s,a){return Te(e).pipe(qt(l=>this.processSegmentAgainstRoute(l._injector??i,e,l,t,r,o,s,a).pipe(mt(m=>{if(m instanceof mn)return D(null);throw m}))),St(l=>!!l),mt(l=>{if(Pc(l))return bp(t,r,o)?D(new Es):fi(t);throw l}))}processSegmentAgainstRoute(i,e,t,r,o,s,a,l){return Ze(t)!==s&&(s===N||!Cr(r,o,t))?fi(r):t.redirectTo===void 0?this.matchSegmentAgainstRoute(i,r,t,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(i,r,e,t,o,s,l):fi(r)}expandSegmentAgainstRouteUsingRedirect(i,e,t,r,o,s,a){let{matched:l,parameters:m,consumedSegments:g,positionalParamSegments:x,remainingSegments:T}=Sc(e,r,o);if(!l)return fi(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wp&&(this.allowRedirects=!1));let R=new vi(o,m,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,rc(r),Ze(r),r.component??r._loadedComponent??null,r,oc(r)),W=_r(R,a,this.paramsInheritanceStrategy);R.params=Object.freeze(W.params),R.data=Object.freeze(W.data);let L=this.applyRedirects.applyRedirectCommands(g,r.redirectTo,x,R,i);return this.applyRedirects.lineralizeSegments(r,L).pipe(He(V=>this.processSegment(i,t,e,V.concat(T),s,!1,a)))}matchSegmentAgainstRoute(i,e,t,r,o,s){let a=pp(e,t,r,i,this.urlSerializer);return t.path==="**"&&(e.children={}),a.pipe(Ie(l=>l.matched?(i=t._injector??i,this.getChildConfig(i,t,r).pipe(Ie(({routes:m})=>{let g=t._loadedInjector??i,{parameters:x,consumedSegments:T,remainingSegments:R}=l,W=new vi(T,x,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,rc(t),Ze(t),t.component??t._loadedComponent??null,t,oc(t)),L=_r(W,s,this.paramsInheritanceStrategy);W.params=Object.freeze(L.params),W.data=Object.freeze(L.data);let{segmentGroup:V,slicedSegments:be}=nc(e,T,R,m);if(be.length===0&&V.hasChildren())return this.processChildren(g,m,V,W).pipe(j(ee=>new je(W,ee)));if(m.length===0&&be.length===0)return D(new je(W,[]));let Ae=Ze(t)===o;return this.processSegment(g,m,V,be,Ae?N:o,!0,W).pipe(j(ee=>new je(W,ee instanceof je?[ee]:[])))}))):fi(e)))}getChildConfig(i,e,t){return e.children?D({routes:e.children,injector:i}):e.loadChildren?e._loadedRoutes!==void 0?D({routes:e._loadedRoutes,injector:e._loadedInjector}):cp(i,e,t,this.urlSerializer).pipe(He(r=>r?this.configLoader.loadChildren(i,e).pipe(le(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):hp(e))):D({routes:[],injector:i})}};function Cp(n){n.sort((i,e)=>i.value.outlet===N?-1:e.value.outlet===N?1:i.value.outlet.localeCompare(e.value.outlet))}function xp(n){let i=n.value.routeConfig;return i&&i.path===""}function Tc(n){let i=[],e=new Set;for(let t of n){if(!xp(t)){i.push(t);continue}let r=i.find(o=>t.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...t.children),e.add(r)):i.push(t)}for(let t of e){let r=Tc(t.children);i.push(new je(t.value,r))}return i.filter(t=>!e.has(t))}function rc(n){return n.data||{}}function oc(n){return n.resolve||{}}function Mp(n,i,e,t,r,o){return He(s=>yp(n,i,e,t,s.extractedUrl,r,o).pipe(j(({state:a,tree:l})=>G(M({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Ep(n,i){return He(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return D(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let m of Ic(l))s.add(m);let a=0;return Te(s).pipe(qt(l=>o.has(l)?Pp(l,t,n,i):(l.data=_r(l,l.parent,n).resolve,D(void 0))),le(()=>a++),yo(1),He(l=>a===s.size?D(e):tt))})}function Ic(n){let i=n.children.map(e=>Ic(e)).flat();return[n,...i]}function Pp(n,i,e,t){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!Cc(r)&&(o[gn]=r.title),Op(o,n,i,t).pipe(j(s=>(n._resolvedData=s,n.data=_r(n,n.parent,e).resolve,null)))}function Op(n,i,e,t){let r=is(n);if(r.length===0)return D({});let o={};return Te(r).pipe(He(s=>Sp(n[s],i,e,t).pipe(St(),le(a=>{if(a instanceof pn)throw br(new an,a);o[s]=a}))),yo(1),ja(o),mt(s=>Pc(s)?tt:Pt(s)))}function Sp(n,i,e,t){let r=_n(i)??t,o=xi(n,r),s=o.resolve?o.resolve(i,e):Ke(r,()=>o(i,e));return Nt(s)}function es(n){return Ie(i=>{let e=n(i);return e?Te(e).pipe(j(()=>i)):D(i)})}var Dc=(()=>{class n{buildTitle(e){let t,r=e.root;for(;r!==void 0;)t=this.getResolvedTitleForRoute(r)??t,r=r.children.find(o=>o.outlet===N);return t}getResolvedTitleForRoute(e){return e.data[gn]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:()=>f(Tp),providedIn:"root"})}return n})(),Tp=(()=>{class n extends Dc{title;constructor(e){super(),this.title=e}updateTitle(e){let t=this.buildTitle(e);t!==void 0&&this.title.setTitle(t)}static \u0275fac=function(t){return new(t||n)(U(Kl))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),As=new I("",{providedIn:"root",factory:()=>({})}),Ip=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=H({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){t&1&&E(0,"router-outlet")},dependencies:[Is],encapsulation:2})}return n})();function ks(n){let i=n.children&&n.children.map(ks),e=i?G(M({},n),{children:i}):M({},n);return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==N&&(e.component=Ip),e}var Rs=new I(""),Dp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=f(Do);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return D(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let t=Nt(e.loadComponent()).pipe(j(Ac),le(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Qt(()=>{this.componentLoaders.delete(e)})),r=new go(t,()=>new B).pipe(fo());return this.componentLoaders.set(e,r),r}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return D({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);let o=Ap(t,this.compiler,e,this.onLoadEndListener).pipe(Qt(()=>{this.childrenLoaders.delete(t)})),s=new go(o,()=>new B).pipe(fo());return this.childrenLoaders.set(t,s),s}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ap(n,i,e,t){return Nt(n.loadChildren()).pipe(j(Ac),He(r=>r instanceof Ja||Array.isArray(r)?D(r):Te(i.compileModuleAsync(r))),j(r=>{t&&t(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(Rs,[],{optional:!0,self:!0}).flat()),{routes:s.map(ks),injector:o}}))}function kp(n){return n&&typeof n=="object"&&"default"in n}function Ac(n){return kp(n)?n.default:n}var Fs=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:()=>f(Rp),providedIn:"root"})}return n})(),Rp=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fp=new I("");var Lp=new I(""),Vp=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new B;transitionAbortSubject=new B;configLoader=f(Dp);environmentInjector=f(It);urlSerializer=f(Ss);rootContexts=f(wr);location=f(Gn);inputBindingEnabled=f(Ds,{optional:!0})!==null;titleStrategy=f(Dc);options=f(As,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=f(Fs);createViewTransition=f(Fp,{optional:!0});navigationErrorHandler=f(Lp,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>D(void 0);rootComponentType=null;constructor(){let e=r=>this.events.next(new us(r)),t=r=>this.events.next(new hs(r));this.configLoader.onLoadEndListener=t,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let t=++this.navigationId;this.transitions?.next(G(M(M({},this.transitions.value),e),{id:t}))}setupNavigations(e,t,r){return this.transitions=new Me({id:0,currentUrlTree:t,currentRawUrl:t,extractedUrl:this.urlHandlingStrategy.extract(t),urlAfterRedirects:this.urlHandlingStrategy.extract(t),rawUrl:t,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:on,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ve(o=>o.id!==0),j(o=>G(M({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ie(o=>{let s=!1,a=!1;return D(o).pipe(Ie(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Be.SupersededByNewNavigation),tt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?G(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!m&&g!=="reload"){let x="";return this.events.next(new ii(l.id,this.urlSerializer.serialize(l.rawUrl),x,ss.IgnoredSameUrlNavigation)),l.resolve(!1),tt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return D(l).pipe(Ie(x=>{let T=this.transitions?.getValue();return this.events.next(new cn(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),T!==this.transitions?.getValue()?tt:Promise.resolve(x)}),Mp(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),le(x=>{o.targetSnapshot=x.targetSnapshot,o.urlAfterRedirects=x.urlAfterRedirects,this.currentNavigation=G(M({},this.currentNavigation),{finalUrl:x.urlAfterRedirects});let T=new mr(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(T)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:x,extractedUrl:T,source:R,restoredState:W,extras:L}=l,V=new cn(x,this.urlSerializer.serialize(T),R,W);this.events.next(V);let be=yc(this.rootComponentType).snapshot;return this.currentTransition=o=G(M({},l),{targetSnapshot:be,urlAfterRedirects:T,extras:G(M({},L),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=T,D(o)}else{let x="";return this.events.next(new ii(l.id,this.urlSerializer.serialize(l.extractedUrl),x,ss.IgnoredByUrlHandlingStrategy)),l.resolve(!1),tt}}),le(l=>{let m=new as(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(m)}),j(l=>(this.currentTransition=o=G(M({},l),{guards:$h(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),tp(this.environmentInjector,l=>this.events.next(l)),le(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw br(this.urlSerializer,l.guardsResult);let m=new ls(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(m)}),ve(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Be.GuardRejected),!1)),es(l=>{if(l.guards.canActivateChecks.length)return D(l).pipe(le(m=>{let g=new cs(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}),Ie(m=>{let g=!1;return D(m).pipe(Ep(this.paramsInheritanceStrategy,this.environmentInjector),le({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(m,"",Be.NoDataFromResolver)}}))}),le(m=>{let g=new ds(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}))}),es(l=>{let m=g=>{let x=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(g.routeConfig).pipe(le(T=>{g.component=T}),j(()=>{})));for(let T of g.children)x.push(...m(T));return x};return ji(m(l.targetSnapshot.root)).pipe(bo(null),ft(1))}),es(()=>this.afterPreactivation()),Ie(()=>{let{currentSnapshot:l,targetSnapshot:m}=o,g=this.createViewTransition?.(this.environmentInjector,l.root,m.root);return g?Te(g).pipe(j(()=>o)):D(o)}),j(l=>{let m=jh(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=G(M({},l),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,o}),le(()=>{this.events.next(new un)}),zh(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ft(1),le({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),we(this.transitionAbortSubject.pipe(le(l=>{throw l}))),Qt(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Be.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),mt(l=>{if(a=!0,Ec(l))this.events.next(new wt(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Hh(l)?this.events.next(new wi(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let m=new dn(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let g=Ke(this.environmentInjector,()=>this.navigationErrorHandler?.(m));if(g instanceof pn){let{message:x,cancellationCode:T}=br(this.urlSerializer,g);this.events.next(new wt(o.id,this.urlSerializer.serialize(o.extractedUrl),x,T)),this.events.next(new wi(g.redirectTo,g.navigationBehaviorOptions))}else throw this.events.next(m),l}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return tt}))}))}cancelNavigationTransition(e,t,r){let o=new wt(e.id,this.urlSerializer.serialize(e.extractedUrl),t,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),t=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==t?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Np(n){return n!==on}var jp=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:()=>f(Bp),providedIn:"root"})}return n})(),Os=class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}},Bp=(()=>{class n extends Os{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Oe(n)))(r||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kc=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:()=>f(Up),providedIn:"root"})}return n})(),Up=(()=>{class n extends kc{location=f(Gn);urlSerializer=f(Ss);options=f(As,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=f(Fs);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ct;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=yc(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(t=>{t.type==="popstate"&&e(t.url,t.state)})}handleRouterEvent(e,t){if(e instanceof cn)this.stateMemento=this.createStateMemento();else if(e instanceof ii)this.rawUrlTree=t.initialUrl;else if(e instanceof mr){if(this.urlUpdateStrategy==="eager"&&!t.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl);this.setBrowserUrl(t.targetBrowserUrl??r,t)}}else e instanceof un?(this.currentUrlTree=t.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl),this.routerState=t.targetRouterState,this.urlUpdateStrategy==="deferred"&&!t.extras.skipLocationChange&&this.setBrowserUrl(t.targetBrowserUrl??this.rawUrlTree,t)):e instanceof wt&&(e.code===Be.GuardRejected||e.code===Be.NoDataFromResolver)?this.restoreHistory(t):e instanceof dn?this.restoreHistory(t,!0):e instanceof Vt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,t){let r=e instanceof Ct?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||t.extras.replaceUrl){let o=this.browserPageId,s=M(M({},t.extras.state),this.generateNgRouterState(t.id,o));this.location.replaceState(r,"",s)}else{let o=M(M({},t.extras.state),this.generateNgRouterState(t.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,t=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Oe(n)))(r||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nn=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(nn||{});function Hp(n,i){n.events.pipe(ve(e=>e instanceof Vt||e instanceof wt||e instanceof dn||e instanceof ii),j(e=>e instanceof Vt||e instanceof ii?nn.COMPLETE:(e instanceof wt?e.code===Be.Redirect||e.code===Be.SupersededByNewNavigation:!1)?nn.REDIRECTING:nn.FAILED),ve(e=>e!==nn.REDIRECTING),ft(1)).subscribe(()=>{i()})}var zp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$p={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=f(Nn);stateManager=f(kc);options=f(As,{optional:!0})||{};pendingTasks=f(Bi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=f(Vp);urlSerializer=f(Ss);location=f(Gn);urlHandlingStrategy=f(Fs);_events=new B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=f(jp);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=f(Rs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!f(Ds,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ye;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(t=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(t,o),t instanceof wt&&t.code!==Be.Redirect&&t.code!==Be.SupersededByNewNavigation)this.navigated=!0;else if(t instanceof Vt)this.navigated=!0;else if(t instanceof wi){let s=t.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(t.url,r.currentRawUrl),l=M({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Np(r.source)},s);this.scheduleNavigation(a,on,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Gp(t)&&this._events.next(t)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),on,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,t)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",t)},0)})}navigateToSyncWithBrowser(e,t,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=M({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,t,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(ks),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,t={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=t,m=l?this.currentUrlTree.fragment:s,g=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":g=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let x;try{let T=r?r.snapshot:this.routerState.snapshot.root;x=gc(T)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),x=this.currentUrlTree.root}return _c(x,e,g,m??null)}navigateByUrl(e,t={skipLocationChange:!1}){let r=ti(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,on,null,t)}navigate(e,t={skipLocationChange:!1}){return Wp(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,t){let r;if(t===!0?r=M({},zp):t===!1?r=M({},$p):r=t,ti(e))return Jl(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Jl(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((t,[r,o])=>(o!=null&&(t[r]=o),t),{})}scheduleNavigation(e,t,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,m;s?(a=s.resolve,l=s.reject,m=s.promise):m=new Promise((x,T)=>{a=x,l=T});let g=this.pendingTasks.add();return Hp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(x=>Promise.reject(x))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wp(n){for(let i=0;i<n.length;i++)if(n[i]==null)throw new te(4008,!1)}function Gp(n){return!(n instanceof un)&&!(n instanceof wi)}var Rc=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new B;constructor(e,t,r,o,s,a){this.router=e,this.route=t,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(m=>{m instanceof Vt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ti(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,t,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||t||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let t=this.href===null?null:Ka(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(e,t){let r=this.renderer,o=this.el.nativeElement;t!==null?r.setAttribute(o,e,t):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:ti(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(t){return new(t||n)(P(Xe),P(xt),$a("tabindex"),P($e),P(Y),P(ko))};static \u0275dir=k({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){t&1&&C("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),t&2&&oe("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ae],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ae],replaceUrl:[2,"replaceUrl","replaceUrl",ae],routerLink:"routerLink"},features:[Fe,Ce]})}return n})();var qp=new I("");function Fc(n,...i){return Tt([{provide:Rs,multi:!0,useValue:n},[],{provide:xt,useFactory:Qp,deps:[Xe]},{provide:Bn,multi:!0,useFactory:Yp},i.map(e=>e.\u0275providers)])}function Qp(n){return n.routerState.root}function Yp(){let n=f(ze);return i=>{let e=n.get(Zt);if(i!==e.components[0])return;let t=n.get(Xe),r=n.get(Kp);n.get(Zp)===1&&t.initialNavigation(),n.get(Xp,null,xo.Optional)?.setUpPreloading(),n.get(qp,null,xo.Optional)?.init(),t.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Kp=new I("",{factory:()=>new B}),Zp=new I("",{providedIn:"root",factory:()=>1});var Xp=new I("");var Jp=new I("JWT_OPTIONS"),Mr=(()=>{class n{constructor(e=null){this.tokenGetter=e&&e.tokenGetter||function(){}}urlBase64Decode(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:{t+="==";break}case 3:{t+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(t)}b64decode(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="";if(e=String(e).replace(/=+$/,""),e.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let o=0,s,a,l=0;a=e.charAt(l++);~a&&(s=o%4?s*64+a:a,o++%4)?r+=String.fromCharCode(255&s>>(-2*o&6)):0)a=t.indexOf(a);return r}b64DecodeUnicode(e){return decodeURIComponent(Array.prototype.map.call(this.b64decode(e),t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(e=this.tokenGetter()){return e instanceof Promise?e.then(t=>this._decodeToken(t)):this._decodeToken(e)}_decodeToken(e){if(!e||e==="")return null;let t=e.split(".");if(t.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let r=this.urlBase64Decode(t[1]);if(!r)throw new Error("Cannot decode the token.");return JSON.parse(r)}getTokenExpirationDate(e=this.tokenGetter()){return e instanceof Promise?e.then(t=>this._getTokenExpirationDate(t)):this._getTokenExpirationDate(e)}_getTokenExpirationDate(e){let t;if(t=this.decodeToken(e),!t||!t.hasOwnProperty("exp"))return null;let r=new Date(0);return r.setUTCSeconds(t.exp),r}isTokenExpired(e=this.tokenGetter(),t){return e instanceof Promise?e.then(r=>this._isTokenExpired(r,t)):this._isTokenExpired(e,t)}_isTokenExpired(e,t){if(!e||e==="")return!0;let r=this.getTokenExpirationDate(e);return t=t||0,r===null?!1:!(r.valueOf()>new Date().valueOf()+t*1e3)}getAuthScheme(e,t){return typeof e=="function"?e(t):e}}return n.\u0275fac=function(e){return new(e||n)(U(Jp))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();var ni=class n{constructor(i,e){this.router=i;this.platformId=e}jwtHelper=new Mr;canActivate(){if(We(this.platformId)){let i=localStorage.getItem("token");return i&&!this.jwtHelper.isTokenExpired(i)?!0:(localStorage.removeItem("token"),this.router.navigate(["/login"],{queryParams:{returnUrl:this.router.url}}),!1)}return this.router.navigate(["/login"]),!1}static \u0275fac=function(e){return new(e||n)(U(Xe),U(xe))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var Wc=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,t){this._renderer=e,this._elementRef=t}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(t){return new(t||n)(P($e),P(Y))};static \u0275dir=k({type:n})}return n})(),Si=(()=>{class n extends Wc{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Oe(n)))(r||n)}})();static \u0275dir=k({type:n,features:[ie]})}return n})(),st=new I(""),em={provide:st,useExisting:De(()=>Us),multi:!0},Us=(()=>{class n extends Si{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Oe(n)))(r||n)}})();static \u0275dir=k({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){t&1&&C("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[he([em]),ie]})}return n})(),tm={provide:st,useExisting:De(()=>qe),multi:!0};function im(){let n=pi()?pi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var nm=new I(""),qe=(()=>{class n extends Wc{_compositionMode;_composing=!1;constructor(e,t,r){super(e,t),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!im())}writeValue(e){let t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(t){return new(t||n)(P($e),P(Y),P(nm,8))};static \u0275dir=k({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){t&1&&C("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[he([tm]),ie]})}return n})();function jt(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Gc(n){return n!=null&&typeof n.length=="number"}var En=new I(""),Rr=new I(""),rm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Bt=class{static min(i){return om(i)}static max(i){return sm(i)}static required(i){return qc(i)}static requiredTrue(i){return am(i)}static email(i){return lm(i)}static minLength(i){return cm(i)}static maxLength(i){return dm(i)}static pattern(i){return um(i)}static nullValidator(i){return Pr(i)}static compose(i){return Jc(i)}static composeAsync(i){return ed(i)}};function om(n){return i=>{if(jt(i.value)||jt(n))return null;let e=parseFloat(i.value);return!isNaN(e)&&e<n?{min:{min:n,actual:i.value}}:null}}function sm(n){return i=>{if(jt(i.value)||jt(n))return null;let e=parseFloat(i.value);return!isNaN(e)&&e>n?{max:{max:n,actual:i.value}}:null}}function qc(n){return jt(n.value)?{required:!0}:null}function am(n){return n.value===!0?null:{required:!0}}function lm(n){return jt(n.value)||rm.test(n.value)?null:{email:!0}}function cm(n){return i=>jt(i.value)||!Gc(i.value)?null:i.value.length<n?{minlength:{requiredLength:n,actualLength:i.value.length}}:null}function dm(n){return i=>Gc(i.value)&&i.value.length>n?{maxlength:{requiredLength:n,actualLength:i.value.length}}:null}function um(n){if(!n)return Pr;let i,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),i=new RegExp(e)):(e=n.toString(),i=n),t=>{if(jt(t.value))return null;let r=t.value;return i.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Pr(n){return null}function Qc(n){return n!=null}function Yc(n){return jn(n)?Te(n):n}function Kc(n){let i={};return n.forEach(e=>{i=e!=null?M(M({},i),e):i}),Object.keys(i).length===0?null:i}function Zc(n,i){return i.map(e=>e(n))}function hm(n){return!n.validate}function Xc(n){return n.map(i=>hm(i)?i:e=>i.validate(e))}function Jc(n){if(!n)return null;let i=n.filter(Qc);return i.length==0?null:function(e){return Kc(Zc(e,i))}}function Hs(n){return n!=null?Jc(Xc(n)):null}function ed(n){if(!n)return null;let i=n.filter(Qc);return i.length==0?null:function(e){let t=Zc(e,i).map(Yc);return Va(t).pipe(j(Kc))}}function zs(n){return n!=null?ed(Xc(n)):null}function Lc(n,i){return n===null?[i]:Array.isArray(n)?[...n,i]:[n,i]}function td(n){return n._rawValidators}function id(n){return n._rawAsyncValidators}function Ls(n){return n?Array.isArray(n)?n:[n]:[]}function Or(n,i){return Array.isArray(n)?n.includes(i):n===i}function Vc(n,i){let e=Ls(i);return Ls(n).forEach(r=>{Or(e,r)||e.push(r)}),e}function Nc(n,i){return Ls(i).filter(e=>!Or(n,e))}var Sr=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Hs(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=zs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,e){return this.control?this.control.hasError(i,e):!1}getError(i,e){return this.control?this.control.getError(i,e):null}},Mt=class extends Sr{name;get formDirective(){return null}get path(){return null}},ri=class extends Sr{_parent=null;name=null;valueAccessor=null},Tr=class{_cd;constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},pm={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$b=G(M({},pm),{"[class.ng-submitted]":"isSubmitted"}),at=(()=>{class n extends Tr{constructor(e){super(e)}static \u0275fac=function(t){return new(t||n)(P(ri,2))};static \u0275dir=k({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){t&2&&fe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[ie]})}return n})(),Fr=(()=>{class n extends Tr{constructor(e){super(e)}static \u0275fac=function(t){return new(t||n)(P(Mt,10))};static \u0275dir=k({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){t&2&&fe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[ie]})}return n})();var bn="VALID",Er="INVALID",Mi="PENDING",yn="DISABLED",Ut=class{},Ir=class extends Ut{value;source;constructor(i,e){super(),this.value=i,this.source=e}},Cn=class extends Ut{pristine;source;constructor(i,e){super(),this.pristine=i,this.source=e}},xn=class extends Ut{touched;source;constructor(i,e){super(),this.touched=i,this.source=e}},Ei=class extends Ut{status;source;constructor(i,e){super(),this.status=i,this.source=e}},Vs=class extends Ut{source;constructor(i){super(),this.source=i}},Ns=class extends Ut{source;constructor(i){super(),this.source=i}};function $s(n){return(Lr(n)?n.validators:n)||null}function mm(n){return Array.isArray(n)?Hs(n):n||null}function Ws(n,i){return(Lr(i)?i.asyncValidators:n)||null}function fm(n){return Array.isArray(n)?zs(n):n||null}function Lr(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function nd(n,i,e){let t=n.controls;if(!(i?Object.keys(t):t).length)throw new te(1e3,"");if(!t[e])throw new te(1001,"")}function rd(n,i,e){n._forEachChild((t,r)=>{if(e[r]===void 0)throw new te(1002,"")})}var Pi=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(i,e){this._assignValidators(i),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return bt(this.statusReactive)}set status(i){bt(()=>this.statusReactive.set(i))}_status=hi(()=>this.statusReactive());statusReactive=At(void 0);get valid(){return this.status===bn}get invalid(){return this.status===Er}get pending(){return this.status==Mi}get disabled(){return this.status===yn}get enabled(){return this.status!==yn}errors;get pristine(){return bt(this.pristineReactive)}set pristine(i){bt(()=>this.pristineReactive.set(i))}_pristine=hi(()=>this.pristineReactive());pristineReactive=At(!0);get dirty(){return!this.pristine}get touched(){return bt(this.touchedReactive)}set touched(i){bt(()=>this.touchedReactive.set(i))}_touched=hi(()=>this.touchedReactive());touchedReactive=At(!1);get untouched(){return!this.touched}_events=new B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(Vc(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(Vc(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(Nc(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(Nc(i,this._rawAsyncValidators))}hasValidator(i){return Or(this._rawValidators,i)}hasAsyncValidator(i){return Or(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let e=this.touched===!1;this.touched=!0;let t=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched(G(M({},i),{sourceControl:t})),e&&i.emitEvent!==!1&&this._events.next(new xn(!0,t))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(i))}markAsUntouched(i={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=i.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:t})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,t),e&&i.emitEvent!==!1&&this._events.next(new xn(!1,t))}markAsDirty(i={}){let e=this.pristine===!0;this.pristine=!1;let t=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty(G(M({},i),{sourceControl:t})),e&&i.emitEvent!==!1&&this._events.next(new Cn(!1,t))}markAsPristine(i={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=i.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,t),e&&i.emitEvent!==!1&&this._events.next(new Cn(!0,t))}markAsPending(i={}){this.status=Mi;let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new Ei(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending(G(M({},i),{sourceControl:e}))}disable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=yn,this.errors=null,this._forEachChild(r=>{r.disable(G(M({},i),{onlySelf:!0}))}),this._updateValue();let t=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new Ir(this.value,t)),this._events.next(new Ei(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(M({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=bn,this._forEachChild(t=>{t.enable(G(M({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(G(M({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(i,e){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bn||this.status===Mi)&&this._runAsyncValidator(t,i.emitEvent)}let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new Ir(this.value,e)),this._events.next(new Ei(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(G(M({},i),{sourceControl:e}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yn:bn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,e){if(this.asyncValidator){this.status=Mi,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let t=Yc(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(i){let e=i;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((t,r)=>t&&t._find(r),this)}getError(i,e){let t=e?this.get(e):this;return t&&t.errors?t.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,e,t){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||t)&&this._events.next(new Ei(this.status,e)),this._parent&&this._parent._updateControlsErrors(i,e,t)}_initObservables(){this.valueChanges=new F,this.statusChanges=new F}_calculateStatus(){return this._allControlsDisabled()?yn:this.errors?Er:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mi)?Mi:this._anyControlsHaveStatus(Er)?Er:bn}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,e){let t=!this._anyControlsDirty(),r=this.pristine!==t;this.pristine=t,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,e),r&&this._events.next(new Cn(this.pristine,e))}_updateTouched(i={},e){this.touched=this._anyControlsTouched(),this._events.next(new xn(this.touched,e)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,e)}_onDisabledChange=[];_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Lr(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let e=this._parent&&this._parent.dirty;return!i&&!!e&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=mm(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=fm(this._rawAsyncValidators)}},Oi=class extends Pi{constructor(i,e,t){super($s(e),Ws(t,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,t={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){rd(this,!0,i),Object.keys(i).forEach(t=>{nd(this,!0,t),this.controls[t].setValue(i[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(Object.keys(i).forEach(t=>{let r=this.controls[t];r&&r.patchValue(i[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((t,r)=>{t.reset(i?i[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,t)=>(i[t]=e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,t)=>t._syncPendingControls()?!0:e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(e=>{let t=this.controls[e];t&&i(t,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(let[e,t]of Object.entries(this.controls))if(this.contains(e)&&i(t))return!0;return!1}_reduceValue(){let i={};return this._reduceChildren(i,(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(i,e){let t=i;return this._forEachChild((r,o)=>{t=e(t,r,o)}),t}_allControlsDisabled(){for(let i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}};var js=class extends Oi{};var Pn=new I("CallSetDisabledState",{providedIn:"root",factory:()=>Vr}),Vr="always";function od(n,i){return[...i.path,n]}function Dr(n,i,e=Vr){Gs(n,i),i.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&i.valueAccessor.setDisabledState?.(n.disabled),_m(n,i),bm(n,i),vm(n,i),gm(n,i)}function jc(n,i,e=!0){let t=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(t),i.valueAccessor.registerOnTouched(t)),kr(n,i),n&&(i._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ar(n,i){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function gm(n,i){if(i.valueAccessor.setDisabledState){let e=t=>{i.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(e),i._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Gs(n,i){let e=td(n);i.validator!==null?n.setValidators(Lc(e,i.validator)):typeof e=="function"&&n.setValidators([e]);let t=id(n);i.asyncValidator!==null?n.setAsyncValidators(Lc(t,i.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let r=()=>n.updateValueAndValidity();Ar(i._rawValidators,r),Ar(i._rawAsyncValidators,r)}function kr(n,i){let e=!1;if(n!==null){if(i.validator!==null){let r=td(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==i.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(i.asyncValidator!==null){let r=id(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==i.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let t=()=>{};return Ar(i._rawValidators,t),Ar(i._rawAsyncValidators,t),e}function _m(n,i){i.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&sd(n,i)})}function vm(n,i){i.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&sd(n,i),n.updateOn!=="submit"&&n.markAsTouched()})}function sd(n,i){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bm(n,i){let e=(t,r)=>{i.valueAccessor.writeValue(t),r&&i.viewToModelUpdate(t)};n.registerOnChange(e),i._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function ad(n,i){n==null,Gs(n,i)}function ym(n,i){return kr(n,i)}function ld(n,i){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(i,e.currentValue)}function wm(n){return Object.getPrototypeOf(n.constructor)===Si}function cd(n,i){n._syncPendingControls(),i.forEach(e=>{let t=e.control;t.updateOn==="submit"&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function dd(n,i){if(!i)return null;Array.isArray(i);let e,t,r;return i.forEach(o=>{o.constructor===qe?e=o:wm(o)?t=o:r=o}),r||t||e||null}function Cm(n,i){let e=n.indexOf(i);e>-1&&n.splice(e,1)}var xm={provide:Mt,useExisting:De(()=>qs)},wn=Promise.resolve(),qs=(()=>{class n extends Mt{callSetDisabledState;get submitted(){return bt(this.submittedReactive)}_submitted=hi(()=>this.submittedReactive());submittedReactive=At(!1);_directives=new Set;form;ngSubmit=new F;options;constructor(e,t,r){super(),this.callSetDisabledState=r,this.form=new Oi({},Hs(e),zs(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){wn.then(()=>{let t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Dr(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){wn.then(()=>{let t=this._findContainer(e.path);t&&t.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){wn.then(()=>{let t=this._findContainer(e.path),r=new Oi({});ad(r,e),t.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){wn.then(()=>{let t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){wn.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),cd(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(t){return new(t||n)(P(En,10),P(Rr,10),P(Pn,8))};static \u0275dir=k({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){t&1&&C("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[he([xm]),ie]})}return n})();function Bc(n,i){let e=n.indexOf(i);e>-1&&n.splice(e,1)}function Uc(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Mn=class extends Pi{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(i=null,e,t){super($s(e),Ws(t,e)),this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lr(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Uc(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=this.defaultValue,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Bc(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Bc(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){Uc(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};var Mm=n=>n instanceof Mn;var Em={provide:ri,useExisting:De(()=>Et)},Hc=Promise.resolve(),Et=(()=>{class n extends ri{_changeDetectorRef;callSetDisabledState;control=new Mn;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new F;constructor(e,t,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=dd(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),ld(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Dr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Hc.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let t=e.isDisabled.currentValue,r=t!==0&&ae(t);Hc.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?od(e,this._parent):[e]}static \u0275fac=function(t){return new(t||n)(P(Mt,9),P(En,10),P(Rr,10),P(st,10),P(Se,8),P(Pn,8))};static \u0275dir=k({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[he([Em]),ie,Ce]})}return n})(),Nr=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=k({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),Pm={provide:st,useExisting:De(()=>Qs),multi:!0},Qs=(()=>{class n extends Si{writeValue(e){let t=e??"";this.setProperty("value",t)}registerOnChange(e){this.onChange=t=>{e(t==""?null:parseFloat(t))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Oe(n)))(r||n)}})();static \u0275dir=k({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){t&1&&C("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[he([Pm]),ie]})}return n})();var Om={provide:st,useExisting:De(()=>Ys),multi:!0},Ys=(()=>{class n extends Si{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(t==""?null:parseFloat(t))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Oe(n)))(r||n)}})();static \u0275dir=k({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,r){t&1&&C("change",function(s){return r.onChange(s.target.value)})("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[he([Om]),ie]})}return n})(),ud=new I("");var Sm={provide:Mt,useExisting:De(()=>Ks)},Ks=(()=>{class n extends Mt{callSetDisabledState;get submitted(){return bt(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=hi(()=>this._submittedReactive());_submittedReactive=At(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new F;constructor(e,t,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let t=this.form.get(e.path);return Dr(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){jc(e.control||null,e,!1),Cm(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this._submittedReactive.set(!0),cd(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Vs(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Ns(this.form))}_updateDomValue(){this.directives.forEach(e=>{let t=e.control,r=this.form.get(e.path);t!==r&&(jc(t||null,e),Mm(r)&&(Dr(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let t=this.form.get(e.path);ad(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let t=this.form.get(e.path);t&&ym(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gs(this.form,this),this._oldForm&&kr(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(t){return new(t||n)(P(En,10),P(Rr,10),P(Pn,8))};static \u0275dir=k({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){t&1&&C("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[he([Sm]),ie,Ce]})}return n})();var Tm={provide:ri,useExisting:De(()=>Zs)},Zs=(()=>{class n extends ri{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new F;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,t,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=dd(this,o)}ngOnChanges(e){this._added||this._setUpControl(),ld(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return od(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(t){return new(t||n)(P(Mt,13),P(En,10),P(Rr,10),P(st,10),P(ud,8))};static \u0275dir=k({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[he([Tm]),ie,Ce]})}return n})(),Im={provide:st,useExisting:De(()=>jr),multi:!0};function hd(n,i){return n==null?`${i}`:(i&&typeof i=="object"&&(i="Object"),`${n}: ${i}`.slice(0,50))}function Dm(n){return n.split(":")[0]}var jr=(()=>{class n extends Si{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let t=this._getOptionId(e),r=hd(t,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){let t=Dm(e);return this._optionMap.has(t)?this._optionMap.get(t):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Oe(n)))(r||n)}})();static \u0275dir=k({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){t&1&&C("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[he([Im]),ie]})}return n})(),pd=(()=>{class n{_element;_renderer;_select;id;constructor(e,t,r){this._element=e,this._renderer=t,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(hd(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(t){return new(t||n)(P(Y),P($e),P(jr,9))};static \u0275dir=k({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Am={provide:st,useExisting:De(()=>md),multi:!0};function zc(n,i){return n==null?`${i}`:(typeof i=="string"&&(i=`'${i}'`),i&&typeof i=="object"&&(i="Object"),`${n}: ${i}`.slice(0,50))}function km(n){return n.split(":")[0]}var md=(()=>{class n extends Si{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let t;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));t=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else t=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{let r=[],o=t.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],m=this._getOptionValue(l.value);r.push(m)}}else{let s=t.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let m=this._getOptionValue(l.value);r.push(m)}}}this.value=r,e(r)}}_registerOption(e){let t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(let t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){let t=km(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Oe(n)))(r||n)}})();static \u0275dir=k({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){t&1&&C("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[he([Am]),ie]})}return n})(),fd=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,t,r){this._element=e,this._renderer=t,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(zc(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(zc(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(t){return new(t||n)(P(Y),P($e),P(md,9))};static \u0275dir=k({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var Rm=(()=>{class n{_validator=Pr;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let t=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(t),this._validator=this._enabled?this.createValidator(t):Pr,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(t){return new(t||n)};static \u0275dir=k({type:n,features:[Ce]})}return n})();var Fm={provide:En,useExisting:De(()=>Xs),multi:!0};var Xs=(()=>{class n extends Rm{required;inputName="required";normalizeInput=ae;createValidator=e=>qc;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Oe(n)))(r||n)}})();static \u0275dir=k({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){t&2&&oe("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[he([Fm]),ie]})}return n})();var gd=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({})}return n})(),Bs=class extends Pi{constructor(i,e,t){super($s(e),Ws(t,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(i){return this.controls[this._adjustIndex(i)]}push(i,e={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(i,e,t={}){this.controls.splice(i,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(i,e={}){let t=this._adjustIndex(i);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(i,e,t={}){let r=this._adjustIndex(i);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,e={}){rd(this,!1,i),i.forEach((t,r)=>{nd(this,!1,r),this.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(i.forEach((t,r)=>{this.at(r)&&this.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i=[],e={}){this._forEachChild((t,r)=>{t.reset(i[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((e,t)=>t._syncPendingControls()?!0:e,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((e,t)=>{i(e,t)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(e=>e.enabled&&i(e))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(let i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}};function $c(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var _d=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,t=null){let r=this._reduceControls(e),o={};return $c(t)?o=t:t!==null&&(o.validators=t.validator,o.asyncValidators=t.asyncValidator),new Oi(r,o)}record(e,t=null){let r=this._reduceControls(e);return new js(r,t)}control(e,t,r){let o={};return this.useNonNullable?($c(t)?o=t:(o.validators=t,o.asyncValidators=r),new Mn(e,G(M({},o),{nonNullable:!0}))):new Mn(e,t,r)}array(e,t,r){let o=e.map(s=>this._createControl(s));return new Bs(o,t,r)}_reduceControls(e){let t={};return Object.keys(e).forEach(r=>{t[r]=this._createControl(e[r])}),t}_createControl(e){if(e instanceof Mn)return e;if(e instanceof Pi)return e;if(Array.isArray(e)){let t=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(t,r,o)}else return this.control(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ht=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Pn,useValue:e.callSetDisabledState??Vr}]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[gd]})}return n})(),vd=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ud,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Pn,useValue:e.callSetDisabledState??Vr}]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[gd]})}return n})();var Js=[{id:1,type:"mosque",class:"fa-solid fa-moon"},{id:2,type:"school",class:"fa-solid fa-graduation-cap"},{id:3,type:"restaurant",class:"fa-solid fa-utensils"},{id:4,type:"mall",class:"fa-solid fa-cart-shopping"},{id:5,type:"hospital",class:"fa-solid fa-circle-h"},{id:6,type:"project",class:""}];var bd=[{id:1,name:"\u0645\u0634\u0631\u0648\u0639 \u062F\u0631\u0628 \u0627\u0644\u062D\u0631\u0645\u064A\u0646",autoScroll:{x:15,y:18},mapImage:"https://res.cloudinary.com/dmyhr9fcz/image/upload/v1733557106/inv4kki12ltoa7fqoupo.webp",points:[{id:1,type:"project",position:{x:39,y:48},pointMap:"https://res.cloudinary.com/dmyhr9fcz/image/upload/v1734692691/tvpmiqqevedzbcpcd1bz.webp",name:"",logo:"https://res.cloudinary.com/dmyhr9fcz/image/upload/v1733559930/ogx0jgirrgqrjq70gjed.ico",isProject:!0,borders:[{Cordinates:[{x:42.65,y:46.9794205448436},{x:41.4,y:48.36388283987828},{x:39.5,y:51.040509943612},{x:37.45,y:49.563750162241675},{x:37.15,y:49.563750162241675},{x:37,y:49.563750162241675},{x:36.7,y:49.102262730563446},{x:36.6,y:48.73307278522086},{x:35.65,y:46.79482557217231},{x:40.25,y:44.39509092744552},{x:40.4,y:45.31806579080198},{x:40.55,y:45.59495824980891},{x:40.7,y:45.9641481951515},{x:41.05,y:46.24104065415843}],visible:!0,data:{name:"Project Main Border"}}],paths:[{point:{id:2,type:"hospital",position:{x:60,y:32},name:"",isProject:!1,visible:!0,importance:0},path:[{id:1,x:39,y:48},{id:2,x:45,y:42},{id:3,x:50,y:37},{id:4,x:55,y:35},{id:5,x:60,y:32}]},{point:{id:3,type:"hospital",position:{x:69,y:61},name:"",isProject:!1,visible:!0,importance:0},path:[{id:1,x:39,y:48},{id:2,x:45,y:55},{id:3,x:55,y:58},{id:4,x:64,y:60},{id:5,x:69,y:61}]},{point:{id:4,type:"hospital",position:{x:28,y:40},name:"",isProject:!1,visible:!0,importance:0},path:[{id:1,x:39,y:48},{id:2,x:35,y:45},{id:3,x:30,y:42},{id:4,x:28,y:40}]},{point:{id:5,type:"mall",position:{x:54.3,y:30},name:"",isProject:!1,visible:!0,importance:0},path:[{id:1,x:39,y:48},{id:2,x:45,y:40},{id:3,x:50,y:35},{id:4,x:54.3,y:30}]},{point:{id:6,type:"mall",position:{x:63,y:29},name:"",isProject:!1,visible:!0,importance:0},path:[{id:1,x:39,y:48},{id:2,x:50,y:38},{id:3,x:58,y:32},{id:4,x:63,y:29}]},{point:{id:7,type:"mall",position:{x:29,y:52},name:"",isProject:!1,visible:!0,importance:0},path:[{id:1,x:39,y:48},{id:2,x:34,y:50},{id:3,x:30,y:51},{id:4,x:29,y:52}]},{point:{id:8,type:"restaurant",position:{x:42,y:37},name:"",isProject:!1,visible:!0,importance:0},path:[{id:1,x:39,y:48},{id:2,x:40,y:42},{id:3,x:41,y:38},{id:4,x:42,y:37}]},{point:{id:9,type:"school",position:{x:75,y:51},name:"",isProject:!1,visible:!0,importance:0},path:[{id:1,x:39,y:48},{id:2,x:50,y:50},{id:3,x:60,y:55},{id:4,x:70,y:50},{id:5,x:75,y:51}]}],visible:!0,importance:2},{id:2,type:"hospital",position:{x:60,y:32},name:"",logo:"https://res.cloudinary.com/dmyhr9fcz/image/upload/v1733559930/ogx0jgirrgqrjq70gjed.ico",isProject:!1,visible:!0,importance:1},{id:3,type:"hospital",position:{x:69,y:61},name:"",logo:"https://res.cloudinary.com/dmyhr9fcz/image/upload/v1733559930/ogx0jgirrgqrjq70gjed.ico",isProject:!1,visible:!0,importance:1},{id:4,type:"hospital",position:{x:28,y:40},name:"",isProject:!1,visible:!0,importance:0},{id:5,type:"mall",position:{x:54.3,y:30},name:"",isProject:!1,visible:!0,importance:0},{id:6,type:"mall",position:{x:63,y:29},name:"",isProject:!1,visible:!0,importance:0},{id:7,type:"mall",position:{x:29,y:52},name:"",isProject:!1,visible:!0,importance:0},{id:8,type:"restaurant",position:{x:42,y:37},name:"",isProject:!1,visible:!0,importance:0},{id:9,type:"school",position:{x:75,y:51},name:"",isProject:!1,visible:!0,importance:0}]},{id:2,name:"\u0645\u0634\u0631\u0648\u0639 \u062F\u0631\u0628 \u0627\u0644\u062D\u0631\u0645\u064A\u0646 2",autoScroll:{x:50,y:50},mapImage:"https://res.cloudinary.com/dmyhr9fcz/image/upload/v1736562882/zw9ynjgxttiytc9c2smk.jpg",points:[{id:1,type:"project",position:{x:40.65,y:59.05420991926182},pointMap:"https://res.cloudinary.com/dmyhr9fcz/image/upload/v1736563668/bddqejeefzj0xjcfiqad.jpg",name:"",logo:"https://res.cloudinary.com/dmyhr9fcz/image/upload/v1733559930/ogx0jgirrgqrjq70gjed.ico",isProject:!0,borders:[{Cordinates:[{x:38.625,y:58.173048567103336},{x:41.199999999999996,y:56.327616601023635},{x:42.875,y:59.97653889759032},{x:40.275,y:62.07362067722635}],visible:!0,color:"blue",data:{name:"\u0627\u0633\u0645 \u0627\u0644\u062D\u062F"}}],paths:[{point:{id:1736593581428,name:"\u0627\u0633\u0645 \u0627\u0644\u0646\u0642\u0637\u0629",type:"mall",importance:0,logo:null,isProject:!1,position:{x:45.300000000000004,y:49.9108734402852},visible:!0,borders:[],paths:[]},path:[{id:1,x:40.65,y:59.05420991926182},{id:2,x:39.2,y:59.47362902380203},{id:3,x:38.6,y:58.13148788927336},{id:4,x:39.7,y:55.19555415749188},{id:5,x:40.300000000000004,y:55.11167033658383},{id:6,x:40.6,y:54.608367411135575},{id:7,x:40.949999999999996,y:53.433993918422985},{id:8,x:41.25,y:52.595155709342556},{id:9,x:42.65,y:49.9108734402852},{id:10,x:43.15,y:48.904267589388695},{id:11,x:44.65,y:51.0852469329978},{id:12,x:45.300000000000004,y:49.9108734402852}]},{point:{id:1736593566792,name:"\u0627\u0633\u0645 \u0627\u0644\u0646\u0642\u0637\u0629",type:"project",importance:1,logo:"https://res.cloudinary.com/dmyhr9fcz/image/upload/v1733559930/ogx0jgirrgqrjq70gjed.ico",isProject:!1,position:{x:24.75,y:50.83359547027367},visible:!0,borders:[],paths:[]},path:[{id:1,x:40.65,y:59.05420991926182},{id:2,x:39.2,y:59.64139666561812},{id:3,x:38.6,y:58.13148788927336},{id:4,x:39.95,y:55.11167033658383},{id:5,x:40.5,y:54.69225123204362},{id:6,x:40.75,y:54.35671594841145},{id:7,x:40.849999999999994,y:53.18234245569886},{id:8,x:40.75,y:52.76292335115864},{id:9,x:39.95,y:52.930690992974725},{id:10,x:38.35,y:50.33029254482542},{id:11,x:37.95,y:49.57533815665304},{id:12,x:37.3,y:49.15591905211282},{id:13,x:36.95,y:48.3170808430324},{id:14,x:36.1,y:49.491454335745},{id:15,x:35.15,y:50.162524903009334},{id:16,x:33.85,y:51.00136311208976},{id:17,x:33.45,y:51.84020132117018},{id:18,x:33,y:52.84680717206669},{id:19,x:31.6,y:54.4405997693195},{id:20,x:30.4,y:55.78274090384817},{id:21,x:28.7,y:55.86662472475621},{id:22,x:24.75,y:50.83359547027367}]}],visible:!0,importance:2},{id:1736593566792,name:"\u0627\u0633\u0645 \u0627\u0644\u0646\u0642\u0637\u0629",type:"project",importance:1,logo:"https://res.cloudinary.com/dmyhr9fcz/image/upload/v1733559930/ogx0jgirrgqrjq70gjed.ico",isProject:!1,position:{x:58.35,y:44.96172800671071},visible:!0,borders:[],paths:[]},{id:1736593572974,name:"\u0627\u0633\u0645 \u0627\u0644\u0646\u0642\u0637\u0629",type:"project",importance:1,logo:"https://res.cloudinary.com/dmyhr9fcz/image/upload/v1733559930/ogx0jgirrgqrjq70gjed.ico",isProject:!1,position:{x:24.75,y:50.83359547027367},visible:!0,borders:[],paths:[]},{id:1736593581428,name:"\u0627\u0633\u0645 \u0627\u0644\u0646\u0642\u0637\u0629",type:"mall",importance:0,logo:null,isProject:!1,position:{x:45.300000000000004,y:49.9108734402852},visible:!0,borders:[],paths:[]}]}],yd=[{projectId:1,pointId:1,mapImage:"https://res.cloudinary.com/dmyhr9fcz/image/upload/v1734692691/tvpmiqqevedzbcpcd1bz.webp",data:[{borders:[{Cordinates:[{x:20.260223048327138,y:20.710059171597635},{x:19.941582580987784,y:19.349112426035504},{x:19.861922464152947,y:19.230769230769234},{x:19.861922464152947,y:19.053254437869825},{x:18.295273499734467,y:15.266272189349111},{x:16.064790228359,y:16.331360946745562},{x:15.985130111524162,y:17.27810650887574},{x:17.63143919277748,y:21.06508875739645},{x:17.950079660116835,y:21.420118343195266}],visible:!0,color:"red",data:{name:"\u0627\u0644\u0645\u062C\u0645\u0639 \u0627\u0644\u0633\u0643\u0646\u064A A",type:"\u0633\u0643\u0646\u064A",floors:10,area:"5000 \u0645\xB2",occupancy:"80%"}},{Cordinates:[{x:20.260223048327138,y:20.650887573964496},{x:18.268720127456188,y:15.266272189349111},{x:20.57886351566649,y:14.615384615384617},{x:20.738183749336166,y:14.437869822485208},{x:21.37546468401487,y:15.562130177514794},{x:22.14551248008497,y:17.041420118343193},{x:22.464152947424324,y:18.402366863905325},{x:22.517259691980883,y:18.461538461538463},{x:22.525000000000002,y:18.439950905719833},{x:22.675,y:18.71850001305699},{x:22.675,y:18.82991965599185},{x:22.825,y:19.55414733506846}],visible:!0,color:"blue",data:{name:"\u0627\u0644\u0645\u062C\u0645\u0639 \u0627\u0644\u062A\u062C\u0627\u0631\u064A B",type:"\u062A\u062C\u0627\u0631\u064A",floors:5,area:"3000 \u0645\xB2",occupancy:"95%"}},{Cordinates:[{x:22.925,y:19.721276799470758},{x:22.575,y:18.495660727187264},{x:22.400000000000002,y:18.217111619850108},{x:22.2,y:16.88007590463175},{x:21.375,y:15.208781260608802},{x:21.45,y:14.930232153271646},{x:23.425,y:14.317424117129898},{x:23.5,y:14.373133938597332},{x:24.45,y:16.15584822555514},{x:24.65,y:16.657236618762024},{x:24.95,y:16.768656261696886},{x:25.2,y:17.548593762240927},{x:25.7,y:18.217111619850108},{x:25.3,y:18.82991965599185},{x:24.5,y:19.108468763329007}],visible:!0,color:"green",data:{name:"\u0627\u0644\u0639\u064A\u0627\u062F\u0627\u062A \u0627\u0644\u0637\u0628\u064A\u0629 C",type:"\u0639\u064A\u0627\u062F\u0627\u062A",floors:8,area:"2200 \u0645\xB2",occupancy:"100%"}},{Cordinates:[{x:25.7,y:18.27282144131754},{x:25.15,y:17.325754476371202},{x:24.75,y:16.824366083164318},{x:24.075,y:14.985941974739077},{x:23.5,y:14.317424117129898},{x:23.549999999999997,y:13.59319643805329},{x:23.674999999999997,y:13.2589375092487},{x:25.5,y:12.311870544302366},{x:25.900000000000002,y:13.036098223378975},{x:26.224999999999998,y:13.53748661658586},{x:26.325,y:13.871745545390448},{x:26.575,y:13.98316518832531},{x:28.000000000000004,y:17.158625011968905}],visible:!0,color:"orange",data:{name:"\u0645\u0631\u0643\u0632 \u0627\u0644\u062A\u0633\u0648\u0642 D",type:"\u062A\u0633\u0648\u0642",floors:3,area:"6000 \u0645\xB2",occupancy:"90%"}},{Cordinates:[{x:28.025,y:17.102915190501474},{x:26.575,y:13.98316518832531},{x:26.375,y:13.871745545390448},{x:26.200000000000003,y:13.426066973650997},{x:26.200000000000003,y:13.426066973650997},{x:25.8,y:12.590419651639523},{x:25.874999999999996,y:12.256160722834933},{x:27.925,y:11.531933043758325},{x:30.15,y:14.874522331804215},{x:30.5,y:15.598750010880824},{x:30.375000000000004,y:15.765879475283118},{x:30.5,y:16.15584822555514},{x:30.275000000000002,y:16.378687511424868},{x:29.799999999999997,y:16.768656261696886}],visible:!0,color:"brown",data:{name:"\u0627\u0644\u0645\u0628\u0646\u0649 \u0627\u0644\u0633\u0643\u0646\u064A E",type:"\u0633\u0643\u0646\u064A",floors:6,area:"4000 \u0645\xB2",occupancy:"50%"}}]}]},{projectId:2,pointId:1,autoScroll:{x:50,y:10},mapImage:"https://res.cloudinary.com/dmyhr9fcz/image/upload/v1736563668/bddqejeefzj0xjcfiqad.jpg",data:[{borders:[{Cordinates:[{x:44.81556781876271,y:21.00768325804999},{x:45.45454545454545,y:20.07813975105663},{x:45.338367702584954,y:18.219052737069905},{x:44.23467905896021,y:17.475417931475214},{x:43.595701423177466,y:18.40496143846858},{x:43.65379029915771,y:20.35700280315464}],visible:!0,color:"blue",data:{name:"\u0627\u0633\u0645 \u0627\u0644\u062D\u062F"}},{Cordinates:[{x:45.5126343305257,y:19.89223104965796},{x:46.209700842288704,y:18.962687542664593},{x:46.209700842288704,y:17.10360052867787},{x:45.10601219866396,y:16.452920073782515},{x:44.46703456288121,y:17.28950923007654},{x:45.3964565785652,y:17.84723533427256}],visible:!0,color:"blue",data:{name:"\u0627\u0633\u0645 \u0627\u0644\u062D\u062F"}}]}]}],Br=[{id:1,name:"\u0645\u0628\u0646\u0649 \u0627\u0644\u0623\u0637\u0628\u0627\u0621",status:"active",compoundId:1,urlVideo:!0,url:"https://res.cloudinary.com/dmyhr9fcz/video/upload/v1735395219/kmjmcboyukqbw4gjbjeg.mp4",location:{address:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u0645\u0646\u0648\u0631\u0629",city:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u0645\u0646\u0648\u0631\u0629",state:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u0645\u0646\u0648\u0631\u0629",country:"\u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629",latitude:24.470901,longitude:39.612236},floors:[{floorNumber:1,apartments:[{id:1,number:"101",roomsCount:Math.floor(Math.random()*5)+1,status:"available",floorNumber:1,buildingId:1,border:{coordinates:[{x:10,y:10},{x:10,y:60},{x:80,y:60},{x:80,y:10}],color:"green",visible:!0},name:"",area:900},{id:2,number:"102",roomsCount:Math.floor(Math.random()*5)+1,status:"booked",floorNumber:1,buildingId:1,border:{coordinates:[{x:90,y:10},{x:90,y:60},{x:160,y:60},{x:160,y:10}],color:"yellow",visible:!0},name:"",area:1100},{id:3,number:"103",roomsCount:Math.floor(Math.random()*5)+1,status:"sold",floorNumber:1,buildingId:1,border:{coordinates:[{x:170,y:10},{x:170,y:60},{x:240,y:60},{x:240,y:10}],color:"red",visible:!0},name:"",area:1050}]},{floorNumber:2,apartments:[{id:4,number:"201",roomsCount:Math.floor(Math.random()*5)+1,status:"available",floorNumber:2,buildingId:1,border:{coordinates:[{x:10,y:70},{x:10,y:120},{x:80,y:120},{x:80,y:70}],color:"green",visible:!0},name:"",area:900},{id:5,number:"202",roomsCount:Math.floor(Math.random()*5)+1,status:"booked",floorNumber:2,buildingId:1,border:{coordinates:[{x:90,y:70},{x:90,y:120},{x:160,y:120},{x:160,y:70}],color:"yellow",visible:!0},name:"",area:1200},{id:6,number:"203",roomsCount:Math.floor(Math.random()*5)+1,status:"sold",floorNumber:2,buildingId:1,border:{coordinates:[{x:170,y:70},{x:170,y:120},{x:240,y:120},{x:240,y:70}],color:"red",visible:!0},name:"",area:900}]}],createdAt:new Date,updatedAt:new Date},{id:2,name:"\u0645\u0628\u0646\u0649 \u0627\u0644\u0623\u0637\u0628\u0627\u0621",status:"active",compoundId:1,urlVideo:!0,url:"https://res.cloudinary.com/dmyhr9fcz/video/upload/v1735395219/kmjmcboyukqbw4gjbjeg.mp4",location:{address:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u0645\u0646\u0648\u0631\u0629",city:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u0645\u0646\u0648\u0631\u0629",state:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u0645\u0646\u0648\u0631\u0629",country:"\u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629",latitude:24.470901,longitude:39.612236},floors:[{floorNumber:1,apartments:[{id:0,name:"New Apartment",number:"1",roomsCount:Math.floor(Math.random()*5)+1,status:"available",floorNumber:1,buildingId:1,border:{coordinates:[{x:946,y:285},{x:943,y:301},{x:873,y:367},{x:873,y:367},{x:792,y:334},{x:720,y:339},{x:544,y:466},{x:385,y:420},{x:381,y:409},{x:382,y:396},{x:550,y:438},{x:731,y:304},{x:766,y:304},{x:880,y:341}],color:"transparent",visible:!0,data:{name:"New Apartment",type:"\u0633\u0643\u0646\u064A",floors:0,area:"0 \u0645\xB2",occupancy:"0% "}},area:1100}]},{floorNumber:2,apartments:[{id:0,name:"New Apartment",number:"1",roomsCount:1,status:"booked",floorNumber:2,buildingId:1,border:{coordinates:[{x:944,y:284},{x:879,y:338},{x:763,y:301},{x:729,y:303},{x:550,y:437},{x:383,y:395},{x:385,y:384},{x:393,y:369},{x:554,y:410},{x:736,y:278},{x:752,y:278},{x:878,y:318},{x:945,y:267}],color:"transparent",visible:!0,data:{name:"New Apartment",type:"\u0633\u0643\u0646\u064A",floors:0,area:"0 \u0645\xB2",occupancy:"0% "}},area:1050}]},{floorNumber:3,apartments:[{id:0,name:"New Apartment",number:"1",roomsCount:5,status:"available",floorNumber:3,buildingId:1,border:{coordinates:[{x:945,y:265},{x:877,y:317},{x:750,y:276},{x:732,y:277},{x:553,y:408},{x:392,y:368},{x:387,y:339},{x:552,y:378},{x:742,y:256},{x:881,y:296},{x:948,y:240}],color:"transparent",visible:!0,data:{name:"New Apartment",type:"\u0633\u0643\u0646\u064A",floors:0,area:"0 \u0645\xB2",occupancy:"0 % "}},area:1100}]},{floorNumber:4,apartments:[{id:0,name:"New Apartment",number:"1",roomsCount:3,status:"available",floorNumber:4,buildingId:1,border:{coordinates:[{x:950,y:240},{x:881,y:295},{x:743,y:254},{x:552,y:375},{x:388,y:338},{x:389,y:331},{x:484,y:277},{x:486,y:270},{x:493,y:245},{x:628,y:292},{x:745,y:209},{x:882,y:252},{x:956,y:198}],color:"transparent",visible:!0,data:{name:"New Apartment",type:"\u0633\u0643\u0646\u064A",floors:0,area:"0 \u0645\xB2",occupancy:"0 % "}},area:900}]},{floorNumber:5,apartments:[{id:0,name:"New Apartment",number:"1",roomsCount:4,status:"available",floorNumber:5,buildingId:1,border:{coordinates:[],color:"transparent",visible:!0,data:{name:"New Apartment",type:"\u0633\u0643\u0646\u064A",floors:0,area:"0 \u0645\xB2",occupancy:"0 % "}},area:1050}]}],createdAt:new Date,updatedAt:new Date}];var lt=class n{loadingSubject=new Me(!0);loading$=this.loadingSubject.asObservable();constructor(){}show(){this.loadingSubject.next(!0)}hide(){this.loadingSubject.next(!1)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var Nm=["scrollContainer"],jm=["mapContainer"],Bm=["projectMap"],Um=["mapPoint"],Hm=n=>({pointer:n,"map-image":!0}),zm=()=>[5,6,7],$m=n=>({nonVisible:n}),Wm=(n,i,e,t,r)=>({isMega:n,nonVisible:i,isProject:e,"light-effect":t,"selected-effect":r}),Gm=n=>({logo:n}),qm=n=>({"click-through":n});function Qm(n,i){if(n&1&&E(0,"i",22),n&2){let e=h().$implicit,t=h(3);_t(t.getPointClass(e.type)),p("id",e.id)}}function Ym(n,i){if(n&1&&E(0,"img",23),n&2){let e=h().$implicit,t=h(3);p("src",t.getMapImageSource(e.logo),Re)("ngClass",pe(2,Gm,e.isProject))}}function Km(n,i){if(n&1){let e=A();c(0,"div",19,3),C("click",function(r){let o=b(e).$implicit,s=h(3);return y(s.onPointClick(o,r))}),w(2,Qm,1,3,"i",20)(3,Ym,1,4,"img",21),d()}if(n&2){let e=i.$implicit,t=h(3);Le("left",e.position.x,"%")("top",e.position.y,"%"),p("ngClass",$n(7,Wm,e.importance===1,!e.visible,e.isProject,e.importance===1,t.selectedPoint===e||t.selectedProjectPoint===e)),u(2),p("ngIf",!e.isProject&&e.importance===0),u(),p("ngIf",e.isProject||e.importance===1)}}function Zm(n,i){if(n&1&&(c(0,"div",16)(1,"div",17),w(2,Km,4,13,"div",18),d()()),n&2){let e=h(2);Le("z-index",e.isAddingMode?"auto":"2 !important"),u(2),p("ngForOf",e.activeProject==null?null:e.activeProject.points)}}function Xm(n,i){if(n&1&&(de(),E(0,"path",26)),n&2){let e=i.$implicit;oe("d",e.d)}}function Jm(n,i){if(n&1&&(de(),c(0,"svg",24),w(1,Xm,1,1,"path",25),d()),n&2){let e=h(2);Le("z-index",e.isAddingMode?"auto":"1 !important"),oe("viewBox","0 0 "+e.imageWidth+" "+e.imageHeight),u(),p("ngForOf",e.selectedPath)}}function ef(n,i){if(n&1){let e=A();de(),c(0,"polygon",29),C("click",function(r){b(e);let o=h(3).$implicit,s=h(3);return y(s.onBorderClick(o,r))}),d()}if(n&2){let e=h().$implicit,t=h(5);Le("stroke",e.color||"blue")("fill",e.color||"blue"),oe("points",t.getBorderPoints(e.Cordinates))}}function tf(n,i){if(n&1&&(de(),ge(0),w(1,ef,1,5,"polygon",28),_e()),n&2){let e=i.$implicit;u(),p("ngIf",e.Cordinates==null?null:e.Cordinates.length)}}function nf(n,i){if(n&1&&(de(),ge(0),w(1,tf,2,1,"ng-container",27),_e()),n&2){let e=h().$implicit;u(),p("ngForOf",e.borders)}}function rf(n,i){if(n&1&&(de(),ge(0),w(1,nf,2,1,"ng-container",12),_e()),n&2){let e=i.$implicit;u(),p("ngIf",e.borders&&e.isProject)}}function of(n,i){if(n&1&&(de(),ge(0),w(1,rf,2,1,"ng-container",27),_e()),n&2){let e=h(2);u(),p("ngForOf",e.activeProject==null?null:e.activeProject.points)}}function sf(n,i){if(n&1){let e=A();de(),c(0,"polygon",29),C("click",function(r){b(e);let o=h().$implicit,s=h(3);return y(s.onPointBorderClick(o,r))}),d()}if(n&2){let e=h().$implicit,t=h(3);Le("stroke",e.color||"blue")("fill",e.color||"blue"),oe("points",t.getBorderPoints(e.Cordinates))}}function af(n,i){if(n&1&&(de(),ge(0),w(1,sf,1,5,"polygon",28),_e()),n&2){let e=i.$implicit,t=h(3);u(),p("ngIf",(e.Cordinates==null?null:e.Cordinates.length)&&e.visible&&t.filteredBorders.includes(e))}}function lf(n,i){if(n&1&&(de(),ge(0),w(1,af,2,1,"ng-container",27),_e()),n&2){let e=h(2);u(),p("ngForOf",e.selectedBorderPoint.borders)}}function cf(n,i){if(n&1){let e=A();de(),c(0,"polygon",31),C("click",function(r){b(e);let o=h().$implicit,s=h(4);return y(s.addStage===8?s.onPointBorderClick(o,r):null)}),d()}if(n&2){let e=h().$implicit,t=h(4);Le("stroke",e.color||"blue")("fill",e.color||"blue"),p("ngClass",pe(6,qm,t.addStage===7&&t.addBuildingBorder)),oe("points",t.getBorderPoints(e.Cordinates))}}function df(n,i){if(n&1&&(de(),ge(0),w(1,cf,1,8,"polygon",30),_e()),n&2){let e=i.$implicit;u(),p("ngIf",e.Cordinates==null?null:e.Cordinates.length)}}function uf(n,i){if(n&1&&(de(),ge(0),w(1,df,2,1,"ng-container",27),_e()),n&2){let e=i.$implicit;u(),p("ngForOf",e.borders)}}function hf(n,i){if(n&1&&(de(),ge(0),w(1,uf,2,1,"ng-container",27),_e()),n&2){let e=h(2);u(),p("ngForOf",e.projectsMap.data)}}function pf(n,i){if(n&1){let e=A();c(0,"ul",32)(1,"li",33),C("click",function(){b(e);let r=h(2);return y(r.clearData())}),E(2,"i",34),d(),c(3,"li",33),C("click",function(){b(e);let r=h(2);return y(r.toggleFilters())}),E(4,"i",35),d()()}}function mf(n,i){if(n&1&&(c(0,"div",39)(1,"h4"),_(2,"\u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0645\u0634\u0631\u0648\u0639:"),d(),E(3,"img",40),d()),n&2){let e=h(3);u(3),p("src",e.getMapImageSource(e.projectsMap.mapImage),Re)}}function ff(n,i){if(n&1&&(c(0,"span"),_(1),d()),n&2){let e=h().$implicit;u(),Z(" ",e.data.name||"Name"," ")}}function gf(n,i){if(n&1){let e=A();c(0,"li")(1,"strong"),_(2),d(),w(3,ff,2,1,"span",12),c(4,"input",41),C("input",function(r){let o=b(e).$implicit,s=h(6);return y(s.onBorderColorChange(o,r))}),d(),c(5,"button",38),C("click",function(){let r=b(e).index,o=h(2).$implicit,s=h(4);return y(s.removeBorder(o,r))}),_(6,"\u062D\u0630\u0641"),d()()}if(n&2){let e=i.$implicit,t=i.index;u(2),Z("\u0627\u0644\u062D\u062F\u0648\u062F ",t+1,": "),u(),p("ngIf",e.data&&e.data.name),u(),p("value",e.color)}}function _f(n,i){if(n&1&&(c(0,"div")(1,"p"),_(2),d(),c(3,"ul"),w(4,gf,7,3,"li",27),d()()),n&2){let e=h().$implicit;u(2),Z("\u0639\u062F\u062F \u0627\u0644\u062D\u062F\u0648\u062F: ",e.borders.length,""),u(2),p("ngForOf",e.borders)}}function vf(n,i){if(n&1&&(ge(0),w(1,_f,5,2,"div",12),_e()),n&2){let e=i.$implicit;u(),p("ngIf",e.borders&&e.borders.length>0)}}function bf(n,i){if(n&1&&(ge(0),w(1,vf,2,1,"ng-container",27),_e()),n&2){let e=h(3);u(),p("ngForOf",e.projectsMap.data)}}function yf(n,i){if(n&1){let e=A();c(0,"div",36)(1,"h4"),_(2,"\u0627\u0644\u062D\u062F\u0648\u062F \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0627\u0644\u0646\u0642\u0637\u0629 \u0627\u0644\u0645\u062E\u062A\u0627\u0631\u0629"),d(),w(3,mf,4,1,"div",37),c(4,"div")(5,"h4"),_(6,"\u0645\u0639\u0631\u0641 \u0627\u0644\u0645\u0634\u0631\u0648\u0639:"),d(),c(7,"p"),_(8),d()(),c(9,"div")(10,"h4"),_(11,"\u0645\u0639\u0631\u0641 \u0627\u0644\u062D\u062F\u0648\u062F:"),d(),c(12,"p"),_(13),d()(),c(14,"div")(15,"h4"),_(16,"\u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0644\u0644\u062D\u062F\u0648\u062F:"),d(),w(17,bf,2,1,"ng-container",12),d(),c(18,"button",38),C("click",function(){b(e);let r=h(2);return y(r.toggleDrawingBuildingBorder())}),_(19," \u062A\u0641\u0639\u064A\u0644 \u0648\u0636\u0639 \u0627\u0644\u062A\u062D\u062F\u064A\u062F "),d(),c(20,"button",38),C("click",function(){b(e);let r=h(2);return y(r.finishCurrentBorder())}),_(21," \u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u062D\u062F\u0648\u062F \u0627\u0644\u062D\u0627\u0644\u064A\u0629 "),d()()}if(n&2){let e=h(2);u(3),p("ngIf",e.selectedBorderPoint.pointMap),u(5),Ne(e.projectsMap.projectId),u(5),Ne(e.projectsMap.pointId),u(4),p("ngIf",e.projectsMap.data&&e.projectsMap.data.length>0)}}function wf(n,i){if(n&1){let e=A();c(0,"li",44)(1,"label")(2,"input",45),C("change",function(r){let o=b(e).$implicit,s=h(3);return y(s.onFilterChange(o.type,r))}),d(),_(3),d()()}if(n&2){let e=i.$implicit;u(3),Z(" ",e.label," ")}}function Cf(n,i){if(n&1&&(c(0,"div",36)(1,"h4"),_(2,"\u0641\u0644\u0627\u062A\u0631"),d(),c(3,"ul",42),w(4,wf,4,1,"li",43),d()()),n&2){let e=h(2);u(4),p("ngForOf",e.filterOptions)}}function xf(n,i){if(n&1){let e=A();c(0,"li",44)(1,"label")(2,"input",53),C("change",function(r){let o=b(e).$implicit,s=h(3);return y(s.onTypeFilterChange(o,r))}),d(),_(3),d()()}if(n&2){let e=i.$implicit,t=h(3);u(2),p("checked",t.activeBorderFilters.types[e]),u(),Z(" ",t.getTypeLabel(e)," ")}}function Mf(n,i){if(n&1){let e=A();c(0,"li",44)(1,"label")(2,"input",53),C("change",function(r){let o=b(e).$implicit,s=h(3);return y(s.onFloorFilterChange(o,r))}),d(),_(3),d()()}if(n&2){let e=i.$implicit,t=h(3);u(2),p("checked",t.activeBorderFilters.floors.includes(e)),u(),Z(" ",e," ")}}function Ef(n,i){if(n&1&&(c(0,"li",44)(1,"strong"),_(2),d(),_(3),d()),n&2){let e=i.$implicit,t=i.index;u(2),Z("\u0627\u0644\u062D\u062F ",t+1,":"),u(),Z(" ",(e.data==null?null:e.data.name)||"\u0645\u0646\u0637\u0642\u0629 "+(t+1)," ")}}function Pf(n,i){if(n&1){let e=A();c(0,"div",46)(1,"div",47)(2,"h5"),_(3,"\u0627\u0644\u0646\u0648\u0639"),d(),c(4,"ul",42),w(5,xf,4,2,"li",43),d()(),c(6,"div",47)(7,"h5"),_(8,"\u0639\u062F\u062F \u0627\u0644\u0637\u0648\u0627\u0628\u0642"),d(),c(9,"ul",42),w(10,Mf,4,2,"li",43),d()(),c(11,"div",47)(12,"h5"),_(13,"\u0627\u0644\u0645\u0633\u0627\u062D\u0629 (\u0645\xB2)"),d(),c(14,"div",48)(15,"label"),_(16),c(17,"input",49),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.activeBorderFilters.area.min,r)||(o.activeBorderFilters.area.min=r),y(r)}),C("input",function(){b(e);let r=h(2);return y(r.onAreaFilterChange())}),d()(),c(18,"label"),_(19),c(20,"input",49),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.activeBorderFilters.area.max,r)||(o.activeBorderFilters.area.max=r),y(r)}),C("input",function(){b(e);let r=h(2);return y(r.onAreaFilterChange())}),d()()()(),c(21,"div",47)(22,"h5"),_(23,"\u0646\u0633\u0628\u0629 \u0627\u0644\u0625\u0634\u063A\u0627\u0644 (%)"),d(),c(24,"div",48)(25,"label"),_(26),c(27,"input",49),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.activeBorderFilters.occupancy.min,r)||(o.activeBorderFilters.occupancy.min=r),y(r)}),C("input",function(){b(e);let r=h(2);return y(r.onOccupancyFilterChange())}),d()(),c(28,"label"),_(29),c(30,"input",49),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.activeBorderFilters.occupancy.max,r)||(o.activeBorderFilters.occupancy.max=r),y(r)}),C("input",function(){b(e);let r=h(2);return y(r.onOccupancyFilterChange())}),d()()()(),c(31,"button",50),C("click",function(){b(e);let r=h(2);return y(r.applyAdvancedFilters())}),_(32," \u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0641\u0644\u0627\u062A\u0631 "),d(),c(33,"button",51),C("click",function(){b(e);let r=h(2);return y(r.resetFilters())}),_(34," \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u0641\u0644\u0627\u062A\u0631 "),d(),c(35,"div",52)(36,"h5"),_(37,"\u0627\u0644\u062D\u062F\u0648\u062F \u0627\u0644\u0645\u062A\u0648\u0627\u0641\u0642\u0629:"),d(),c(38,"ul",42),w(39,Ef,4,2,"li",43),d()()()}if(n&2){let e=h(2);u(5),p("ngForOf",e.borderTypes),u(5),p("ngForOf",e.uniqueFloors),u(6),Z(" \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649: ",e.activeBorderFilters.area.min," \u0645\xB2 "),u(),vt("min",e.areaRange.min),vt("max",e.areaRange.max),ne("ngModel",e.activeBorderFilters.area.min),u(2),Z(" \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649: ",e.activeBorderFilters.area.max," \u0645\xB2 "),u(),vt("min",e.areaRange.min),vt("max",e.areaRange.max),ne("ngModel",e.activeBorderFilters.area.max),u(6),Z(" \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649: ",e.activeBorderFilters.occupancy.min,"% "),u(),vt("min",e.occupancyRange.min),vt("max",e.occupancyRange.max),ne("ngModel",e.activeBorderFilters.occupancy.min),u(2),Z(" \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649: ",e.activeBorderFilters.occupancy.max,"% "),u(),vt("min",e.occupancyRange.min),vt("max",e.occupancyRange.max),ne("ngModel",e.activeBorderFilters.occupancy.max),u(9),p("ngForOf",e.filteredBorders)}}function Of(n,i){if(n&1){let e=A();c(0,"div",5)(1,"div",6,0),C("wheel",function(r){b(e);let o=h();return y(o.onMouseWheel(r))})("click",function(r){b(e);let o=h();return y(o.addStage===5?o.onDrawBorder(r):o.onContainerClick(r))}),c(3,"div",7,1)(5,"img",8,2),C("load",function(){b(e);let r=h();return y(r.onImageLoad())})("error",function(){b(e);let r=h();return y(r.onImageError())}),d(),w(7,Zm,3,3,"div",9)(8,Jm,2,4,"svg",10),de(),c(9,"svg",11),w(10,of,2,1,"ng-container",12)(11,lf,2,1,"ng-container",12)(12,hf,2,1,"ng-container",12),d()()(),w(13,pf,5,0,"ul",13)(14,yf,22,4,"div",14)(15,Cf,5,1,"div",14)(16,Pf,40,19,"div",15),d()}if(n&2){let e=h();u(5),p("src",e.currentMapImage,Re)("alt",e.activeProject==null?null:e.activeProject.name)("ngClass",pe(16,Hm,e.addStage===1||e.addStage===2||e.addStage===5)),u(2),p("ngIf",!e.showPartProjectMap),u(),p("ngIf",e.selectedPath&&!e.showPartProjectMap),u(),Le("z-index",e.isAddingMode&&e.addStage===5?"-1 !important":"auto"),p("ngClass",pe(19,$m,e.isAddingMode&&!Hn(18,zm).includes(e.addStage))),oe("viewBox","0 0 "+e.imageWidth+" "+e.imageHeight),u(),p("ngIf",!e.showPartProjectMap&&e.addStage!==7),u(),p("ngIf",e.showPartProjectMap&&e.selectedBorderPoint&&e.selectedBorderPoint.borders&&e.addStage!==7),u(),p("ngIf",e.isAddingMode&&(e.addStage===7||e.addStage===8)&&e.projectsMap&&e.projectsMap.data),u(),p("ngIf",e.showSidebar),u(),p("ngIf",e.addStage===7&&e.selectedBorderPoint),u(),p("ngIf",!e.isAddingMode&&!e.showPartProjectMap&&e.showFilters&&!e.showPartProjectMap),u(),p("ngIf",!e.isAddingMode&&e.showPartProjectMap&&e.showFilters)}}var Ti=class n{constructor(i){this.preloaderService=i;this.preloaderService.show()}currentProject=null;newProject=null;newPointBoarder=null;isAddingMode=!1;selectedBorderPoint=null;addingPointType=null;showSidebar=!0;addStage=0;dataCleared=new F;selectedBorderPointChange=new F;selectedBuilding=new F;scrollContainer;mapContainer;projectMap;mapPoints;projectsMap={projectId:null,pointId:null,mapImage:null,data:[]};selectedProjectPoint=null;selectedPoint=null;newPath=null;showFilters=!1;isDragging=!1;offsetX=0;offsetY=0;transformX=0;transformY=0;containerScale=1;currentBorder=null;imageCache=new Map;borderTypes=["\u0633\u0643\u0646\u064A","\u062A\u062C\u0627\u0631\u064A","\u062A\u0633\u0648\u0642","\u062A\u0631\u0641\u064A\u0647","\u062E\u062F\u0645\u0627\u062A","\u0645\u0643\u0627\u062A\u0628","\u0645\u0633\u062A\u0634\u0641\u064A\u0627\u062A","\u0645\u062F\u0627\u0631\u0633","\u0645\u0633\u0627\u062C\u062F","\u0645\u0637\u0627\u0639\u0645","\u0645\u0648\u0644\u0627\u062A","\u0645\u0648\u0627\u0642\u0641"];uniqueFloors=[1,2,3,4,5,6,7,8,9,10];areaRange={min:0,max:1e4};occupancyRange={min:0,max:100};activeBorderFilters={types:this.borderTypes.reduce((i,e)=>G(M({},i),{[e]:!0}),{}),floors:[...this.uniqueFloors],area:{min:this.areaRange.min,max:this.areaRange.max},occupancy:{min:this.occupancyRange.min,max:this.occupancyRange.max}};filteredBorders=[];filterOptions=[];activeFilters={};selectedPath=[];pathDrawn=!1;currentMapImage=null;showPartProjectMap=!1;imageWidth=1;imageHeight=1;selectedProjectMap;addBuildingBorder=!1;ngOnInit(){this.initializeFilters(),this.selectFirstProjectPoint()}ngOnChanges(i){i.addStage&&this.onStageChange(),i.selectedBorderPoint&&this.selectedBorderPoint&&(this.initializeAdvancedFilters(),this.applyAdvancedFilters()),i.showPartProjectMap&&console.log(`showPartProjectMap value changed to: ${this.showPartProjectMap}`)}ngAfterViewInit(){setTimeout(()=>{this.preloaderService.hide()},2e3)}ngOnDestroy(){this.clearCachedURLs()}initializeFilters(){this.activeProject?.mapImage&&this.setShowPartProjectMap(this.getMapImageSource(this.activeProject.mapImage)),this.filterOptions=Js.filter(i=>i.type!=="project").map(i=>({type:i.type,label:this.getFilterLabel(i.type)})),this.activeFilters=this.filterOptions.reduce((i,e)=>G(M({},i),{[e.type]:!0}),{}),this.initializeAdvancedFilters()}selectFirstProjectPoint(){if(this.activeProject?.points){let i=this.activeProject.points.find(e=>e.isProject);i&&this.onPointClick(i)}}getFilterLabel(i){return{mosque:"\u0645\u0633\u0627\u062C\u062F",school:"\u0645\u062F\u0627\u0631\u0633",restaurant:"\u0645\u0637\u0627\u0639\u0645",mall:"\u0645\u0648\u0644\u0627\u062A",hospital:"\u0645\u0633\u062A\u0634\u0641\u064A\u0627\u062A"}[i]||i}initializeAdvancedFilters(){if(!this.selectedBorderPoint||!this.selectedBorderPoint.borders)return;this.borderTypes=Array.from(new Set(this.selectedBorderPoint.borders.map(t=>t.data?.type).filter(t=>t))),this.borderTypes.forEach(t=>{this.activeBorderFilters.types[t]=!0}),this.uniqueFloors=Array.from(new Set(this.selectedBorderPoint.borders.map(t=>t.data?.floors).filter(t=>t!=null))),this.activeBorderFilters.floors=[...this.uniqueFloors];let i=this.selectedBorderPoint.borders.map(t=>parseInt(t.data?.area?.replace(/\D/g,"")||"0",10)).filter(t=>!isNaN(t));this.areaRange.min=Math.min(...i,0),this.areaRange.max=Math.max(...i,1e4),this.activeBorderFilters.area.min=this.areaRange.min,this.activeBorderFilters.area.max=this.areaRange.max;let e=this.selectedBorderPoint.borders.map(t=>parseInt((t.data?.occupancy??"0").replace(/%/g,""),10)).filter(t=>!isNaN(t));this.occupancyRange.min=Math.min(...e,0),this.occupancyRange.max=Math.max(...e,100),this.activeBorderFilters.occupancy.min=this.occupancyRange.min,this.activeBorderFilters.occupancy.max=this.occupancyRange.max,this.filteredBorders=[...this.selectedBorderPoint.borders]}clearCachedURLs(){this.imageCache.forEach(i=>URL.revokeObjectURL(i)),this.imageCache.clear()}setShowPartProjectMap(i){this.preloaderService.show(),this.currentMapImage=i,setTimeout(()=>{this.autoScroll(),this.preloaderService.hide()},2e3)}autoScroll(){if(this.scrollContainer){let i=this.scrollContainer.nativeElement,e=i.clientHeight/2,t=i.clientWidth/2;if(this.currentProject?.autoScroll&&!this.showPartProjectMap){let{x:r,y:o}=this.currentProject.autoScroll,s=r/100*i.scrollWidth-t,a=o/100*i.scrollHeight-e;i.scrollLeft=-s,i.scrollTop=a}else if(this.selectedProjectMap?.autoScroll&&this.showPartProjectMap){let{x:r,y:o}=this.selectedProjectMap.autoScroll,s=r/100*i.scrollWidth-t,a=o/100*i.scrollHeight-e;i.scrollLeft=-s,i.scrollTop=a}}}onImageLoad(){this.autoScroll();let i=this.projectMap.nativeElement;this.imageWidth=i.naturalWidth,this.imageHeight=i.naturalHeight}onImageError(){console.error("Failed to load image.")}getPointClass(i){let e=Js.find(t=>t.type===i);return e?e.class:""}clearData(){if(this.showPartProjectMap&&this.activeProject){this.setShowPartProjectMap(this.getMapImageSource(this.activeProject.mapImage)),this.showPartProjectMap=!1;return}this.clearCachedURLs(),this.selectedBorderPoint=null,this.activeProject?.mapImage&&this.setShowPartProjectMap(this.getMapImageSource(this.activeProject.mapImage)),this.currentProject=null,this.selectedPath=[],this.dataCleared.emit()}get activeProject(){return this.isAddingMode?this.newProject:this.currentProject}applyFilters(){this.currentProject?.points&&this.currentProject.points.forEach(i=>{i.type==="project"?i.visible=!0:i.visible=this.activeFilters[i.type]||!1})}onFilterChange(i,e){let t=e.target.checked;this.activeFilters[i]=t,this.applyFilters()}toggleBorderVisibility(i,e,t){let r=t.target.checked;i.visible=r}toggleFilters(){this.showFilters=!this.showFilters}getBorderPoints(i){return!i||i.length===0?"":i.map(e=>`${e.x/100*this.imageWidth},${e.y/100*this.imageHeight}`).join(" ")}onBorderClick(i,e){this.isAddingMode?this.handleAddModeBorderClick(i,e):this.handleNonAddModeBorderClick(i,e),this.selectedBorderPointChange.emit(this.selectedBorderPoint)}onPointBorderClick(i,e){let t=Br.find(r=>r.id===1);t?this.selectedBuilding.emit(t):this.selectedBuilding.emit(null)}handleAddModeBorderClick(i,e){this.addStage===6&&(this.selectedBorderPoint=i)}handleNonAddModeBorderClick(i,e){this.selectedProjectMap=yd.find(t=>t.projectId===this.activeProject?.id&&t.pointId===i.id),this.selectedProjectMap?(this.setShowPartProjectMap(this.selectedProjectMap.mapImage),this.showPartProjectMap=!0,this.selectedBorderPoint=G(M({},i),{borders:this.selectedProjectMap.data[0]?.borders||[]}),this.resetFilters()):console.error("No map found for the selected project and point:",i)}onStageChange(i){this.handleStageChange(i)}handleAddModePointClick(i,e){this.addStage<=3&&(this.newProject&&this.newProject.points&&this.addStage===1&&i.isProject&&(this.newProject.points=this.newProject.points.filter(t=>t.id!==i.id)),this.newProject&&this.newProject.points&&this.addStage===2&&i.importance===1&&(this.newProject.points=this.newProject.points.filter(t=>t.id!==i.id)),this.newProject&&this.newProject.points&&this.addStage===3&&i.importance===0&&(this.newProject.points=this.newProject.points.filter(t=>t.id!==i.id))),this.addStage===4&&(i.isProject?this.selectedProjectPoint!==i&&(this.selectedProjectPoint=i,this.pathDrawn=!1):this.selectedPoint!==i&&(this.selectedPoint=i,this.pathDrawn=!1),this.handleAddStage4PointClick(i)),this.addStage===5&&this.handleAddStage5PointClick(i,e)}handleViewModePointClick(i,e){i.isProject?(this.selectedPath=[],this.selectedProjectPoint=i,this.selectedPoint=null):(this.selectedPath=[],this.selectedPoint=i),this.selectedProjectPoint&&this.selectedPoint&&this.drawPath()}onMouseWheel(i){if(!i.ctrlKey)return;i.preventDefault();let e=this.scrollContainer.nativeElement,t=this.mapContainer.nativeElement,r=.1,o=i.deltaY>0,s=this.containerScale+(o?-r:r);s=Math.max(.5,Math.min(2,s)),t.style.zoom=`${s}`,this.mapPoints.forEach(a=>{a.nativeElement.style.zoom=`${1/s}`})}onContainerClick(i){this.isAddingMode&&this.handleAddModeContainerClick(i)}onPointClick(i,e){e&&e.stopPropagation(),this.isAddingMode?this.handleAddModePointClick(i,e):this.handleViewModePointClick(i,e)}drawPath(){if(!this.activeProject||!this.selectedProjectPoint||!this.selectedPoint)return;let i=this.activeProject.points.find(r=>r.isProject);if(!i||!i.paths)return;let e=i.paths.find(r=>r.point.id===this.selectedPoint.id);if(!e)return;let t=e.path.map((r,o)=>`${o===0?"M":"L"} ${r.x/100*this.imageWidth},${r.y/100*this.imageHeight}`).join(" ");this.selectedPath=[{d:t}]}getMapImageSource(i){if(!i)return null;if(typeof i=="string")return i;if(i instanceof File){if(!this.imageCache.has(i)){let e=URL.createObjectURL(i);this.imageCache.set(i,e)}return this.imageCache.get(i)||null}return null}applyAdvancedFilters(){if(!this.selectedBorderPoint||!this.selectedBorderPoint.borders){this.filteredBorders=[];return}this.filteredBorders=this.selectedBorderPoint.borders.filter(i=>{let e=i.data?.type,t=i.data?.floors,r=i.data?.area,o=r?parseInt(r.replace(/\D/g,""),10):0,s=i.data?.occupancy,a=s?parseInt(s.replace(/%/g,""),10):0;return(!e||this.activeBorderFilters.types[e])&&(!t||this.activeBorderFilters.floors.includes(t))&&o>=this.activeBorderFilters.area.min&&o<=this.activeBorderFilters.area.max&&a>=this.activeBorderFilters.occupancy.min&&a<=this.activeBorderFilters.occupancy.max}),console.log("Filtered Borders:",this.filteredBorders)}resetFilters(){!this.selectedBorderPoint||!this.selectedBorderPoint.borders||(this.borderTypes.forEach(i=>{this.activeBorderFilters.types[i]=!0}),this.activeBorderFilters.floors=[...this.uniqueFloors],this.activeBorderFilters.area.min=this.areaRange.min,this.activeBorderFilters.area.max=this.areaRange.max,this.activeBorderFilters.occupancy.min=this.occupancyRange.min,this.activeBorderFilters.occupancy.max=this.occupancyRange.max,this.filteredBorders=[...this.selectedBorderPoint.borders])}handleAddModeContainerClick(i){let t=this.projectMap.nativeElement.getBoundingClientRect(),r=i.clientX-t.left,o=i.clientY-t.top,s=r/t.width*100,a=o/t.height*100;this.addStage<=3?this.addNewPoint(s,a):this.addStage===4?this.handleAddStage4ContainerClick(s,a,i):this.addStage===5?this.handleAddStage5ContainerClick(s,a,i):this.addStage===7&&this.addBuildingBorder&&this.handleAddStage7ContainerClick(s,a,i)}addNewPoint(i,e){let t={id:Date.now(),name:this.activeProject?.name,type:"project",importance:2,logo:this.activeProject?.logo,isProject:!0,position:{x:i,y:e},visible:!0,borders:[],paths:[]};this.addStage===2?(t.importance=1,t.name="\u0627\u0633\u0645 \u0627\u0644\u0646\u0642\u0637\u0629",t.isProject=!1):this.addStage===3&&(t.importance=0,t.name="\u0627\u0633\u0645 \u0627\u0644\u0646\u0642\u0637\u0629",t.type=this.addingPointType,t.logo=null,t.isProject=!1),this.newProject?(this.newProject.points=this.newProject.points||[],this.newProject.points.push(t)):this.newProject={id:null,name:"",mapImage:null,points:[t]}}handleAddStage4PointClick(i){if(this.selectedPoint&&this.selectedProjectPoint&&!this.pathDrawn){let e=this.selectedProjectPoint.paths?.find(t=>t.point.id===this.selectedPoint.id);e?this.useExistingPath(e.path):this.initializePath(this.selectedProjectPoint,this.selectedPoint)}else i===this.selectedProjectPoint&&this.selectedPoint&&this.pathDrawn?this.resetPath(this.selectedProjectPoint,this.selectedPoint):i===this.selectedPoint&&this.pathDrawn&&this.finalizePath()}handleAddStage5PointClick(i,e){i.isProject?this.selectedProjectPoint!==i?this.selectedProjectPoint=i:this.selectedProjectPoint&&(this.selectedProjectPoint.borders=[],this.selectedProjectPoint.pointMap=null):console.warn("Only project points can be selected in Stage 5.")}handleAddStage4ContainerClick(i,e,t){if(this.selectedProjectPoint&&this.selectedPoint){this.newPath?this.addIntermediatePointToPath(i,e):this.checkOrCreatePathForStage4();let r=this.newPath?.map((o,s)=>`${s===0?"M":"L"} ${o.x/100*this.imageWidth},${o.y/100*this.imageHeight}`).join(" ");this.selectedPath=r?[{d:r}]:[],this.pathDrawn=!0}}handleAddStage5ContainerClick(i,e,t){this.selectedProjectPoint&&(this.selectedProjectPoint.borders?.length||(this.selectedProjectPoint.borders=[{Cordinates:[],visible:!0,color:"blue",data:{name:"\u0627\u0633\u0645 \u0627\u0644\u062D\u062F"}}]),this.selectedProjectPoint.borders[this.selectedProjectPoint.borders.length-1].Cordinates.push({x:i,y:e}))}handleAddStage7ContainerClick(i,e,t){this.projectsMap&&((!this.projectsMap.data||this.projectsMap.data.length===0)&&(this.projectsMap.data=[{borders:[]}]),this.currentBorder||(this.currentBorder={Cordinates:[],visible:!0,color:"blue",data:{name:"\u0627\u0633\u0645 \u0627\u0644\u062D\u062F"}},this.projectsMap.data[0].borders.push(this.currentBorder)),this.currentBorder&&this.currentBorder.Cordinates.push({x:i,y:e}),console.log("Added new coordinate: ",{x:i,y:e}))}useExistingPath(i){this.newPath=i.map(t=>({x:t.x,y:t.y}));let e=this.newPath.map((t,r)=>`${r===0?"M":"L"} ${t.x/100*this.imageWidth},${t.y/100*this.imageHeight}`).join(" ");this.selectedPath=[{d:e}],this.pathDrawn=!0}initializePath(i,e){this.newPath=[i.position,e.position];let t=this.newPath.map((r,o)=>`${o===0?"M":"L"} ${r.x/100*this.imageWidth},${r.y/100*this.imageHeight}`).join(" ");this.selectedPath=[{d:t}],this.pathDrawn=!0}resetPath(i,e){this.newPath=[i.position,e.position];let t=this.newPath.map((r,o)=>`${o===0?"M":"L"} ${r.x/100*this.imageWidth},${r.y/100*this.imageHeight}`).join(" ");this.selectedPath=[{d:t}]}finalizePath(){if(!this.newPath)return;let i=this.newProject?.points?.find(e=>e.id===this.selectedProjectPoint.id);if(i){i.paths||(i.paths=[]);let e=i.paths.findIndex(t=>t.point.id===this.selectedPoint.id);e!==-1?i.paths[e].path=this.newPath.map((t,r)=>({id:r+1,x:t.x,y:t.y})):i.paths.push({point:this.selectedPoint,path:this.newPath.map((t,r)=>({id:r+1,x:t.x,y:t.y}))}),this.selectedPoint=null,this.newPath=null,this.selectedPath=[],this.pathDrawn=!1}}checkOrCreatePathForStage4(){let i=this.currentProject?.points.find(e=>e.isProject);if(i&&i.paths){let e=i.paths.find(t=>t.point.id===this.selectedPoint.id);e?this.useExistingPath(e.path):this.initializePath(this.selectedProjectPoint,this.selectedPoint)}else this.initializePath(this.selectedProjectPoint,this.selectedPoint)}addIntermediatePointToPath(i,e){if(!this.newPath)return;let t={x:i,y:e};this.newPath.splice(this.newPath.length-1,0,t)}handleStageChange(i){this.selectedProjectPoint=null,this.selectedPoint=null,this.pathDrawn=!1,this.newPath=null,this.selectedPath=[],this.addStage===7?this.showPartProjectMap||(this.showPartProjectMap=!0,this.setShowPartProjectMap(this.selectedBorderPoint?.pointMap||null)):this.showPartProjectMap&&(this.showPartProjectMap=!1,this.setShowPartProjectMap(this.activeProject?.mapImage||null));let e=t=>{t?.forEach(r=>{this.addStage===5?r.visible=r.isProject:this.addStage===6?r.visible=!1:r.visible=!0})};e(this.newProject?.points),e(this.currentProject?.points),console.log("Updated points visibility for stage:",this.addStage)}onDrawBorder(i){if(this.addStage===7&&this.selectedBorderPoint){let t=this.projectMap.nativeElement.getBoundingClientRect(),r=i.clientX-t.left,o=i.clientY-t.top,s=r/t.width*100,a=o/t.height*100;this.selectedBorderPoint.borders?.length||(this.selectedBorderPoint.borders=[{Cordinates:[],visible:!0,color:"blue",data:{name:"\u0627\u0633\u0645 \u0627\u0644\u062D\u062F"}}]),this.selectedBorderPoint.borders[0].Cordinates.push({x:s,y:a}),console.log("Added new border point:",{x:s,y:a})}else{if(!this.selectedProjectPoint){console.warn("No project point selected for drawing borders.");return}let t=this.projectMap.nativeElement.getBoundingClientRect(),r=i.clientX-t.left,o=i.clientY-t.top,s=r/t.width*100,a=o/t.height*100;this.selectedProjectPoint.borders?.length||(this.selectedProjectPoint.borders=[{Cordinates:[],visible:!0,color:"blue",data:{name:"\u0627\u0633\u0645 \u0627\u0644\u062D\u062F"}}]),this.selectedProjectPoint.borders[0].Cordinates.push({x:s,y:a}),console.log("Updated borders for selected point:",this.selectedProjectPoint.borders)}}onBorderColorChange(i,e){let t=e.target.value;i.color=t,console.log("Updated border color:",i.color)}removeBorder(i,e){i.borders&&i.borders.length>e?(i.borders.splice(e,1),console.log("Border removed at index:",e)):console.error("Invalid border index or data:",e,i)}toggleDrawingBuildingBorder(){this.addBuildingBorder=!this.addBuildingBorder}finishCurrentBorder(){this.currentBorder?(console.log("Finishing current border with coords:",this.currentBorder.Cordinates),this.projectsMap.data&&console.log("Borders:",this.projectsMap.data[0].borders),this.currentBorder=null):console.warn("No border is currently in progress to finish!")}onTypeFilterChange(i,e){let t=e.target.checked;this.activeBorderFilters.types[i]=t,this.applyAdvancedFilters()}onFloorFilterChange(i,e){e.target.checked?this.activeBorderFilters.floors.push(i):this.activeBorderFilters.floors=this.activeBorderFilters.floors.filter(r=>r!==i),this.applyAdvancedFilters()}onAreaFilterChange(){this.activeBorderFilters.area.min>this.activeBorderFilters.area.max&&(this.activeBorderFilters.area.min=this.activeBorderFilters.area.max),this.applyAdvancedFilters()}onOccupancyFilterChange(){this.activeBorderFilters.occupancy.min>this.activeBorderFilters.occupancy.max&&(this.activeBorderFilters.occupancy.min=this.activeBorderFilters.occupancy.max),this.applyAdvancedFilters()}getTypeLabel(i){return{\u0633\u0643\u0646\u064A:"\u0633\u0643\u0646\u064A",\u062A\u062C\u0627\u0631\u064A:"\u062A\u062C\u0627\u0631\u064A",\u0639\u064A\u0627\u062F\u0627\u062A:"\u0639\u064A\u0627\u062F\u0627\u062A",\u062A\u0633\u0648\u0642:"\u062A\u0633\u0648\u0642"}[i]||i}static \u0275fac=function(e){return new(e||n)(P(lt))};static \u0275cmp=H({type:n,selectors:[["app-projects-dashboard"]],viewQuery:function(e,t){if(e&1&&(K(Nm,5),K(jm,5),K(Bm,5),K(Um,5)),e&2){let r;z(r=$())&&(t.scrollContainer=r.first),z(r=$())&&(t.mapContainer=r.first),z(r=$())&&(t.projectMap=r.first),z(r=$())&&(t.mapPoints=r)}},inputs:{currentProject:"currentProject",newProject:"newProject",newPointBoarder:"newPointBoarder",isAddingMode:"isAddingMode",selectedBorderPoint:"selectedBorderPoint",addingPointType:"addingPointType",showSidebar:"showSidebar",addStage:"addStage",projectsMap:"projectsMap"},outputs:{dataCleared:"dataCleared",selectedBorderPointChange:"selectedBorderPointChange",selectedBuilding:"selectedBuilding"},features:[Ce],decls:1,vars:1,consts:[["scrollContainer",""],["mapContainer",""],["projectMap",""],["mapPoint",""],["class","image-container",4,"ngIf"],[1,"image-container"],[1,"scroll-container",3,"wheel","click"],[1,"map-container"],[3,"load","error","src","alt","ngClass"],["style",`
          position: absolute;
          top: 0;
          right: 0;
          width: 100%;
          height: 100%;
          overflow: hidden;`,3,"z-index",4,"ngIf"],["class","path-svg",3,"z-index",4,"ngIf"],[1,"borders-svg",2,"position","absolute","top","0","left","0","width","100%","height","100%",3,"ngClass"],[4,"ngIf"],["class","list-group side-bar",4,"ngIf"],["class","filters",4,"ngIf"],["class","filters","style",`
    max-height: 500px;
    overflow-y: auto;
    overflow-x: hidden;
  `,4,"ngIf"],[2,"position","absolute","top","0","right","0","width","100%","height","100%","overflow","hidden"],[1,"points-dashboard"],["class","point",3,"left","top","ngClass","click",4,"ngFor","ngForOf"],[1,"point",3,"click","ngClass"],[3,"class","id",4,"ngIf"],["alt","Project Logo",3,"src","ngClass",4,"ngIf"],[3,"id"],["alt","Project Logo",3,"src","ngClass"],[1,"path-svg"],["fill","none","stroke","white","stroke-width","0.1%","class","animated-path",4,"ngFor","ngForOf"],["fill","none","stroke","white","stroke-width","0.1%",1,"animated-path"],[4,"ngFor","ngForOf"],["fill","rgba(0, 0, 255, 0.2)","stroke","blue","stroke-width","2",3,"stroke","fill","click",4,"ngIf"],["fill","rgba(0, 0, 255, 0.2)","stroke","blue","stroke-width","2",3,"click"],["fill","rgba(0, 0, 255, 0.2)","stroke","blue","stroke-width","2",3,"ngClass","stroke","fill","click",4,"ngIf"],["fill","rgba(0, 0, 255, 0.2)","stroke","blue","stroke-width","2",3,"click","ngClass"],[1,"list-group","side-bar"],[1,"list-group-item",3,"click"],[1,"fa-solid","fa-circle-chevron-left"],[1,"fa-solid","fa-filter"],[1,"filters"],["class","project-map",4,"ngIf"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"project-map"],["alt","Project Map Preview",1,"preview-img",3,"src"],["type","text",1,"form-control","ng-pristine","ng-valid","ng-touched",3,"input","value"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],["type","checkbox","checked","true",3,"change"],[1,"filters",2,"max-height","500px","overflow-y","auto","overflow-x","hidden"],[1,"filter-section"],[1,"slider-container"],["type","range",3,"ngModelChange","input","min","max","ngModel"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"btn","btn-secondary","mt-3","ml-2",3,"click"],[1,"filtered-borders","mt-4"],["type","checkbox",3,"change","checked"]],template:function(e,t){e&1&&w(0,Of,17,21,"div",4),e&2&&p("ngIf",t.currentMapImage)},dependencies:[ye,it,nt,Ee,Ht,qe,Ys,at,Et],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(to bottom,#f2de77,#a65c1c,#bf9341);border:1.5px solid #F7F7F7}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(to bottom,#f2de77,#a65c1c,#bf9341)}[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:transparent}body[_ngcontent-%COMP%]{background-color:#202a54;color:#a65c1c;scrollbar-width:thin;scrollbar-color:linear-gradient(to bottom,#F2DE77,#A65C1C,#BF9341) #F7F7F7}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;margin:0;overflow:hidden;display:block;direction:rtl}p[_ngcontent-%COMP%]{margin:0}.input-group.mb-3[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], ul.list-group[_ngcontent-%COMP%]{border-radius:0!important}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{color:#ccc!important;border-color:#ccc!important;background:transparent!important}li[_ngcontent-%COMP%]{cursor:pointer}input[_ngcontent-%COMP%]::placeholder{color:#767676!important}button[_ngcontent-%COMP%]:hover, li[_ngcontent-%COMP%]:hover{color:#ccc!important;background:linear-gradient(to left,#f2de77,#a65c1c,#bf9341)!important;border-color:#ccc!important}button[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus, li[_ngcontent-%COMP%]:focus{box-shadow:none!important}.list-group[_ngcontent-%COMP%]{padding:0}input[type=checkbox][_ngcontent-%COMP%]{background-color:transparent;border-radius:3px;border:1px solid #F7F7F7;width:16px;height:16px;appearance:none}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#a65c1c!important}polygon[_ngcontent-%COMP%]{pointer-events:all;cursor:pointer;stroke-opacity:.5;stroke-width:.3;fill-opacity:.3;transition:opacity .3s ease-in-out}polygon[_ngcontent-%COMP%]:hover{opacity:0}.logo[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flipAnimation 10s infinite linear}@keyframes _ngcontent-%COMP%_flipAnimation{0%{transform:rotateX(0) rotateY(0)}80%{transform:rotateX(0) rotateY(0)}90%{transform:rotateX(0) rotateY(180deg)}to{transform:rotateX(0) rotateY(0)}}@keyframes _ngcontent-%COMP%_lightSlide{95%{background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.8) 50%,transparent 100%);background-position:-200%}to{background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.8) 50%,transparent 100%);background-position:200%}}@keyframes _ngcontent-%COMP%_lightSlide{95%{transform:translate(-150%);opacity:.1}97.5%{opacity:.5}to{transform:translate(150%);opacity:0}}.light-effect[_ngcontent-%COMP%]{position:relative;display:inline-block;background:#555;color:#fff;font-size:24px;padding:20px;border-radius:5px;overflow:hidden}.light-effect[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:50%;height:100%;background:#ffffff80;box-shadow:0 0 20px 10px #fff3;transform:translate(-150%);animation:_ngcontent-%COMP%_lightSlide 15s linear infinite;pointer-events:none}.click-through[_ngcontent-%COMP%]{pointer-events:none!important}.image-container[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;top:0;left:0;overflow:hidden;background:#202a54}.map-image[_ngcontent-%COMP%]{width:fit-content;height:fit-content;max-width:2000px;-webkit-user-select:none;user-select:none;object-fit:cover;transform-origin:center center;transition:transform .2s ease;position:relative;z-index:-2}.points-dashboard[_ngcontent-%COMP%]{min-width:100%;min-height:100%;display:block;position:relative}.image-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.side-bar[_ngcontent-%COMP%]{position:absolute;background:#202a54;left:0;top:0}.side-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-width:0 0 1px 0!important}.point[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%,-50%);cursor:pointer;left:40%;top:80%;background:linear-gradient(to left,#f2de77,#a65c1c,#bf9341);width:25px;height:auto;aspect-ratio:1;object-fit:contain;border-radius:50%;opacity:.9;pointer-events:all;display:flex;justify-content:center;align-content:center;flex-direction:column;transition:all .3s ease-in-out}.point.isProject[_ngcontent-%COMP%]{background:#fff;width:50px;border-radius:0;padding:5px}.point.isProject[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.point.isProject[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#202a54}.point.isMega[_ngcontent-%COMP%]{background:#00000081;width:50px;padding:9px}.point.selected-effect[_ngcontent-%COMP%]{border:#202A54 2px double}.point[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;color:#fff;pointer-events:none}.point[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;aspect-ratio:1;object-fit:contain;filter:grayscale(100%) contrast(150%)}.point[_ngcontent-%COMP%]:hover{opacity:1;width:30px}.point[_ngcontent-%COMP%]:hover.isProject, .point[_ngcontent-%COMP%]:hover.isMega{width:45px}.scroll-container[_ngcontent-%COMP%]{height:100%;width:100%;overflow:scroll;scrollbar-width:none}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.map-container[_ngcontent-%COMP%]{position:relative;width:fit-content;height:fit-content;min-width:fit-content;min-height:fit-content;pointer-events:none}.path-svg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;pointer-events:none;width:100%;height:100%;z-index:-1}.pointer[_ngcontent-%COMP%]{cursor:pointer!important}.nonVisible[_ngcontent-%COMP%]{display:none}.filters[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background:#202a54;padding:20px 0;width:fit-content;max-height:80%;overflow:auto}.filters[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:none;width:100%;text-align:right;cursor:default;padding:0}.filters[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;width:100%;padding:8px 16px 8px 60px;display:flex;flex-direction:row;align-items:center;gap:10px}.filters[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.animated-path[_ngcontent-%COMP%]{stroke-dasharray:9999;stroke-dashoffset:9999;animation:_ngcontent-%COMP%_draw 3s linear forwards}@keyframes _ngcontent-%COMP%_draw{to{stroke-dashoffset:0}}']})};var Ue=typeof window<"u"?window:{screen:{},navigator:{}},Ii=(Ue.matchMedia||function(){return{matches:!1}}).bind(Ue),wd=!1,Sf={get passive(){return wd=!0}},Cd=function(){};Ue.addEventListener&&Ue.addEventListener("p",Cd,Sf);Ue.removeEventListener&&Ue.removeEventListener("p",Cd,!1);var Hr=wd,xy="PointerEvent"in Ue,ta="ontouchstart"in Ue,Tf="TouchEvent"in Ue,If=ta||Tf&&Ii("(any-pointer: coarse)").matches,My=(Ue.navigator.maxTouchPoints||0)>0||If,xd=Ue.navigator.userAgent||"",Df=Ii("(pointer: coarse)").matches&&/iPad|Macintosh/.test(xd)&&Math.min(Ue.screen.width||0,Ue.screen.height||0)>=768,Ey=(Ii("(pointer: coarse)").matches||!Ii("(pointer: fine)").matches&&ta)&&!/Windows.*Firefox/.test(xd),Py=Ii("(any-pointer: fine)").matches||Ii("(any-hover: hover)").matches||Df||!ta;var Af=(n,i,e)=>({tooltip:n,placement:i,content:e});function kf(n,i){}function Rf(n,i){n&1&&w(0,kf,0,0,"ng-template")}function Ff(n,i){if(n&1&&(ge(0),w(1,Rf,1,0,null,1),_e()),n&2){let e=h();u(),p("ngTemplateOutlet",e.template)("ngTemplateOutletContext",il(2,Af,e.tooltip,e.placement,e.content))}}function Lf(n,i){if(n&1&&(ge(0),c(1,"div",2),_(2),d(),_e()),n&2){let e=h();u(),oe("title",e.tooltip)("data-tooltip-placement",e.placement),u(),Z(" ",e.content," ")}}var Vf=["tooltipTemplate"],Nf=["leftOuterSelectionBar"],jf=["rightOuterSelectionBar"],Bf=["fullBar"],Uf=["selectionBar"],Hf=["minHandle"],zf=["maxHandle"],$f=["floorLabel"],Wf=["ceilLabel"],Gf=["minHandleLabel"],qf=["maxHandleLabel"],Qf=["combinedLabel"],Yf=["ticksElement"],Kf=n=>({"ngx-slider-selected":n});function Zf(n,i){if(n&1&&E(0,"ngx-slider-tooltip-wrapper",32),n&2){let e=h().$implicit,t=h();p("template",t.tooltipTemplate)("tooltip",e.valueTooltip)("placement",e.valueTooltipPlacement)("content",e.value)}}function Xf(n,i){if(n&1&&E(0,"span",33),n&2){let e=h().$implicit;p("innerText",e.legend)}}function Jf(n,i){if(n&1&&E(0,"span",34),n&2){let e=h().$implicit;p("innerHTML",e.legend,Ya)}}function eg(n,i){if(n&1&&(c(0,"span",27),E(1,"ngx-slider-tooltip-wrapper",28),w(2,Zf,1,4,"ngx-slider-tooltip-wrapper",29)(3,Xf,1,1,"span",30)(4,Jf,1,1,"span",31),d()),n&2){let e=i.$implicit,t=h();p("ngClass",pe(8,Kf,e.selected))("ngStyle",e.style),u(),p("template",t.tooltipTemplate)("tooltip",e.tooltip)("placement",e.tooltipPlacement),u(),p("ngIf",e.value!==null&&e.value!==void 0),u(),p("ngIf",e.legend!==null&&e.legend!==void 0&&t.allowUnsafeHtmlInSlider===!1),u(),p("ngIf",e.legend!==null&&e.legend!==void 0&&(t.allowUnsafeHtmlInSlider===null||t.allowUnsafeHtmlInSlider===void 0||t.allowUnsafeHtmlInSlider))}}var dt=function(n){return n[n.Low=0]="Low",n[n.High=1]="High",n[n.Floor=2]="Floor",n[n.Ceil=3]="Ceil",n[n.TickValue=4]="TickValue",n}(dt||{}),Ai=class{floor=0;ceil=null;step=1;minRange=null;maxRange=null;pushRange=!1;minLimit=null;maxLimit=null;translate=null;combineLabels=null;getLegend=null;getStepLegend=null;stepsArray=null;bindIndexForStepsArray=!1;draggableRange=!1;draggableRangeOnly=!1;showSelectionBar=!1;showSelectionBarEnd=!1;showSelectionBarFromValue=null;showOuterSelectionBars=!1;hidePointerLabels=!1;hideLimitLabels=!1;autoHideLimitLabels=!0;readOnly=!1;disabled=!1;showTicks=!1;showTicksValues=!1;tickStep=null;tickValueStep=null;ticksArray=null;ticksTooltip=null;ticksValuesTooltip=null;vertical=!1;getSelectionBarColor=null;getTickColor=null;getPointerColor=null;keyboardSupport=!0;scale=1;rotate=0;enforceStep=!0;enforceRange=!0;enforceStepsArray=!0;noSwitching=!1;onlyBindHandles=!1;rightToLeft=!1;reversedControls=!1;boundPointerLabels=!0;logScale=!1;customValueToPosition=null;customPositionToValue=null;precisionLimit=12;selectionBarGradient=null;ariaLabel="ngx-slider";ariaLabelledBy=null;ariaLabelHigh="ngx-slider-max";ariaLabelledByHigh=null;handleDimension=null;barDimension=null;animate=!0;animateOnMove=!1},Md=new I("AllowUnsafeHtmlInSlider"),O=function(n){return n[n.Min=0]="Min",n[n.Max=1]="Max",n}(O||{}),na=class{value;highValue;pointerType},v=class{static isNullOrUndefined(i){return i==null}static areArraysEqual(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(i[t]!==e[t])return!1;return!0}static linearValueToPosition(i,e,t){let r=t-e;return(i-e)/r}static logValueToPosition(i,e,t){i=Math.log(i),e=Math.log(e),t=Math.log(t);let r=t-e;return(i-e)/r}static linearPositionToValue(i,e,t){return i*(t-e)+e}static logPositionToValue(i,e,t){e=Math.log(e),t=Math.log(t);let r=i*(t-e)+e;return Math.exp(r)}static findStepIndex(i,e){let t=e.map(o=>Math.abs(i-o.value)),r=0;for(let o=0;o<e.length;o++)t[o]!==t[r]&&t[o]<t[r]&&(r=o);return r}},ut=class{static isTouchEvent(i){return window.TouchEvent!==void 0?i instanceof TouchEvent:i.touches!==void 0}static isResizeObserverAvailable(){return window.ResizeObserver!==void 0}},me=class{static roundToPrecisionLimit(i,e){return+i.toPrecision(e)}static isModuloWithinPrecisionLimit(i,e,t){let r=Math.pow(10,-t);return Math.abs(i%e)<=r||Math.abs(Math.abs(i%e)-e)<=r}static clampToRange(i,e,t){return Math.min(Math.max(i,e),t)}},zr=class{eventName=null;events=null;eventsSubscription=null;teardownCallback=null},$r=class{renderer;constructor(i){this.renderer=i}attachPassiveEventListener(i,e,t,r){if(Hr!==!0)return this.attachEventListener(i,e,t,r);let o=new zr;o.eventName=e,o.events=new B;let s=a=>{o.events.next(a)};return i.addEventListener(e,s,{passive:!0,capture:!1}),o.teardownCallback=()=>{i.removeEventListener(e,s,{passive:!0,capture:!1})},o.eventsSubscription=o.events.pipe(v.isNullOrUndefined(r)?le(()=>{}):Co(r,void 0,{leading:!0,trailing:!0})).subscribe(a=>{t(a)}),o}detachEventListener(i){v.isNullOrUndefined(i.eventsSubscription)||(i.eventsSubscription.unsubscribe(),i.eventsSubscription=null),v.isNullOrUndefined(i.events)||(i.events.complete(),i.events=null),v.isNullOrUndefined(i.teardownCallback)||(i.teardownCallback(),i.teardownCallback=null)}attachEventListener(i,e,t,r){let o=new zr;o.eventName=e,o.events=new B;let s=a=>{o.events.next(a)};return o.teardownCallback=this.renderer.listen(i,e,s),o.eventsSubscription=o.events.pipe(v.isNullOrUndefined(r)?le(()=>{}):Co(r,void 0,{leading:!0,trailing:!0})).subscribe(a=>{t(a)}),o}},zt=(()=>{class n{elemRef;renderer;changeDetectionRef;_position=0;get position(){return this._position}_dimension=0;get dimension(){return this._dimension}_alwaysHide=!1;get alwaysHide(){return this._alwaysHide}_vertical=!1;get vertical(){return this._vertical}_scale=1;get scale(){return this._scale}_rotate=0;get rotate(){return this._rotate}opacity=1;visibility="visible";left="";bottom="";height="";width="";transform="";eventListenerHelper;eventListeners=[];constructor(e,t,r){this.elemRef=e,this.renderer=t,this.changeDetectionRef=r,this.eventListenerHelper=new $r(this.renderer)}setAlwaysHide(e){this._alwaysHide=e,e?this.visibility="hidden":this.visibility="visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return this.alwaysHide?!1:this.opacity!==0}setVertical(e){this._vertical=e,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(e){this._scale=e}setRotate(e){this._rotate=e,this.transform="rotate("+e+"deg)"}getRotate(){return this._rotate}setPosition(e){this._position!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=e,this._vertical?this.bottom=Math.round(e)+"px":this.left=Math.round(e)+"px"}calculateDimension(){let e=this.getBoundingClientRect();this.vertical?this._dimension=(e.bottom-e.top)*this.scale:this._dimension=(e.right-e.left)*this.scale}setDimension(e){this._dimension!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=e,this._vertical?this.height=Math.round(e)+"px":this.width=Math.round(e)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(e,t,r){let o=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,e,t,r);this.eventListeners.push(o)}onPassive(e,t,r){let o=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,e,t,r);this.eventListeners.push(o)}off(e){let t,r;v.isNullOrUndefined(e)?(t=[],r=this.eventListeners):(t=this.eventListeners.filter(o=>o.eventName!==e),r=this.eventListeners.filter(o=>o.eventName===e));for(let o of r)this.eventListenerHelper.detachEventListener(o);this.eventListeners=t}isRefDestroyed(){return v.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}static \u0275fac=function(t){return new(t||n)(P(Y),P($e),P(Se))};static \u0275dir=k({type:n,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(t,r){t&2&&Le("opacity",r.opacity)("visibility",r.visibility)("left",r.left)("bottom",r.bottom)("height",r.height)("width",r.width)("transform",r.transform)},standalone:!1})}return n})(),ia=(()=>{class n extends zt{active=!1;role="";tabindex="";ariaOrientation="";ariaLabel="";ariaLabelledBy="";ariaValueNow="";ariaValueText="";ariaValueMin="";ariaValueMax="";focus(){this.elemRef.nativeElement.focus()}focusIfNeeded(){document.activeElement!==this.elemRef.nativeElement&&this.elemRef.nativeElement.focus()}constructor(e,t,r){super(e,t,r)}static \u0275fac=function(t){return new(t||n)(P(Y),P($e),P(Se))};static \u0275dir=k({type:n,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(t,r){t&2&&(oe("role",r.role)("tabindex",r.tabindex)("aria-orientation",r.ariaOrientation)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy)("aria-valuenow",r.ariaValueNow)("aria-valuetext",r.ariaValueText)("aria-valuemin",r.ariaValueMin)("aria-valuemax",r.ariaValueMax),fe("ngx-slider-active",r.active))},standalone:!1,features:[ie]})}return n})(),Di=(()=>{class n extends zt{allowUnsafeHtmlInSlider;_value=null;get value(){return this._value}constructor(e,t,r,o){super(e,t,r),this.allowUnsafeHtmlInSlider=o}setValue(e){let t=!1;!this.alwaysHide&&(v.isNullOrUndefined(this.value)||this.value.length!==e.length||this.value.length>0&&this.dimension===0)&&(t=!0),this._value=e,this.allowUnsafeHtmlInSlider===!1?this.elemRef.nativeElement.innerText=e:this.elemRef.nativeElement.innerHTML=e,t&&this.calculateDimension()}static \u0275fac=function(t){return new(t||n)(P(Y),P($e),P(Se),P(Md,8))};static \u0275dir=k({type:n,selectors:[["","ngxSliderLabel",""]],standalone:!1,features:[ie]})}return n})(),tg=(()=>{class n{template;tooltip;placement;content;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=H({type:n,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},standalone:!1,decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(t,r){t&1&&w(0,Ff,2,6,"ng-container",0)(1,Lf,3,3,"ng-container",0),t&2&&(p("ngIf",r.template),u(),p("ngIf",!r.template))},dependencies:[Ee,pl],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]})}return n})(),ra=class{selected=!1;style={};tooltip=null;tooltipPlacement=null;value=null;valueTooltip=null;valueTooltipPlacement=null;legend=null},Wr=class{active=!1;value=0;difference=0;position=0;lowLimit=0;highLimit=0},ki=class{value;highValue;static compare(i,e){return v.isNullOrUndefined(i)&&v.isNullOrUndefined(e)||v.isNullOrUndefined(i)!==v.isNullOrUndefined(e)?!1:i.value===e.value&&i.highValue===e.highValue}},Gr=class extends ki{forceChange;static compare(i,e){return v.isNullOrUndefined(i)&&v.isNullOrUndefined(e)||v.isNullOrUndefined(i)!==v.isNullOrUndefined(e)?!1:i.value===e.value&&i.highValue===e.highValue&&i.forceChange===e.forceChange}};var ig={provide:st,useExisting:De(()=>oa),multi:!0},oa=(()=>{class n{renderer;elementRef;changeDetectionRef;zone;allowUnsafeHtmlInSlider;sliderElementNgxSliderClass=!0;value=null;valueChange=new F;highValue=null;highValueChange=new F;options=new Ai;userChangeStart=new F;userChange=new F;userChangeEnd=new F;manualRefreshSubscription;set manualRefresh(e){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=e.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}triggerFocusSubscription;set triggerFocus(e){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=e.subscribe(t=>{this.focusPointer(t)})}get range(){return!v.isNullOrUndefined(this.value)&&!v.isNullOrUndefined(this.highValue)}initHasRun=!1;inputModelChangeSubject=new B;inputModelChangeSubscription=null;outputModelChangeSubject=new B;outputModelChangeSubscription=null;viewLowValue=null;viewHighValue=null;viewOptions=new Ai;handleHalfDimension=0;maxHandlePosition=0;currentTrackingPointer=null;currentFocusPointer=null;firstKeyDown=!1;touchId=null;dragging=new Wr;leftOuterSelectionBarElement;rightOuterSelectionBarElement;fullBarElement;selectionBarElement;minHandleElement;maxHandleElement;floorLabelElement;ceilLabelElement;minHandleLabelElement;maxHandleLabelElement;combinedLabelElement;ticksElement;tooltipTemplate;sliderElementVerticalClass=!1;sliderElementAnimateClass=!1;sliderElementWithLegendClass=!1;sliderElementDisabledAttr=null;sliderElementAriaLabel="ngx-slider";barStyle={};minPointerStyle={};maxPointerStyle={};fullBarTransparentClass=!1;selectionBarDraggableClass=!1;ticksUnderValuesClass=!1;get showTicks(){return this.viewOptions.showTicks}intermediateTicks=!1;ticks=[];eventListenerHelper=null;onMoveEventListener=null;onEndEventListener=null;moving=!1;resizeObserver=null;onTouchedCallback=null;onChangeCallback=null;constructor(e,t,r,o,s){this.renderer=e,this.elementRef=t,this.changeDetectionRef=r,this.zone=o,this.allowUnsafeHtmlInSlider=s,this.eventListenerHelper=new $r(this.renderer)}ngOnInit(){this.viewOptions=new Ai,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.range?this.viewHighValue=this.modelValueToViewValue(this.highValue):this.viewHighValue=null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(e){!v.isNullOrUndefined(e.options)&&JSON.stringify(e.options.previousValue)!==JSON.stringify(e.options.currentValue)&&this.onChangeOptions(),(!v.isNullOrUndefined(e.value)||!v.isNullOrUndefined(e.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(e){e instanceof Array?(this.value=e[0],this.highValue=e[1]):this.value=e,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.viewOptions.disabled=e,this.updateDisabledState()}setAriaLabel(e){this.viewOptions.ariaLabel=e,this.updateAriaLabel()}onResize(e){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(li(Gr.compare),ve(e=>!e.forceChange&&!e.internalChange)).subscribe(e=>this.applyInputModelChange(e))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(li(Gr.compare)).subscribe(e=>this.publishOutputModelChange(e))}subscribeResizeObserver(){ut.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){ut.isResizeObserverAvailable()&&this.resizeObserver!==null&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){v.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){v.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){v.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){v.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){v.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){v.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(e){return e===O.Min?this.minHandleElement:e===O.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===O.Min?this.viewLowValue:this.currentTrackingPointer===O.Max?this.viewHighValue:null}modelValueToViewValue(e){return v.isNullOrUndefined(e)?NaN:!v.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray?v.findStepIndex(+e,this.viewOptions.stepsArray):+e}viewValueToModelValue(e){return!v.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray?this.getStepValue(e):e}getStepValue(e){let t=this.viewOptions.stepsArray[e];return v.isNullOrUndefined(t)?NaN:t.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(e){let t=this.normaliseModelValues(e),r=!ki.compare(e,t);r&&(this.value=t.value,this.highValue=t.highValue),this.viewLowValue=this.modelValueToViewValue(t.value),this.range?this.viewHighValue=this.modelValueToViewValue(t.highValue):this.viewHighValue=null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:t.value,highValue:t.highValue,forceChange:r,userEventInitiated:!1})}publishOutputModelChange(e){let t=()=>{this.valueChange.emit(e.value),this.range&&this.highValueChange.emit(e.highValue),v.isNullOrUndefined(this.onChangeCallback)||(this.range?this.onChangeCallback([e.value,e.highValue]):this.onChangeCallback(e.value)),v.isNullOrUndefined(this.onTouchedCallback)||(this.range?this.onTouchedCallback([e.value,e.highValue]):this.onTouchedCallback(e.value))};e.userEventInitiated?(t(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{t()})}normaliseModelValues(e){let t=new ki;if(t.value=e.value,t.highValue=e.highValue,!v.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){let r=v.findStepIndex(t.value,this.viewOptions.stepsArray);if(t.value=this.viewOptions.stepsArray[r].value,this.range){let o=v.findStepIndex(t.highValue,this.viewOptions.stepsArray);t.highValue=this.viewOptions.stepsArray[o].value}}return t}if(this.viewOptions.enforceStep&&(t.value=this.roundStep(t.value),this.range&&(t.highValue=this.roundStep(t.highValue))),this.viewOptions.enforceRange&&(t.value=me.clampToRange(t.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(t.highValue=me.clampToRange(t.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&e.value>e.highValue))if(this.viewOptions.noSwitching)t.value=t.highValue;else{let r=e.value;t.value=e.highValue,t.highValue=r}return t}renormaliseModelValues(){let e={value:this.value,highValue:this.highValue},t=this.normaliseModelValues(e);ki.compare(t,e)||(this.value=t.value,this.highValue=t.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;let e=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();let t=this.getOptionsInfluencingEventBindings(this.viewOptions),r=!v.areArraysEqual(e,t);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.range?this.viewHighValue=this.modelValueToViewValue(this.highValue):this.viewHighValue=null,this.resetSlider(r)}applyOptions(){if(this.viewOptions=new Ai,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!v.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!v.isNullOrUndefined(this.viewOptions.tickStep)||!v.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!v.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),v.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),v.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(e,t)=>e+" - "+t),this.viewOptions.logScale&&this.viewOptions.floor===0)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,v.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>this.viewOptions.bindIndexForStepsArray?String(this.getStepValue(e)):String(e))}applyFloorCeilOptions(){if(v.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),v.isNullOrUndefined(this.viewOptions.ceil)||v.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,v.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(e))}resetSlider(e=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),e&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(e){e!==O.Min&&e!==O.Max&&(e=O.Min),e===O.Min?this.minHandleElement.focus():this.range&&e===O.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){v.isNullOrUndefined(this.currentFocusPointer)||this.getPointerElement(this.currentFocusPointer).focusIfNeeded()}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);let e=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(e||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(let e of this.getAllSliderElements())v.isNullOrUndefined(e)||e.setVertical(this.viewOptions.vertical)}updateScale(){for(let e of this.getAllSliderElements())e.setScale(this.viewOptions.scale)}updateRotate(){for(let e of this.getAllSliderElements())e.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.viewOptions.keyboardSupport&&!(this.viewOptions.readOnly||this.viewOptions.disabled)?this.minHandleElement.tabindex="0":this.minHandleElement.tabindex="",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||this.viewOptions.rotate!==0?"vertical":"horizontal",v.isNullOrUndefined(this.viewOptions.ariaLabel)?v.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.viewOptions.keyboardSupport&&!(this.viewOptions.readOnly||this.viewOptions.disabled)?this.maxHandleElement.tabindex="0":this.maxHandleElement.tabindex="",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||this.viewOptions.rotate!==0?"vertical":"horizontal",v.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?v.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,dt.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,dt.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){v.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);let e=this.minHandleElement.dimension;this.handleHalfDimension=e/2,v.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-e,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks&&this.sliderElementWithLegendClass){setTimeout(()=>{this.sliderElementWithLegendClass=!1});return}let e=v.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,t=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&e.reverse();let r=v.isNullOrUndefined(this.viewOptions.tickValueStep)?v.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep,o=!1,s=e.map(a=>{let l=this.valueToPosition(a);this.viewOptions.vertical&&(l=this.maxHandlePosition-l);let m=t+"("+Math.round(l)+"px)",g=new ra;g.selected=this.isTickSelected(a),g.style={"-webkit-transform":m,"-moz-transform":m,"-o-transform":m,"-ms-transform":m,transform:m},g.selected&&!v.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(g.style["background-color"]=this.getSelectionBarColor()),!g.selected&&!v.isNullOrUndefined(this.viewOptions.getTickColor)&&(g.style["background-color"]=this.getTickColor(a)),v.isNullOrUndefined(this.viewOptions.ticksTooltip)||(g.tooltip=this.viewOptions.ticksTooltip(a),g.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!v.isNullOrUndefined(r)&&me.isModuloWithinPrecisionLimit(a,r,this.viewOptions.precisionLimit)&&(g.value=this.getDisplayValue(a,dt.TickValue),v.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(g.valueTooltip=this.viewOptions.ticksValuesTooltip(a),g.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let x=null;if(v.isNullOrUndefined(this.viewOptions.stepsArray))v.isNullOrUndefined(this.viewOptions.getLegend)||(x=this.viewOptions.getLegend(a));else{let T=this.viewOptions.stepsArray[a];v.isNullOrUndefined(this.viewOptions.getStepLegend)?v.isNullOrUndefined(T)||(x=T.legend):x=this.viewOptions.getStepLegend(T)}return v.isNullOrUndefined(x)||(g.legend=x,o=!0),g});if(this.sliderElementWithLegendClass!==o&&setTimeout(()=>{this.sliderElementWithLegendClass=o}),!v.isNullOrUndefined(this.ticks)&&this.ticks.length===s.length)for(let a=0;a<s.length;++a)Object.assign(this.ticks[a],s[a]);else this.ticks=s,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){if(!this.viewOptions.showTicks)return[];let e=v.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,t=[],r=1+Math.floor(me.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/e,this.viewOptions.precisionLimit));for(let o=0;o<r;++o)t.push(me.roundToPrecisionLimit(this.viewOptions.floor+e*o,this.viewOptions.precisionLimit));return t}isTickSelected(e){if(!this.range)if(v.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(e>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&e<=this.viewLowValue)return!0}else{let t=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>t&&e>=t&&e<=this.viewLowValue)return!0;if(this.viewLowValue<t&&e<=t&&e>=this.viewLowValue)return!0}return!!(this.range&&e>=this.viewLowValue&&e<=this.viewHighValue)}updateFloorLabel(){if(!this.floorLabelElement.alwaysHide){this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,dt.Floor)),this.floorLabelElement.calculateDimension();let e=this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0;this.floorLabelElement.setPosition(e)}}updateCeilLabel(){if(!this.ceilLabelElement.alwaysHide){this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,dt.Ceil)),this.ceilLabelElement.calculateDimension();let e=this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension;this.ceilLabelElement.setPosition(e)}}updateHandles(e,t){e===O.Min?this.updateLowHandle(t):e===O.Max&&this.updateHighHandle(t),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(e,t){let r=e===O.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,o=t-r/2+this.handleHalfDimension,s=this.fullBarElement.dimension-r;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&e===O.Min||!this.viewOptions.rightToLeft&&e===O.Max?Math.min(o,s):Math.min(Math.max(o,0),s):o}updateLowHandle(e){this.minHandleElement.setPosition(e),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,dt.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(O.Min,e)),v.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(O.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(e){this.maxHandleElement.setPosition(e),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,dt.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(O.Max,e)),v.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(O.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let e=!1,t=!1,r=this.isLabelBelowFloorLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.minHandleLabelElement),s=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),a=this.isLabelBelowFloorLabel(this.combinedLabelElement),l=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(r?(e=!0,this.floorLabelElement.hide()):(e=!1,this.floorLabelElement.show()),o?(t=!0,this.ceilLabelElement.hide()):(t=!1,this.ceilLabelElement.show()),this.range){let m=this.combinedLabelElement.isVisible()?l:s,g=this.combinedLabelElement.isVisible()?a:r;m?this.ceilLabelElement.hide():t||this.ceilLabelElement.show(),g?this.floorLabelElement.hide():e||this.floorLabelElement.show()}}isLabelBelowFloorLabel(e){let t=e.position,r=e.dimension,o=this.floorLabelElement.position,s=this.floorLabelElement.dimension;return this.viewOptions.rightToLeft?t+r>=o-2:t<=o+s+2}isLabelAboveCeilLabel(e){let t=e.position,r=e.dimension,o=this.ceilLabelElement.position,s=this.ceilLabelElement.dimension;return this.viewOptions.rightToLeft?t<=o+s+2:t+r>=o-2}updateSelectionBar(){let e=0,t=0,r=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,o=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)t=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),e=o;else if(v.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))r?(t=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),e=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(t=this.minHandleElement.position+this.handleHalfDimension,e=0);else{let s=this.viewOptions.showSelectionBarFromValue,a=this.valueToPosition(s);(this.viewOptions.rightToLeft?this.viewLowValue<=s:this.viewLowValue>s)?(t=this.minHandleElement.position-a,e=a+this.handleHalfDimension):(t=a-this.minHandleElement.position,e=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(t),this.selectionBarElement.setPosition(e),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(e),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+t)),this.leftOuterSelectionBarElement.setPosition(e+t)):(this.leftOuterSelectionBarElement.setDimension(e),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+t)),this.rightOuterSelectionBarElement.setPosition(e+t))),v.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!v.isNullOrUndefined(this.viewOptions.selectionBarGradient)){let s=v.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),a=s-e>0&&!r||s-e<=0&&r,l=this.viewOptions.vertical?a?"bottom":"top":a?"left":"right";this.barStyle={backgroundImage:"linear-gradient(to "+l+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(s+t+e+(a?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=s-e+(a?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{let s=this.getSelectionBarColor();this.barStyle={backgroundColor:s}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(e){return e===O.Max?this.viewOptions.getPointerColor(this.highValue,e):this.viewOptions.getPointerColor(this.value,e)}getTickColor(e){return this.viewOptions.getTickColor(e)}updateCombinedLabel(){let e=null;if(this.viewOptions.rightToLeft?e=this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:e=this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,e){let t=this.getDisplayValue(this.viewLowValue,dt.Low),r=this.getDisplayValue(this.viewHighValue,dt.High),o=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(r,t):this.viewOptions.combineLabels(t,r);this.combinedLabelElement.setValue(o);let s=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(s),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(e,t){return!v.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.viewOptions.translate(e,t)}roundStep(e,t){let r=v.isNullOrUndefined(t)?this.viewOptions.step:t,o=me.roundToPrecisionLimit((e-this.viewOptions.floor)/r,this.viewOptions.precisionLimit);return o=Math.round(o)*r,me.roundToPrecisionLimit(this.viewOptions.floor+o,this.viewOptions.precisionLimit)}valueToPosition(e){let t=v.linearValueToPosition;v.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(t=v.logValueToPosition):t=this.viewOptions.customValueToPosition,e=me.clampToRange(e,this.viewOptions.floor,this.viewOptions.ceil);let r=t(e,this.viewOptions.floor,this.viewOptions.ceil);return v.isNullOrUndefined(r)&&(r=0),this.viewOptions.rightToLeft&&(r=1-r),r*this.maxHandlePosition}positionToValue(e){let t=e/this.maxHandlePosition;this.viewOptions.rightToLeft&&(t=1-t);let r=v.linearPositionToValue;v.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(r=v.logPositionToValue):r=this.viewOptions.customPositionToValue;let o=r(t,this.viewOptions.floor,this.viewOptions.ceil);return v.isNullOrUndefined(o)?0:o}getEventXY(e,t){if(e instanceof MouseEvent)return this.viewOptions.vertical||this.viewOptions.rotate!==0?e.clientY:e.clientX;let r=0,o=e.touches;if(!v.isNullOrUndefined(t)){for(let s=0;s<o.length;s++)if(o[s].identifier===t){r=s;break}}return this.viewOptions.vertical||this.viewOptions.rotate!==0?o[r].clientY:o[r].clientX}getEventPosition(e,t){let r=this.elementRef.nativeElement.getBoundingClientRect(),o=this.viewOptions.vertical||this.viewOptions.rotate!==0?r.bottom:r.left,s=0;return this.viewOptions.vertical||this.viewOptions.rotate!==0?s=-this.getEventXY(e,t)+o:s=this.getEventXY(e,t)-o,s*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(e){if(!this.range)return O.Min;let t=this.getEventPosition(e),r=Math.abs(t-this.minHandleElement.position),o=Math.abs(t-this.maxHandleElement.position);return r<o?O.Min:r>o?O.Max:this.viewOptions.rightToLeft?t>this.minHandleElement.position?O.Min:O.Max:t<this.minHandleElement.position?O.Min:O.Max}bindEvents(){let e=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",t=>this.onBarStart(null,e,t,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",t=>this.onBarStart(O.Min,e,t,!0,!0)),this.maxHandleElement.on("mousedown",t=>this.onBarStart(O.Max,e,t,!0,!0))):(this.minHandleElement.on("mousedown",t=>this.onStart(O.Min,t,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",t=>this.onStart(O.Max,t,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",t=>this.onStart(null,t,!0,!0,!0)),this.ticksElement.on("mousedown",t=>this.onStart(null,t,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",t=>this.onBarStart(null,e,t,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",t=>this.onBarStart(O.Min,e,t,!0,!0)),this.maxHandleElement.onPassive("touchstart",t=>this.onBarStart(O.Max,e,t,!0,!0))):(this.minHandleElement.onPassive("touchstart",t=>this.onStart(O.Min,t,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",t=>this.onStart(O.Max,t,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",t=>this.onStart(null,t,!0,!0,!0)),this.ticksElement.onPassive("touchstart",t=>this.onStart(null,t,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(O.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(O.Max)))}getOptionsInfluencingEventBindings(e){return[e.disabled,e.readOnly,e.draggableRange,e.draggableRangeOnly,e.onlyBindHandles,e.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(let e of this.getAllSliderElements())v.isNullOrUndefined(e)||e.off()}onBarStart(e,t,r,o,s,a,l){t?this.onDragStart(e,r,o,s):this.onStart(e,r,o,s,a,l)}onStart(e,t,r,o,s,a){t.stopPropagation(),!ut.isTouchEvent(t)&&!Hr&&t.preventDefault(),this.moving=!1,this.calculateViewDimensions(),v.isNullOrUndefined(e)&&(e=this.getNearestHandle(t)),this.currentTrackingPointer=e;let l=this.getPointerElement(e);if(l.active=!0,this.viewOptions.keyboardSupport&&l.focus(),r){this.unsubscribeOnMove();let m=g=>this.dragging.active?this.onDragMove(g):this.onMove(g);ut.isTouchEvent(t)?this.onMoveEventListener=this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",m):this.onMoveEventListener=this.eventListenerHelper.attachEventListener(document,"mousemove",m)}if(o){this.unsubscribeOnEnd();let m=g=>this.onEnd(g);ut.isTouchEvent(t)?this.onEndEventListener=this.eventListenerHelper.attachPassiveEventListener(document,"touchend",m):this.onEndEventListener=this.eventListenerHelper.attachEventListener(document,"mouseup",m)}this.userChangeStart.emit(this.getChangeContext()),ut.isTouchEvent(t)&&!v.isNullOrUndefined(t.changedTouches)&&v.isNullOrUndefined(this.touchId)&&(this.touchId=t.changedTouches[0].identifier),s&&this.onMove(t,!0),a&&this.onEnd(t)}onMove(e,t){let r=null;if(ut.isTouchEvent(e)){let m=e.changedTouches;for(let g=0;g<m.length;g++)if(m[g].identifier===this.touchId){r=m[g];break}if(v.isNullOrUndefined(r))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;let o=v.isNullOrUndefined(r)?this.getEventPosition(e):this.getEventPosition(e,r.identifier),s,a=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil,l=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor;o<=0?s=l:o>=this.maxHandlePosition?s=a:(s=this.positionToValue(o),t&&!v.isNullOrUndefined(this.viewOptions.tickStep)?s=this.roundStep(s,this.viewOptions.tickStep):s=this.roundStep(s)),this.positionTrackingHandle(s)}onEnd(e){ut.isTouchEvent(e)&&e.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(e){let t=this.getPointerElement(e);t.on("blur",()=>this.onPointerBlur(t)),t.on("keydown",r=>this.onKeyboardEvent(r)),t.on("keyup",()=>this.onKeyUp()),t.active=!0,this.currentTrackingPointer=e,this.currentFocusPointer=e,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(e){e.off("blur"),e.off("keydown"),e.off("keyup"),e.active=!1,v.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(e){let t=this.viewOptions.ceil-this.viewOptions.floor,r=e+this.viewOptions.step,o=e-this.viewOptions.step,s=e+t/10,a=e-t/10;this.viewOptions.reversedControls&&(r=e-this.viewOptions.step,o=e+this.viewOptions.step,s=e-t/10,a=e+t/10);let l={UP:r,DOWN:o,LEFT:o,RIGHT:r,PAGEUP:s,PAGEDOWN:a,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(l.LEFT=r,l.RIGHT=o,(this.viewOptions.vertical||this.viewOptions.rotate!==0)&&(l.UP=o,l.DOWN=r)),l}onKeyboardEvent(e){let t=this.getCurrentTrackingValue(),r=v.isNullOrUndefined(e.keyCode)?e.which:e.keyCode,o={38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"},s=this.getKeyActions(t),a=o[r],l=s[a];if(v.isNullOrUndefined(l)||v.isNullOrUndefined(this.currentTrackingPointer))return;e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));let m=me.clampToRange(l,this.viewOptions.floor,this.viewOptions.ceil),g=this.roundStep(m);if(!this.viewOptions.draggableRangeOnly)this.positionTrackingHandle(g);else{let x=this.viewHighValue-this.viewLowValue,T,R;this.currentTrackingPointer===O.Min?(T=g,R=g+x,R>this.viewOptions.ceil&&(R=this.viewOptions.ceil,T=R-x)):this.currentTrackingPointer===O.Max&&(R=g,T=g-x,T<this.viewOptions.floor&&(T=this.viewOptions.floor,R=T+x)),this.positionTrackingBar(T,R)}}onDragStart(e,t,r,o){let s=this.getEventPosition(t);this.dragging=new Wr,this.dragging.active=!0,this.dragging.value=this.positionToValue(s),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-s:s-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?s-this.maxHandleElement.position:this.maxHandleElement.position-s,this.onStart(e,t,r,o)}getMinValue(e,t,r){let o=this.viewOptions.rightToLeft,s=null;return t?r?s=o?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:s=o?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:s=o?this.positionToValue(e+this.dragging.lowLimit):this.positionToValue(e-this.dragging.lowLimit),this.roundStep(s)}getMaxValue(e,t,r){let o=this.viewOptions.rightToLeft,s=null;return t?r?s=o?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:s=o?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:o?s=this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:s=this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(s)}onDragMove(e){let t=this.getEventPosition(e);this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;let r,o,s,a;this.viewOptions.rightToLeft?(r=this.dragging.lowLimit,o=this.dragging.highLimit,s=this.maxHandleElement,a=this.minHandleElement):(r=this.dragging.highLimit,o=this.dragging.lowLimit,s=this.minHandleElement,a=this.maxHandleElement);let l=t<=o,m=t>=this.maxHandlePosition-r,g,x;if(l){if(s.position===0)return;g=this.getMinValue(t,!0,!1),x=this.getMaxValue(t,!0,!1)}else if(m){if(a.position===this.maxHandlePosition)return;x=this.getMaxValue(t,!0,!0),g=this.getMinValue(t,!0,!0)}else g=this.getMinValue(t,!1,!1),x=this.getMaxValue(t,!1,!1);this.positionTrackingBar(g,x)}positionTrackingBar(e,t){!v.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit&&(e=this.viewOptions.minLimit,t=me.roundToPrecisionLimit(e+this.dragging.difference,this.viewOptions.precisionLimit)),!v.isNullOrUndefined(this.viewOptions.maxLimit)&&t>this.viewOptions.maxLimit&&(t=this.viewOptions.maxLimit,e=me.roundToPrecisionLimit(t-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=e,this.viewHighValue=t,this.applyViewChange(),this.updateHandles(O.Min,this.valueToPosition(e)),this.updateHandles(O.Max,this.valueToPosition(t))}positionTrackingHandle(e){e=this.applyMinMaxLimit(e),this.range&&(this.viewOptions.pushRange?e=this.applyPushRange(e):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===O.Min&&e>this.viewHighValue?e=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===O.Max&&e<this.viewLowValue&&(e=this.applyMinMaxRange(this.viewLowValue))),e=this.applyMinMaxRange(e),this.currentTrackingPointer===O.Min&&e>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(O.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=O.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===O.Max&&e<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(O.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=O.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==e&&(this.currentTrackingPointer===O.Min?(this.viewLowValue=e,this.applyViewChange()):this.currentTrackingPointer===O.Max&&(this.viewHighValue=e,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(e)),this.updateAriaAttributes())}applyMinMaxLimit(e){return!v.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit?this.viewOptions.minLimit:!v.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit?this.viewOptions.maxLimit:e}applyMinMaxRange(e){let t=this.currentTrackingPointer===O.Min?this.viewHighValue:this.viewLowValue,r=Math.abs(e-t);if(!v.isNullOrUndefined(this.viewOptions.minRange)&&r<this.viewOptions.minRange){if(this.currentTrackingPointer===O.Min)return me.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===O.Max)return me.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!v.isNullOrUndefined(this.viewOptions.maxRange)&&r>this.viewOptions.maxRange){if(this.currentTrackingPointer===O.Min)return me.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===O.Max)return me.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return e}applyPushRange(e){let t=this.currentTrackingPointer===O.Min?this.viewHighValue-e:e-this.viewLowValue,r=v.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,o=this.viewOptions.maxRange;return t<r?(this.currentTrackingPointer===O.Min?(this.viewHighValue=me.roundToPrecisionLimit(Math.min(e+r,this.viewOptions.ceil),this.viewOptions.precisionLimit),e=me.roundToPrecisionLimit(this.viewHighValue-r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(O.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===O.Max&&(this.viewLowValue=me.roundToPrecisionLimit(Math.max(e-r,this.viewOptions.floor),this.viewOptions.precisionLimit),e=me.roundToPrecisionLimit(this.viewLowValue+r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(O.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!v.isNullOrUndefined(o)&&t>o&&(this.currentTrackingPointer===O.Min?(this.viewHighValue=me.roundToPrecisionLimit(e+o,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(O.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===O.Max&&(this.viewLowValue=me.roundToPrecisionLimit(e-o,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(O.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),e}getChangeContext(){let e=new na;return e.pointerType=this.currentTrackingPointer,e.value=+this.value,this.range&&(e.highValue=+this.highValue),e}static \u0275fac=function(t){return new(t||n)(P($e),P(Y),P(Se),P(q),P(Md,8))};static \u0275cmp=H({type:n,selectors:[["ngx-slider"]],contentQueries:function(t,r,o){if(t&1&&kt(o,Vf,5),t&2){let s;z(s=$())&&(r.tooltipTemplate=s.first)}},viewQuery:function(t,r){if(t&1&&(K(Nf,5,zt),K(jf,5,zt),K(Bf,5,zt),K(Uf,5,zt),K(Hf,5,ia),K(zf,5,ia),K($f,5,Di),K(Wf,5,Di),K(Gf,5,Di),K(qf,5,Di),K(Qf,5,Di),K(Yf,5,zt)),t&2){let o;z(o=$())&&(r.leftOuterSelectionBarElement=o.first),z(o=$())&&(r.rightOuterSelectionBarElement=o.first),z(o=$())&&(r.fullBarElement=o.first),z(o=$())&&(r.selectionBarElement=o.first),z(o=$())&&(r.minHandleElement=o.first),z(o=$())&&(r.maxHandleElement=o.first),z(o=$())&&(r.floorLabelElement=o.first),z(o=$())&&(r.ceilLabelElement=o.first),z(o=$())&&(r.minHandleLabelElement=o.first),z(o=$())&&(r.maxHandleLabelElement=o.first),z(o=$())&&(r.combinedLabelElement=o.first),z(o=$())&&(r.ticksElement=o.first)}},hostVars:10,hostBindings:function(t,r){t&1&&C("resize",function(s){return r.onResize(s)},!1,Za),t&2&&(oe("disabled",r.sliderElementDisabledAttr)("aria-label",r.sliderElementAriaLabel),fe("ngx-slider",r.sliderElementNgxSliderClass)("vertical",r.sliderElementVerticalClass)("animate",r.sliderElementAnimateClass)("with-legend",r.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},standalone:!1,features:[he([ig]),Ce],decls:29,vars:13,consts:[["leftOuterSelectionBar",""],["rightOuterSelectionBar",""],["fullBar",""],["selectionBar",""],["minHandle",""],["maxHandle",""],["floorLabel",""],["ceilLabel",""],["minHandleLabel",""],["maxHandleLabel",""],["combinedLabel",""],["ticksElement",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerText",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerText"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(t,r){t&1&&(c(0,"span",12,0),E(2,"span",13),d(),c(3,"span",14,1),E(5,"span",13),d(),c(6,"span",15,2),E(8,"span",13),d(),c(9,"span",16,3),E(11,"span",17),d(),E(12,"span",18,4)(14,"span",19,5)(16,"span",20,6)(18,"span",21,7)(20,"span",22,8)(22,"span",23,9)(24,"span",24,10),c(26,"span",25,11),w(28,eg,5,10,"span",26),d()),t&2&&(u(6),fe("ngx-slider-transparent",r.fullBarTransparentClass),u(3),fe("ngx-slider-draggable",r.selectionBarDraggableClass),u(2),p("ngStyle",r.barStyle),u(),p("ngStyle",r.minPointerStyle),u(2),Le("display",r.range?"inherit":"none"),p("ngStyle",r.maxPointerStyle),u(12),fe("ngx-slider-ticks-values-under",r.ticksUnderValuesClass),p("hidden",!r.showTicks),u(2),p("ngForOf",r.ticks))},dependencies:[it,nt,Ee,hl,zt,ia,Di,tg],styles:['.ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:transparent}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:"";width:8px;height:8px;position:absolute;top:12px;left:12px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;transform:translate(-50%)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;transform:translate(-50%);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;transform:translateY(-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;transform:translateY(-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-selection{transition:background-color linear .3s}  .ngx-slider.animate .ngx-slider-pointer{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-pointer:after{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-tick{transition:background-color linear .3s}']})}return n})(),Ed=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[ye]})}return n})();var rg=(n,i,e,t,r)=>({"border-green":n,"border-yellow":i,"border-red":e,"border-gray":t,"click-through":r}),Sn=n=>({active:n}),og=()=>({floor:900,ceil:1200});function sg(n,i){if(n&1&&(c(0,"video",12),E(1,"source",13),_(2," Your browser does not support the video tag. "),d()),n&2){let e=h(2);u(),p("src",e.building.url,Re)}}function ag(n,i){if(n&1&&(c(0,"div",14),E(1,"img",15),d()),n&2){let e=h(2);u(),p("src",e.building.url,Re)("alt",e.building.name)}}function lg(n,i){if(n&1){let e=A();de(),c(0,"polygon",20),C("click",function(){b(e);let r=h().$implicit,o=h(4);return y(o.onBorderClick(r))}),d()}if(n&2){let e=h().$implicit,t=h(4);p("ngClass",$n(2,rg,e.status==="available",e.status==="booked",e.status==="sold",e.status==="under_maintenance",t.addMode&&t.currentApartment===e)),oe("points",t.getPolygonPoints(e.border.coordinates))}}function cg(n,i){if(n&1&&(de(),ge(0),w(1,lg,1,8,"polygon",19),_e()),n&2){let e=i.$implicit,t=h(4);u(),p("ngIf",t.shouldShowBorder(e.status,e.roomsCount,e.area))}}function dg(n,i){if(n&1&&(de(),ge(0),w(1,cg,2,1,"ng-container",18),_e()),n&2){let e=i.$implicit;u(),p("ngForOf",e.apartments)}}function ug(n,i){if(n&1&&(c(0,"div",16),de(),c(1,"svg",17),w(2,dg,2,1,"ng-container",18),d()()),n&2){let e=h(2);u(2),p("ngForOf",e.building.floors)}}function hg(n,i){n&1&&(c(0,"p"),_(1,"No media available for this building."),d())}function pg(n,i){if(n&1){let e=A();c(0,"button",23),C("click",function(){b(e);let r=h().$implicit,o=h(3);return y(o.editFloor(r))}),_(1,"Edit"),d()}}function mg(n,i){if(n&1){let e=A();c(0,"button",23),C("click",function(){b(e);let r=h().$implicit,o=h(3);return y(o.doneEditFloor(r))}),_(1,"Done"),d()}}function fg(n,i){if(n&1){let e=A();c(0,"button",23),C("click",function(){b(e);let r=h().$implicit,o=h(4);return y(o.editApartment(r))}),_(1,"Edit"),d()}}function gg(n,i){if(n&1){let e=A();c(0,"button",23),C("click",function(){b(e);let r=h().$implicit,o=h(4);return y(o.doneEditApartment(r))}),_(1,"Done"),d()}}function _g(n,i){if(n&1){let e=A();c(0,"div")(1,"div",26)(2,"h4"),_(3),d(),w(4,fg,2,0,"button",25)(5,gg,2,0,"button",25),c(6,"button",23),C("click",function(){let r=b(e).$implicit,o=h().$implicit,s=h(3);return y(s.removeApartment(r,o))}),_(7,"Remove"),d()()()}if(n&2){let e=i.$implicit,t=h(4);u(3),Z("Apartment ",e.number,""),u(),p("ngIf",t.currentApartment!==e),u(),p("ngIf",t.currentApartment===e)}}function vg(n,i){if(n&1){let e=A();c(0,"div")(1,"h3"),_(2),d(),w(3,pg,2,0,"button",25)(4,mg,2,0,"button",25),c(5,"button",23),C("click",function(){let r=b(e).$implicit,o=h(3);return y(o.removeFloor(r))}),_(6,"Remove"),d(),w(7,_g,8,3,"div",18),d()}if(n&2){let e=i.$implicit,t=h(3);u(2),Z("Floor ",e.floorNumber,""),u(),p("ngIf",t.currentFloor!==e),u(),p("ngIf",t.currentFloor===e),u(3),p("ngForOf",e.apartments)}}function bg(n,i){if(n&1){let e=A();c(0,"div",21)(1,"h3"),_(2,"Edit Apartments"),d(),c(3,"div",22)(4,"button",23),C("click",function(){b(e);let r=h(2);return y(r.saveBuilding())}),_(5,"Save Building"),d(),c(6,"button",23),C("click",function(){b(e);let r=h(2);return y(r.cancelAdding())}),_(7,"Cancel"),d(),c(8,"button",23),C("click",function(){b(e);let r=h(2);return y(r.addFloorToCurrentBuilding())}),_(9,"Add Floor"),d()(),c(10,"div",24),w(11,vg,8,4,"div",18),d()()}if(n&2){let e=h(2);u(11),p("ngForOf",e.building.floors)}}function yg(n,i){if(n&1){let e=A();c(0,"button",23),C("click",function(){b(e);let r=h(3);return y(r.clearCoordinates(r.currentApartment.border.coordinates))}),_(1,"Clear"),d()}}function wg(n,i){if(n&1){let e=A();c(0,"div",27)(1,"h3"),_(2),d(),c(3,"div",28)(4,"label"),_(5," Name: "),c(6,"input",29),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.currentApartment.name,r)||(o.currentApartment.name=r),y(r)}),d()(),c(7,"label"),_(8," Number: "),c(9,"input",29),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.currentApartment.number,r)||(o.currentApartment.number=r),y(r)}),d()(),c(10,"label"),_(11," Rooms Count: "),c(12,"input",30),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.currentApartment.roomsCount,r)||(o.currentApartment.roomsCount=r),y(r)}),d()(),c(13,"label"),_(14," Status: "),c(15,"select",31),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.currentApartment.status,r)||(o.currentApartment.status=r),y(r)}),c(16,"option",32),_(17,"Available"),d(),c(18,"option",33),_(19,"Booked"),d(),c(20,"option",34),_(21,"Sold"),d(),c(22,"option",35),_(23,"Under Maintenance"),d()()(),c(24,"label"),_(25," Floor Number: "),c(26,"input",30),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.currentApartment.floorNumber,r)||(o.currentApartment.floorNumber=r),y(r)}),d()(),c(27,"label"),_(28," Building ID: "),c(29,"input",30),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.currentApartment.buildingId,r)||(o.currentApartment.buildingId=r),y(r)}),d()(),c(30,"label"),_(31," Border Coordinates: "),w(32,yg,2,0,"button",25),c(33,"input",29),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.currentApartment.border.coordinates,r)||(o.currentApartment.border.coordinates=r),y(r)}),d()()()()}if(n&2){let e=h(2);u(2),Z("Edit Apartment ",e.currentApartment.name,""),u(4),ne("ngModel",e.currentApartment.name),u(3),ne("ngModel",e.currentApartment.number),u(3),ne("ngModel",e.currentApartment.roomsCount),u(3),ne("ngModel",e.currentApartment.status),u(11),ne("ngModel",e.currentApartment.floorNumber),u(3),ne("ngModel",e.currentApartment.buildingId),u(3),p("ngIf",e.currentApartment.border.coordinates),u(),ne("ngModel",e.currentApartment.border.coordinates)}}function Cg(n,i){if(n&1){let e=A();c(0,"div",27)(1,"h3"),_(2),d(),c(3,"label"),_(4," Floor Number: "),c(5,"input",30),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.currentFloor.floorNumber,r)||(o.currentFloor.floorNumber=r),y(r)}),d()(),c(6,"button",23),C("click",function(){b(e);let r=h(2);return y(r.addAparmentToCurrentFloor(r.currentFloor))}),_(7,"Add Apartment"),d()()}if(n&2){let e=h(2);u(2),Z("Edit Floor ",e.currentFloor.floorNumber,""),u(3),ne("ngModel",e.currentFloor.floorNumber)}}function xg(n,i){if(n&1){let e=A();c(0,"div",36)(1,"label")(2,"input",37),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.showAvailable,r)||(o.showAvailable=r),y(r)}),d(),_(3," Available "),d(),c(4,"label")(5,"input",37),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.showBooked,r)||(o.showBooked=r),y(r)}),d(),_(6," Booked "),d(),c(7,"label")(8,"input",37),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.showSold,r)||(o.showSold=r),y(r)}),d(),_(9," Sold "),d(),c(10,"label")(11,"input",37),re("ngModelChange",function(r){b(e);let o=h(2);return J(o.showUnderMaintenance,r)||(o.showUnderMaintenance=r),y(r)}),d(),_(12," Under Maintenance "),d(),c(13,"div",38)(14,"button",39),C("click",function(){b(e);let r=h(2);return y(r.show1Room=!r.show1Room)}),_(15,"1 Room"),d(),c(16,"button",39),C("click",function(){b(e);let r=h(2);return y(r.show2Rooms=!r.show2Rooms)}),_(17,"2 Rooms"),d(),c(18,"button",39),C("click",function(){b(e);let r=h(2);return y(r.show3Rooms=!r.show3Rooms)}),_(19,"3 Rooms"),d(),c(20,"button",39),C("click",function(){b(e);let r=h(2);return y(r.show4Rooms=!r.show4Rooms)}),_(21,"4 Rooms"),d(),c(22,"button",39),C("click",function(){b(e);let r=h(2);return y(r.show5Rooms=!r.show5Rooms)}),_(23,"5 Rooms"),d()(),c(24,"div",40)(25,"label"),_(26," Area: "),c(27,"ngx-slider",41),re("valueChange",function(r){b(e);let o=h(2);return J(o.minArea,r)||(o.minArea=r),y(r)})("highValueChange",function(r){b(e);let o=h(2);return J(o.maxArea,r)||(o.maxArea=r),y(r)}),d(),_(28),d()()()}if(n&2){let e=h(2);u(2),ne("ngModel",e.showAvailable),u(3),ne("ngModel",e.showBooked),u(3),ne("ngModel",e.showSold),u(3),ne("ngModel",e.showUnderMaintenance),u(3),p("ngClass",pe(14,Sn,e.show1Room)),u(2),p("ngClass",pe(16,Sn,e.show2Rooms)),u(2),p("ngClass",pe(18,Sn,e.show3Rooms)),u(2),p("ngClass",pe(20,Sn,e.show4Rooms)),u(2),p("ngClass",pe(22,Sn,e.show5Rooms)),u(5),ne("value",e.minArea)("highValue",e.maxArea),p("options",Hn(24,og)),u(),tl(" ",e.minArea," - ",e.maxArea," sq ft ")}}function Mg(n,i){if(n&1){let e=A();c(0,"div",1)(1,"div",2),C("click",function(r){b(e);let o=h();return y(o.onMediaClick(r))}),c(2,"button",3),C("click",function(){b(e);let r=h();return y(r.goBack())}),E(3,"i",4),d(),w(4,sg,3,1,"video",5)(5,ag,2,2,"div",6)(6,ug,3,1,"div",7)(7,hg,2,0,"p",8),d(),w(8,bg,12,1,"div",9)(9,wg,34,9,"div",10)(10,Cg,8,2,"div",10)(11,xg,29,25,"div",11),d()}if(n&2){let e=h();u(4),p("ngIf",e.mediaType==="video"),u(),p("ngIf",e.mediaType==="image"),u(),p("ngIf",e.mediaType==="image"||e.mediaType==="video"),u(),p("ngIf",e.mediaType==="none"),u(),p("ngIf",e.addMode),u(),p("ngIf",e.addMode&&e.currentApartment),u(),p("ngIf",e.addMode&&e.currentFloor),u(),p("ngIf",!e.addMode)}}var qr=class n{building;takeAction=new F;mediaType="none";showAvailable=!0;showBooked=!0;showSold=!0;showUnderMaintenance=!0;show1Room=!0;show2Rooms=!0;show3Rooms=!0;show4Rooms=!0;show5Rooms=!0;minArea=0;maxArea=1/0;addMode=!0;currentApartment=null;currentFloor=null;polygonCoordinates=[];constructor(){}ngOnInit(){this.determineMediaType()}determineMediaType(){this.building.url&&this.building.urlVideo?this.mediaType="video":this.building.url?this.mediaType="image":this.mediaType="none"}get formattedStatus(){switch(this.building.status){case"active":return"Active";case"under_maintenance":return"Under Maintenance";case"decommissioned":return"Decommissioned";case"reserved":return"Reserved";default:return"Unknown"}}shouldShowBorder(i,e,t){let r=s=>{switch(s){case 1:return this.show1Room;case 2:return this.show2Rooms;case 3:return this.show3Rooms;case 4:return this.show4Rooms;case 5:return this.show5Rooms;default:return!1}},o=s=>(this.minArea?s>=this.minArea:!0)&&(this.maxArea?s<=this.maxArea:!0);switch(i){case"available":return this.showAvailable&&r(e)&&o(t);case"booked":return this.showBooked&&r(e)&&o(t);case"sold":return this.showSold&&r(e)&&o(t);case"under_maintenance":return this.showUnderMaintenance&&r(e)&&o(t);default:return!1}}getPolygonPoints(i){return i.map(e=>`${e.x},${e.y}`).join(" ")}getBorderColor(i){switch(i){case"available":return"green";case"booked":return"yellow";case"sold":return"red";case"under_maintenance":return"gray";default:return"transparent"}}onMediaClick(i){if(this.addMode&&this.currentApartment){let e=i.target.getBoundingClientRect(),t=i.clientX-e.left,r=i.clientY-e.top;this.currentApartment.border.coordinates.push({x:t,y:r})}}onBorderClick(i){this.addMode&&console.log("Border clicked:",i.border)}goBack(){this.takeAction.emit()}startAddMode(){this.addMode=!0}cancelAdding(){this.addMode=!1,this.polygonCoordinates=[]}saveBuilding(){console.log("Building data saved",this.building)}addFloorToCurrentBuilding(){let e={floorNumber:this.building.floors.length+1,apartments:[]};this.building.floors.push(e)}addAparmentToCurrentFloor(i){let e={id:0,name:"New Apartment",number:"0",roomsCount:0,area:0,status:"available",floorNumber:i.floorNumber,buildingId:this.building.id,border:{coordinates:[],color:"transparent",visible:!0,data:{name:"New Apartment",type:"\u0633\u0643\u0646\u064A",floors:0,area:"0 \u0645\xB2",occupancy:"0%"}}};i.apartments.push(e)}editFloor(i){this.currentApartment&&(this.currentApartment=null),this.currentFloor=i,console.log("Edit floor:",i)}doneEditFloor(i){this.currentFloor=null,console.log("Done editing apartment:",i)}removeFloor(i){let e=this.building.floors.indexOf(i);e!==-1&&this.building.floors.splice(e,1)}editApartment(i){this.currentFloor&&(this.currentFloor=null),this.currentApartment=i,console.log("Edit apartment:",i)}doneEditApartment(i){this.currentApartment=null,console.log("Done editing apartment:",i)}clearCoordinates(i){i.splice(0,i.length)}removeApartment(i,e){let t=e.apartments.indexOf(i);t!==-1&&e.apartments.splice(t,1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=H({type:n,selectors:[["app-building-viewer"]],inputs:{building:"building"},outputs:{takeAction:"takeAction"},decls:1,vars:1,consts:[["class","building-viewer",4,"ngIf"],[1,"building-viewer"],[1,"media-container",3,"click"],[1,"floating-control",2,"left","0","top","0","right","auto","width","50px","height","50px",3,"click"],[1,"fa-solid","fa-circle-chevron-left"],["autoplay","","loop","","muted","","playsinline","",4,"ngIf"],["class","image-container",4,"ngIf"],["class","borders-overlay",4,"ngIf"],[4,"ngIf"],["class","floating-control",4,"ngIf"],["class","floating-control","style"," width: 300px; right: auto; left: 20px; ",4,"ngIf"],["class","filter-container",4,"ngIf"],["autoplay","","loop","","muted","","playsinline",""],["type","video/mp4",3,"src"],[1,"image-container"],[1,"building-image",3,"src","alt"],[1,"borders-overlay"],[1,"apartment-borders"],[4,"ngFor","ngForOf"],["class","apartment-border",3,"ngClass","click",4,"ngIf"],[1,"apartment-border",3,"click","ngClass"],[1,"floating-control"],[1,"controls"],[3,"click"],[1,"floors-container",2,"overflow","auto","max-height","200px"],[3,"click",4,"ngIf"],[1,"apartment-control"],[1,"floating-control",2,"width","300px","right","auto","left","20px"],[1,"apartment-edit-form"],["type","text",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","available"],["value","booked"],["value","sold"],["value","under_maintenance"],[1,"filter-container"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"room-count-filters"],[3,"click","ngClass"],[1,"area-filter"],[3,"valueChange","highValueChange","value","highValue","options"]],template:function(e,t){e&1&&w(0,Mg,12,8,"div",0),e&2&&p("ngIf",t.building)},dependencies:[ye,it,nt,Ee,Ht,pd,fd,qe,Qs,Us,jr,at,Et,Ed,oa],styles:["[_nghost-%COMP%]{position:fixed;top:0;right:0;width:100vw;height:100vh;display:block;z-index:999}.media-container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:auto;scroll-behavior:smooth;scrollbar-width:none;-ms-overflow-style:none}.media-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.media-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .media-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100vw;height:100vh;min-width:100vw;min-height:100vh;object-fit:cover;pointer-events:none;cursor:default}.building-viewer[_ngcontent-%COMP%], .media-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{position:relative}.building-image[_ngcontent-%COMP%]{max-width:100%;height:auto}.borders-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.apartment-border[_ngcontent-%COMP%]{position:absolute;pointer-events:auto}.apartment-borders[_ngcontent-%COMP%]{width:100vw;height:100vh}.border-green[_ngcontent-%COMP%]{fill:green}.border-yellow[_ngcontent-%COMP%]{fill:#ff0}.border-red[_ngcontent-%COMP%]{fill:red}.border-gray[_ngcontent-%COMP%]{fill:gray}.filter-container[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#000;padding:10px;border-radius:5px;z-index:10}.filter-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.floating-control[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background:#000;padding:15px;border:1px solid #ccc;box-shadow:0 2px 10px #0000001a;z-index:10}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}"]})};function Eg(n,i){if(n&1){let e=A();c(0,"li",13),C("click",function(){let r=b(e).$implicit,o=h(3);return y(o.selectBuilding(r))}),_(1),d()}if(n&2){let e=i.$implicit;u(),Z(" ",e.name," ")}}function Pg(n,i){if(n&1&&(c(0,"ul",11),w(1,Eg,2,1,"li",12),d()),n&2){let e=h(2);u(),p("ngForOf",e.filteredBuildings)}}function Og(n,i){n&1&&(c(0,"p",14),_(1,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u062A\u0627\u0626\u062C \u0645\u0637\u0627\u0628\u0642\u0629."),d())}function Sg(n,i){if(n&1){let e=A();c(0,"li",13),C("click",function(){let r=b(e).$implicit,o=h(3);return y(o.selectProject(r))}),_(1),d()}if(n&2){let e=i.$implicit;u(),Z(" ",e.name," ")}}function Tg(n,i){if(n&1&&(c(0,"ul",11),w(1,Sg,2,1,"li",12),d()),n&2){let e=h(2);u(),p("ngForOf",e.filteredProjects)}}function Ig(n,i){if(n&1){let e=A();c(0,"div",2),E(1,"img",3),c(2,"div",4)(3,"button",5),C("input",function(){b(e);let r=h();return y(r.onSearchChange())}),_(4,"\u062A\u0641\u0631\u064A\u063A"),d(),c(5,"button",5),C("input",function(){b(e);let r=h();return y(r.backToSearch())}),_(6,"\u0628\u062D\u062B"),d(),c(7,"input",6),re("ngModelChange",function(r){b(e);let o=h();return J(o.searchTerm,r)||(o.searchTerm=r),y(r)}),C("input",function(){b(e);let r=h();return y(r.onSearchChange())}),d()(),c(8,"div",4)(9,"button",7),C("click",function(){b(e);let r=h();return y(r.backToBuildingSearch())}),_(10,"\u062A\u0641\u0631\u064A\u063A"),d(),c(11,"input",8),re("ngModelChange",function(r){b(e);let o=h();return J(o.buildingSearchTerm,r)||(o.buildingSearchTerm=r),y(r)}),C("input",function(){b(e);let r=h();return y(r.onBuildingSearchChange())}),d()(),c(12,"div"),w(13,Pg,2,1,"ul",9)(14,Og,2,0,"p",10),d(),c(15,"div"),w(16,Tg,2,1,"ul",9),d()()}if(n&2){let e=h();u(7),ne("ngModel",e.searchTerm),u(4),ne("ngModel",e.buildingSearchTerm),u(2),p("ngIf",e.filteredBuildings.length),u(),p("ngIf",!e.filteredBuildings.length&&e.buildingSearchTerm),u(2),p("ngIf",e.filteredProjects.length)}}function Dg(n,i){if(n&1){let e=A();c(0,"app-projects-dashboard",16),C("dataCleared",function(){b(e);let r=h(2);return y(r.backToSearch())})("selectedBuilding",function(r){b(e);let o=h(2);return y(o.onBuildingSelected(r))}),d()}if(n&2){let e=h(2);p("currentProject",e.selectedProject)}}function Ag(n,i){if(n&1&&(c(0,"div"),w(1,Dg,1,1,"app-projects-dashboard",15),d()),n&2){let e=h();u(),p("ngIf",e.selectedProject.id)}}function kg(n,i){if(n&1){let e=A();c(0,"app-building-viewer",18),C("takeAction",function(){b(e);let r=h(2);return y(r.backToBuildingSearch())}),d()}if(n&2){let e=h(2);p("building",e.selectedBuilding)}}function Rg(n,i){if(n&1&&(c(0,"div"),w(1,kg,1,1,"app-building-viewer",17),d()),n&2){let e=h();u(),p("ngIf",e.selectedBuilding)}}var Qr=class n{constructor(i){this.preloaderService=i;this.preloaderService.show()}projects=bd;projectData=null;searchTerm="";filteredProjects=[];selectedProject=null;buildings=Br;buildingSearchTerm="";filteredBuildings=[];selectedBuilding=null;ngOnInit(){this.selectedProject=null,this.selectedBuilding=null,this.filteredProjects=[],this.filteredBuildings=[],setTimeout(()=>{this.preloaderService.hide()},2e3)}getIconName(i){switch(i){case"school":return"fa-solid fa-graduation-cap";case"hospital":return"fa-solid fa-circle-h";case"restaurant":return"fa-solid fa-utensils";case"mall":return"fa-solid fa-cart-shopping";case"mosque":return"fa-solid fa-moon";default:return"fa-solid fa-map-pin"}}onSearchChange(){let i=this.searchTerm.toLowerCase();i?this.filteredProjects=this.projects.filter(e=>e.id.toString().includes(i)||e.name.toLowerCase().includes(i)):this.filteredProjects=[]}selectProject(i){this.selectedProject=i}onBuildingSelected(i){this.preloaderService.show(),this.selectedBuilding=i,setTimeout(()=>{this.preloaderService.hide()},2e3)}backToSearch(){this.selectedProject=null,this.searchTerm="",this.filteredProjects=[]}onBuildingSearchChange(){let i=this.buildingSearchTerm.toLowerCase();i?this.filteredBuildings=this.buildings.filter(e=>e.id.toString().includes(i)||e.name.toLowerCase().includes(i)):this.filteredBuildings=[]}selectBuilding(i){this.selectedBuilding=i,this.selectedProject=null,this.buildingSearchTerm="",this.filteredBuildings=[]}backToBuildingSearch(){this.selectedBuilding=null,this.buildingSearchTerm="",this.filteredBuildings=[]}static \u0275fac=function(e){return new(e||n)(P(lt))};static \u0275cmp=H({type:n,selectors:[["app-home"]],decls:4,vars:3,consts:[["class","container d-flex flex-column search-container",4,"ngIf"],[4,"ngIf"],[1,"container","d-flex","flex-column","search-container"],["src","https://res.cloudinary.com/dmyhr9fcz/image/upload/v1733559930/ogx0jgirrgqrjq70gjed.ico","alt","logo",2,"width","100px","align-self","center","margin","100px 0 40px"],[1,"input-group","mb-3"],["type","button",1,"btn","btn-outline-secondary",3,"input"],["type","text","placeholder","\u0627\u0633\u0645 \u0627\u0648 \u0631\u0642\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639","aria-label","Project Name or ID","aria-describedby","basic-addon1",1,"form-control",3,"ngModelChange","input","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","text","placeholder","\u0627\u0633\u0645 \u0627\u0648 \u0631\u0642\u0645 \u0627\u0644\u0645\u0628\u0646\u0649","aria-label","Building Name or ID","aria-describedby","basic-addon1",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group","style"," max-height: 300px; overflow: auto; ",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"list-group",2,"max-height","300px","overflow","auto"],["class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"],[1,"no-results"],[3,"currentProject","dataCleared","selectedBuilding",4,"ngIf"],[3,"dataCleared","selectedBuilding","currentProject"],[3,"building","takeAction",4,"ngIf"],[3,"takeAction","building"]],template:function(e,t){e&1&&(c(0,"div"),w(1,Ig,17,5,"div",0)(2,Ag,2,1,"div",1)(3,Rg,2,1,"div",1),d()),e&2&&(u(),p("ngIf",!t.selectedProject),u(),p("ngIf",t.selectedProject&&!t.selectedBuilding),u(),p("ngIf",t.selectedBuilding))},dependencies:[ye,nt,Ee,Ht,qe,at,Et,Ti,qr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.container[_ngcontent-%COMP%]{display:flex;flex:1;overflow:hidden;flex-direction:column}.container.search-container[_ngcontent-%COMP%]{max-width:500px}"]})};var sa={production:!0,apiUrl:"https://darb-al-haramain-project-back-end.onrender.com"};var Yr=class n{constructor(i,e){this.http=i;this.router=e}jwtHelper=new Mr;login(i,e){return this.http.post(`${sa.apiUrl}/auth/login`,{email:i,password:e}).pipe(mt(t=>(console.error("Login error:",t),Pt(()=>({successful:!1,message:{en:t.error?.message?.en||"Invalid credentials",ar:t.error?.message?.ar||"\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0627\u0639\u062A\u0645\u0627\u062F \u063A\u064A\u0631 \u0635\u0627\u0644\u062D\u0629"},data:null})))))}register(i,e,t,r=1){return this.http.post(`${sa.apiUrl}/auth/register`,{username:i,email:e,password:t,role_id:r}).pipe(mt(o=>(console.error("Registration error:",o),Pt(()=>({successful:!1,message:{en:o.error?.message?.en||"Registration failed",ar:o.error?.message?.ar||"\u0641\u0634\u0644 \u0627\u0644\u062A\u0633\u062C\u064A\u0644"},data:null})))))}isTokenExpired(){let i=localStorage.getItem("token");return i?this.jwtHelper.isTokenExpired(i):!0}logout(){localStorage.removeItem("token"),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||n)(U(jo),U(Xe))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var Zr=n=>({"is-invalid":n}),Lg=(n,i)=>({"alert-success":n,"alert-danger":i});function Vg(n,i){n&1&&(c(0,"div",17),_(1," \u064A\u062C\u0628 \u0625\u062F\u062E\u0627\u0644 \u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0635\u0627\u0644\u062D. "),d())}function Ng(n,i){if(n&1&&(c(0,"div",8),E(1,"input",16),w(2,Vg,2,0,"div",10),d()),n&2){let e=h();u(),p("ngClass",pe(2,Zr,e.submitted&&e.authForm.controls.email.invalid)),u(),p("ngIf",e.submitted&&e.authForm.controls.email.invalid)}}function jg(n,i){n&1&&(c(0,"div",17),_(1," \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0637\u0644\u0648\u0628. "),d())}function Bg(n,i){if(n&1&&(c(0,"div",8),E(1,"input",18),w(2,jg,2,0,"div",10),d()),n&2){let e=h();u(),p("ngClass",pe(2,Zr,e.submitted&&e.authForm.controls.username.invalid)),u(),p("ngIf",e.submitted&&e.authForm.controls.username.invalid)}}function Ug(n,i){n&1&&(c(0,"div",17),_(1," \u064A\u062C\u0628 \u0625\u062F\u062E\u0627\u0644 \u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0635\u0627\u0644\u062D. "),d())}function Hg(n,i){if(n&1&&(c(0,"div",8),E(1,"input",19),w(2,Ug,2,0,"div",10),d()),n&2){let e=h();u(),p("ngClass",pe(2,Zr,e.submitted&&e.authForm.controls.email.invalid)),u(),p("ngIf",e.submitted&&e.authForm.controls.email.invalid)}}function zg(n,i){n&1&&(c(0,"div",17),_(1," \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0637\u0644\u0648\u0628\u0629 (\u0644\u0627 \u062A\u0642\u0644 \u0639\u0646 4 \u0623\u062D\u0631\u0641). "),d())}function $g(n,i){n&1&&E(0,"span",20)}function Wg(n,i){if(n&1&&(c(0,"div",21),_(1),d()),n&2){let e=h();p("ngClass",zn(2,Lg,e.messageType==="success",e.messageType==="error")),u(),Z(" ",e.message," ")}}var Kr=class n{constructor(i,e,t,r,o){this.formBuilder=i;this.router=e;this.route=t;this.authService=r;this.platformId=o;this.authForm=this.formBuilder.group({email:["",[Bt.required,Bt.email]],password:["",[Bt.required,Bt.minLength(4)]]})}authForm;isLoginMode=!0;loading=!1;submitted=!1;message="";messageType="";returnUrl="/";ngOnInit(){We(this.platformId)&&(localStorage.getItem("token")&&this.router.navigate(["/"]),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/")}toggleMode(){this.isLoginMode=!this.isLoginMode,this.message="",this.messageType="",this.submitted=!1,this.isLoginMode?this.authForm.removeControl("username"):this.authForm.addControl("username",this.formBuilder.control("",Bt.required)),this.authForm.reset()}onSubmit(){if(this.submitted=!0,this.message="",this.messageType="",this.authForm.invalid)return;this.loading=!0;let{username:i,email:e,password:t}=this.authForm.value;this.isLoginMode?this.authService.login(e,t).subscribe({next:r=>{r.successful?this.handleAuthSuccess(r):this.handleAuthError(r)},error:r=>this.handleAuthError(r)}):this.authService.register(i,e,t).subscribe({next:r=>{r.successful?this.handleAuthSuccess(r):this.handleAuthError(r)},error:r=>this.handleAuthError(r)})}handleAuthSuccess(i){this.message=i.message.ar,this.messageType="success",this.loading=!1,i.successful&&i.data?.token&&i.data?.user&&(localStorage.setItem("token",i.data.token),localStorage.setItem("user",JSON.stringify(i.data.user)),this.router.navigateByUrl(this.returnUrl)),this.isLoginMode||this.toggleMode()}handleAuthError(i){let e=i.message?.ar;this.message=e||(this.isLoginMode?"\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0627\u0639\u062A\u0645\u0627\u062F \u063A\u064A\u0631 \u0635\u0627\u0644\u062D\u0629":"\u0641\u0634\u0644 \u0627\u0644\u062A\u0633\u062C\u064A\u0644"),this.messageType="error",this.loading=!1,console.error("Authentication error:",i)}static \u0275fac=function(e){return new(e||n)(P(_d),P(Xe),P(xt),P(Yr),P(xe))};static \u0275cmp=H({type:n,selectors:[["app-login"]],decls:22,vars:14,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-header","text-center"],[1,"card-body"],[3,"ngSubmit","formGroup"],["class","mb-3",4,"ngIf"],[1,"mb-3"],["type","password","id","password","formControlName","password","placeholder","\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0633\u0631\u0649","autocomplete","current-password",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"mt-3","text-center"],[2,"cursor","pointer","text-decoration","underline",3,"click"],["class","alert mt-3",3,"ngClass",4,"ngIf"],["type","email","id","email","formControlName","email","placeholder","\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A","autocomplete","username",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["formControlName","username","id","username","placeholder","\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",1,"form-control",3,"ngClass"],["type","email","id","email","formControlName","email","placeholder","\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u0649","autocomplete","username",1,"form-control",3,"ngClass"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"alert","mt-3",3,"ngClass"]],template:function(e,t){e&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),_(6),d()(),c(7,"div",5)(8,"form",6),C("ngSubmit",function(){return t.onSubmit()}),w(9,Ng,3,4,"div",7)(10,Bg,3,4,"div",7)(11,Hg,3,4,"div",7),c(12,"div",8),E(13,"input",9),w(14,zg,2,0,"div",10),d(),c(15,"button",11),w(16,$g,1,0,"span",12),_(17),d()(),c(18,"div",13)(19,"a",14),C("click",function(){return t.toggleMode()}),_(20),d()(),w(21,Wg,2,5,"div",15),d()()()()()),e&2&&(u(6),Ne(t.isLoginMode?"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644":"\u0627\u0644\u062A\u0633\u062C\u064A\u0644"),u(2),p("formGroup",t.authForm),u(),p("ngIf",t.isLoginMode),u(),p("ngIf",!t.isLoginMode),u(),p("ngIf",!t.isLoginMode),u(2),p("ngClass",pe(12,Zr,t.submitted&&t.authForm.controls.password.invalid)),u(),p("ngIf",t.submitted&&t.authForm.controls.password.invalid),u(),p("disabled",t.loading),u(),p("ngIf",t.loading),u(),Z(" ",t.loading?"\u062C\u0627\u0631\u064D \u0627\u0644\u062A\u062D\u0645\u064A\u0644...":t.isLoginMode?"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644":"\u0627\u0644\u062A\u0633\u062C\u064A\u0644"," "),u(3),Z(" ",t.isLoginMode?"\u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628 \u062C\u062F\u064A\u062F":"\u0644\u062F\u064A\u0643 \u062D\u0633\u0627\u0628 \u0628\u0627\u0644\u0641\u0639\u0644\u061F \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"," "),u(),p("ngIf",t.message))},dependencies:[ye,it,Ee,vd,Nr,qe,at,Fr,Ks,Zs],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(to bottom,#f2de77,#a65c1c,#bf9341);border:1.5px solid #F7F7F7}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(to bottom,#f2de77,#a65c1c,#bf9341)}[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:transparent}body[_ngcontent-%COMP%]{background-color:#202a54;color:#a65c1c;scrollbar-width:thin;scrollbar-color:linear-gradient(to bottom,#F2DE77,#A65C1C,#BF9341) #F7F7F7}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;margin:0;overflow:hidden;display:block;direction:rtl}p[_ngcontent-%COMP%]{margin:0}.input-group.mb-3[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], ul.list-group[_ngcontent-%COMP%]{border-radius:0!important}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{color:#ccc!important;border-color:#ccc!important;background:transparent!important}li[_ngcontent-%COMP%]{cursor:pointer}input[_ngcontent-%COMP%]::placeholder{color:#767676!important}button[_ngcontent-%COMP%]:hover, li[_ngcontent-%COMP%]:hover{color:#ccc!important;background:linear-gradient(to left,#f2de77,#a65c1c,#bf9341)!important;border-color:#ccc!important}button[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus, li[_ngcontent-%COMP%]:focus{box-shadow:none!important}.list-group[_ngcontent-%COMP%]{padding:0}input[type=checkbox][_ngcontent-%COMP%]{background-color:transparent;border-radius:3px;border:1px solid #F7F7F7;width:16px;height:16px;appearance:none}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#a65c1c!important}polygon[_ngcontent-%COMP%]{pointer-events:all;cursor:pointer;stroke-opacity:.5;stroke-width:.3;fill-opacity:.3;transition:opacity .3s ease-in-out}polygon[_ngcontent-%COMP%]:hover{opacity:0}.logo[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flipAnimation 10s infinite linear}@keyframes _ngcontent-%COMP%_flipAnimation{0%{transform:rotateX(0) rotateY(0)}80%{transform:rotateX(0) rotateY(0)}90%{transform:rotateX(0) rotateY(180deg)}to{transform:rotateX(0) rotateY(0)}}@keyframes _ngcontent-%COMP%_lightSlide{95%{background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.8) 50%,transparent 100%);background-position:-200%}to{background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.8) 50%,transparent 100%);background-position:200%}}@keyframes _ngcontent-%COMP%_lightSlide{95%{transform:translate(-150%);opacity:.1}97.5%{opacity:.5}to{transform:translate(150%);opacity:0}}.light-effect[_ngcontent-%COMP%]{position:relative;display:inline-block;background:#555;color:#fff;font-size:24px;padding:20px;border-radius:5px;overflow:hidden}.light-effect[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:50%;height:100%;background:#ffffff80;box-shadow:0 0 20px 10px #fff3;transform:translate(-150%);animation:_ngcontent-%COMP%_lightSlide 15s linear infinite;pointer-events:none}.click-through[_ngcontent-%COMP%]{pointer-events:none!important}[_nghost-%COMP%]{width:100%;height:100%;display:block;align-content:center}.card[_ngcontent-%COMP%]{color:#f7f7f7;background:transparent}.card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{border-radius:0}.invalid-feedback[_ngcontent-%COMP%]{display:block}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.alert[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.spinner-border-sm[_ngcontent-%COMP%]{margin-right:5px}']})};var Xr=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=H({type:n,selectors:[["app-profile"]],decls:2,vars:0,template:function(e,t){e&1&&(c(0,"p"),_(1,"profile works!"),d())},encapsulation:2})};var Jr=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=H({type:n,selectors:[["app-settings"]],decls:2,vars:0,template:function(e,t){e&1&&(c(0,"p"),_(1,"settings works!"),d())},encapsulation:2})};var la;try{la=typeof Intl<"u"&&Intl.v8BreakIterator}catch{la=!1}var Ve=(()=>{class n{_platformId=f(xe);isBrowser=this._platformId?We(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||la)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Tn;function Gg(){if(Tn==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tn=!0}))}finally{Tn=Tn||!1}return Tn}function $t(n){return Gg()?n:!!n.capture}var Je=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Je||{}),eo,oi;function Pd(){if(oi==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return oi=!1,oi;if("scrollBehavior"in document.documentElement.style)oi=!0;else{let n=Element.prototype.scrollTo;n?oi=!/\{\s*\[native code\]\s*\}/.test(n.toString()):oi=!1}}return oi}function Ri(){if(typeof document!="object"||!document)return Je.NORMAL;if(eo==null){let n=document.createElement("div"),i=n.style;n.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";let e=document.createElement("div"),t=e.style;t.width="2px",t.height="1px",n.appendChild(e),document.body.appendChild(n),eo=Je.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,eo=n.scrollLeft===0?Je.NEGATED:Je.INVERTED),n.remove()}return eo}var aa;function qg(){if(aa==null){let n=typeof document<"u"?document.head:null;aa=!!(n&&(n.createShadowRoot||n.attachShadow))}return aa}function Od(n){if(qg()){let i=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function Wt(n){return n.composedPath?n.composedPath()[0]:n.target}var to=new WeakMap,io=(()=>{class n{_appRef;_injector=f(ze);_environmentInjector=f(It);load(e){let t=this._appRef=this._appRef||this._injector.get(Zt),r=to.get(t);r||(r={loaders:new Set,refs:[]},to.set(t,r),t.onDestroy(()=>{to.get(t)?.refs.forEach(o=>o.destroy()),to.delete(t)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(Ao(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function no(n,...i){return i.length?i.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ca(n,i=0){return Qg(n)?Number(n):arguments.length===2?i:0}function Qg(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function da(n){return Array.isArray(n)?n:[n]}function et(n){return n instanceof Y?n.nativeElement:n}function Yg(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let i=0;i<n.addedNodes.length;i++)if(!(n.addedNodes[i]instanceof Comment))return!1;for(let i=0;i<n.removedNodes.length;i++)if(!(n.removedNodes[i]instanceof Comment))return!1;return!0}return!1}var Kg=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zg=(()=>{class n{_mutationObserverFactory=f(Kg);_observedElements=new Map;_ngZone=f(q);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){let t=et(e);return new ke(r=>{let s=this._observeElement(t).pipe(j(a=>a.filter(l=>!Yg(l))),ve(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{r.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let t=new B,r=this._mutationObserverFactory.create(o=>t.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:t,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:t,stream:r}=this._observedElements.get(e);t&&t.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sd=(()=>{class n{_contentObserver=f(Zg);_elementRef=f(Y);event=new F;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=ca(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(Ot(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=k({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",ae],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],features:[Fe]})}return n})();var Td=new Set,si,Xg=(()=>{class n{_platform=f(Ve);_nonce=f(zi,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):e0}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Jg(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jg(n,i){if(!Td.has(n))try{si||(si=document.createElement("style"),i&&si.setAttribute("nonce",i),si.setAttribute("type","text/css"),document.head.appendChild(si)),si.sheet&&(si.sheet.insertRule(`@media ${n} {body{ }}`,0),Td.add(n))}catch(e){console.error(e)}}function e0(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Dd=(()=>{class n{_mediaMatcher=f(Xg);_zone=f(q);_queries=new Map;_destroySubject=new B;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Id(da(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=Id(da(e)).map(s=>this._registerQuery(s).observable),o=ji(r);return o=kn(o.pipe(ft(1)),o.pipe(ci(1),Ot(0))),o.pipe(j(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:m})=>{a.matches=a.matches||l,a.breakpoints[m]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let t=this._mediaMatcher.matchMedia(e),o={observable:new ke(s=>{let a=l=>this._zone.run(()=>s.next(l));return t.addListener(a),()=>{t.removeListener(a)}}).pipe(gt(t),j(({matches:s})=>({query:e,matches:s})),we(this._destroySubject)),mql:t};return this._queries.set(e,o),o}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Id(n){return n.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}var b0=200,pa=class{_letterKeyStream=new B;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new B;selectedItem=this._selectedItem;constructor(i,e){let t=typeof e?.debounceInterval=="number"?e.debounceInterval:b0;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(i),this._setupKeyHandler(t)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(i){this._selectedItemIndex=i}setItems(i){this._items=i}handleKey(i){let e=i.keyCode;i.key&&i.key.length===1?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(i){this._letterKeyStream.pipe(le(e=>this._pressedLetters.push(e)),Ot(i),ve(()=>this._pressedLetters.length>0),j(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let t=1;t<this._items.length+1;t++){let r=(this._selectedItemIndex+t)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}},ma=class{_items;_activeItemIndex=-1;_activeItem=At(null);_wrap=!1;_typeaheadSubscription=Ye.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=i=>i.disabled;constructor(i,e){this._items=i,i instanceof Ui?this._itemChangesSubscription=i.changes.subscribe(t=>this._itemsChanged(t.toArray())):Vn(i)&&(this._effectRef=cl(()=>this._itemsChanged(i()),{injector:e}))}tabOut=new B;change=new B;skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new pa(e,{debounceInterval:typeof i=="number"?i:void 0,skipPredicate:t=>this._skipPredicateFn(t)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(t=>{this.setActiveItem(t)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,e=10){return this._pageUpAndDown={enabled:i,delta:e},this}setActiveItem(i){let e=this._activeItem();this.updateActiveItem(i),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(i){let e=i.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!i[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||no(i,"shiftKey"))&&this._typeahead?.handleKey(i);return}this._typeahead?.reset(),i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){let e=this._getItemsArray(),t=typeof i=="number"?i:e.indexOf(i),r=e[t];this._activeItem.set(r??null),this._activeItemIndex=t,this._typeahead?.setCurrentSelectedItemIndex(t)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){let e=this._getItemsArray();for(let t=1;t<=e.length;t++){let r=(this._activeItemIndex+i*t+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,e){let t=this._getItemsArray();if(t[i]){for(;this._skipPredicateFn(t[i]);)if(i+=e,!t[i])return;this.setActiveItem(i)}}_getItemsArray(){return Vn(this._items)?this._items():this._items instanceof Ui?this._items.toArray():this._items}_itemsChanged(i){this._typeahead?.setItems(i);let e=this._activeItem();if(e){let t=i.indexOf(e);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t,this._typeahead?.setCurrentSelectedItemIndex(t))}}};var so=class extends ma{_origin="program";setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}};function fa(n){return n.buttons===0||n.detail===0}function ga(n){let i=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!i&&i.identifier===-1&&(i.radiusX==null||i.radiusX===1)&&(i.radiusY==null||i.radiusY===1)}var y0=new I("cdk-input-modality-detector-options"),w0={ignoreKeys:[18,17,224,91,16]},Rd=650,Fi=$t({passive:!0,capture:!0}),C0=(()=>{class n{_platform=f(Ve);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Me(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(t=>t===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Wt(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<Rd||(this._modality.next(fa(e)?"keyboard":"mouse"),this._mostRecentTarget=Wt(e))};_onTouchstart=e=>{if(ga(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Wt(e)};constructor(){let e=f(q),t=f(se),r=f(y0,{optional:!0});this._options=M(M({},w0),r),this.modalityDetected=this._modality.pipe(ci(1)),this.modalityChanged=this.modalityDetected.pipe(li()),this._platform.isBrowser&&e.runOutsideAngular(()=>{t.addEventListener("keydown",this._onKeydown,Fi),t.addEventListener("mousedown",this._onMousedown,Fi),t.addEventListener("touchstart",this._onTouchstart,Fi)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Fi),document.removeEventListener("mousedown",this._onMousedown,Fi),document.removeEventListener("touchstart",this._onTouchstart,Fi))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oo=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(oo||{}),x0=new I("cdk-focus-monitor-default-options"),ro=$t({passive:!0,capture:!0}),Fd=(()=>{class n{_ngZone=f(q);_platform=f(Ve);_inputModalityDetector=f(C0);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=f(se,{optional:!0});_stopInputModalityDetector=new B;constructor(){let e=f(x0,{optional:!0});this._detectionMode=e?.detectionMode||oo.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let t=Wt(e);for(let r=t;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,t=!1){let r=et(e);if(!this._platform.isBrowser||r.nodeType!==1)return D();let o=Od(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return t&&(s.checkChildren=!0),s.subject;let a={checkChildren:t,subject:new B,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let t=et(e),r=this._elementInfo.get(t);r&&(r.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(r))}focusVia(e,t,r){let o=et(e),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,t,l)):(this._setOrigin(t),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===oo.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,t){e.classList.toggle("cdk-focused",!!t),e.classList.toggle("cdk-touch-focused",t==="touch"),e.classList.toggle("cdk-keyboard-focused",t==="keyboard"),e.classList.toggle("cdk-mouse-focused",t==="mouse"),e.classList.toggle("cdk-program-focused",t==="program")}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&t,this._detectionMode===oo.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Rd:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,t){let r=this._elementInfo.get(t),o=Wt(e);!r||!r.checkChildren&&t!==o||this._originChanged(t,this._getFocusOrigin(o),r)}_onBlur(e,t){let r=this._elementInfo.get(t);!r||r.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(r,null))}_emitOrigin(e,t){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let t=e.rootNode,r=this._rootNodeFocusListenerCount.get(t)||0;r||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,ro),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,ro)}),this._rootNodeFocusListenerCount.set(t,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(we(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){let r=this._rootNodeFocusListenerCount.get(t);r>1?this._rootNodeFocusListenerCount.set(t,r-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ro),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ro),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,r){this._setClasses(e,t),this._emitOrigin(r,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){let t=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&t.push([o,r])}),t}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:t,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!t||t===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(t))return!0}return!1}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ld=(()=>{class n{_elementRef=f(Y);_focusMonitor=f(Fd);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new F;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>{this._focusOrigin=t,this.cdkFocusChange.emit(t)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=k({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})(),ai=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(ai||{}),Ad="cdk-high-contrast-black-on-white",kd="cdk-high-contrast-white-on-black",ua="cdk-high-contrast-active",Vd=(()=>{class n{_platform=f(Ve);_hasCheckedHighContrastMode;_document=f(se);_breakpointSubscription;constructor(){this._breakpointSubscription=f(Dd).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ai.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let t=this._document.defaultView||window,r=t&&t.getComputedStyle?t.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ai.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ai.BLACK_ON_WHITE}return ai.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(ua,Ad,kd),this._hasCheckedHighContrastMode=!0;let t=this.getHighContrastMode();t===ai.BLACK_ON_WHITE?e.add(ua,Ad):t===ai.WHITE_ON_BLACK&&e.add(ua,kd)}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ha={},_a=(()=>{class n{_appId=f(Hi);getId(e){return this._appId!=="ng"&&(e+=this._appId),ha.hasOwnProperty(e)||(ha[e]=0),`${e}${ha[e]++}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var M0=new I("cdk-dir-doc",{providedIn:"root",factory:E0});function E0(){return f(se)}var P0=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function O0(n){let i=n?.toLowerCase()||"";return i==="auto"&&typeof navigator<"u"&&navigator?.language?P0.test(navigator.language)?"rtl":"ltr":i==="rtl"?"rtl":"ltr"}var In=(()=>{class n{value="ltr";change=new F;constructor(){let e=f(M0,{optional:!0});if(e){let t=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=O0(t||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ao=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({})}return n})();var wa=(()=>{class n{constructor(){f(Vd)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(t){return new(t||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[ao,ao]})}return n})();var zd=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=H({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(t,r){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return n})();var Qe=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Qe||{}),va=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Qe.HIDDEN;constructor(i,e,t,r=!1){this._renderer=i,this.element=e,this.config=t,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},Nd=$t({passive:!0,capture:!0}),ba=class{_events=new Map;addHandler(i,e,t,r){let o=this._events.get(e);if(o){let s=o.get(t);s?s.add(r):o.set(t,new Set([r]))}else this._events.set(e,new Map([[t,new Set([r])]])),i.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Nd)})}removeHandler(i,e,t){let r=this._events.get(i);if(!r)return;let o=r.get(e);o&&(o.delete(t),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,Nd)))}_delegateEventHandler=i=>{let e=Wt(i);e&&this._events.get(i.type)?.forEach((t,r)=>{(r===e||r.contains(e))&&t.forEach(o=>o.handleEvent(i))})}},jd={enterDuration:225,exitDuration:150},S0=800,Bd=$t({passive:!0,capture:!0}),Ud=["mousedown","touchstart"],Hd=["mouseup","mouseleave","touchend","touchcancel"],T0=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=H({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(t,r){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return n})(),ya=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new ba;constructor(i,e,t,r,o){this._target=i,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=et(t)),o&&o.get(io).load(T0)}fadeInRipple(i,e,t={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=M(M({},jd),t.animation);t.centered&&(i=r.left+r.width/2,e=r.top+r.height/2);let s=t.radius||I0(i,e,r),a=i-r.left,l=e-r.top,m=o.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=`${a-s}px`,g.style.top=`${l-s}px`,g.style.height=`${s*2}px`,g.style.width=`${s*2}px`,t.color!=null&&(g.style.backgroundColor=t.color),g.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(g);let x=window.getComputedStyle(g),T=x.transitionProperty,R=x.transitionDuration,W=T==="none"||R==="0s"||R==="0s, 0s"||r.width===0&&r.height===0,L=new va(this,g,t,W);g.style.transform="scale3d(1, 1, 1)",L.state=Qe.FADING_IN,t.persistent||(this._mostRecentTransientRipple=L);let V=null;return!W&&(m||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let be=()=>{V&&(V.fallbackTimer=null),clearTimeout(ee),this._finishRippleTransition(L)},Ae=()=>this._destroyRipple(L),ee=setTimeout(Ae,m+100);g.addEventListener("transitionend",be),g.addEventListener("transitioncancel",Ae),V={onTransitionEnd:be,onTransitionCancel:Ae,fallbackTimer:ee}}),this._activeRipples.set(L,V),(W||!m)&&this._finishRippleTransition(L),L}fadeOutRipple(i){if(i.state===Qe.FADING_OUT||i.state===Qe.HIDDEN)return;let e=i.element,t=M(M({},jd),i.config.animation);e.style.transitionDuration=`${t.exitDuration}ms`,e.style.opacity="0",i.state=Qe.FADING_OUT,(i._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){let e=et(i);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Ud.forEach(t=>{n._eventManager.addHandler(this._ngZone,t,e,this)}))}handleEvent(i){i.type==="mousedown"?this._onMousedown(i):i.type==="touchstart"?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Hd.forEach(e=>{this._triggerElement.addEventListener(e,this,Bd)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===Qe.FADING_IN?this._startFadeOutTransition(i):i.state===Qe.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){let e=i===this._mostRecentTransientRipple,{persistent:t}=i.config;i.state=Qe.VISIBLE,!t&&(!e||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){let e=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=Qe.HIDDEN,e!==null&&(i.element.removeEventListener("transitionend",e.onTransitionEnd),i.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),i.element.remove()}_onMousedown(i){let e=fa(i),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+S0;!this._target.rippleDisabled&&!e&&!t&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!ga(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=i.changedTouches;if(e)for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{let e=i.state===Qe.VISIBLE||i.config.terminateOnPointerUp&&i.state===Qe.FADING_IN;!i.config.persistent&&e&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let i=this._triggerElement;i&&(Ud.forEach(e=>n._eventManager.removeHandler(e,i,this)),this._pointerUpEventsRegistered&&(Hd.forEach(e=>i.removeEventListener(e,this,Bd)),this._pointerUpEventsRegistered=!1))}};function I0(n,i,e){let t=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(i-e.top),Math.abs(i-e.bottom));return Math.sqrt(t*t+r*r)}var $d=new I("mat-ripple-global-options"),Ca=(()=>{class n{_elementRef=f(Y);_animationMode=f(Yt,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=f(q),t=f(Ve),r=f($d,{optional:!0}),o=f(ze);this._globalOptions=r||{},this._rippleRenderer=new ya(this,e,this._elementRef,t,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:M(M(M({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,t,M(M({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,M(M({},this.rippleConfig),e))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=k({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){t&2&&fe("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var Dn=class{_attachedHost;attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;i!=null&&(this._attachedHost=null,i.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},xa=class extends Dn{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(i,e,t,r,o){super(),this.component=i,this.viewContainerRef=e,this.injector=t,this.projectableNodes=o}},Li=class extends Dn{templateRef;viewContainerRef;context;injector;constructor(i,e,t,r){super(),this.templateRef=i,this.viewContainerRef=e,this.context=t,this.injector=r}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}},Ma=class extends Dn{element;constructor(i){super(),this.element=i instanceof Y?i.nativeElement:i}},Ea=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(i){if(i instanceof xa)return this._attachedPortal=i,this.attachComponentPortal(i);if(i instanceof Li)return this._attachedPortal=i,this.attachTemplatePortal(i);if(this.attachDomPortal&&i instanceof Ma)return this._attachedPortal=i,this.attachDomPortal(i)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Wd=(()=>{class n extends Li{constructor(){let e=f(Kt),t=f(Dt);super(e,t)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=k({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[ie]})}return n})();var lo=(()=>{class n extends Ea{_moduleRef=f(Xa,{optional:!0});_document=f(se);_viewContainerRef=f(Dt);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new F;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let t=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=t.createComponent(e.component,{index:t.length,injector:e.injector||t.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return t!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(r,t),this._getRootNode().appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(t){return new(t||n)};static \u0275dir=k({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ie]})}return n})();var Pa=class{_box;_destroyed=new B;_resizeSubject=new B;_resizeObserver;_elementObservables=new Map;constructor(i){this._box=i,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(i){return this._elementObservables.has(i)||this._elementObservables.set(i,new ke(e=>{let t=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(i,{box:this._box}),()=>{this._resizeObserver?.unobserve(i),t.unsubscribe(),this._elementObservables.delete(i)}}).pipe(ve(e=>e.some(t=>t.target===i)),wo({bufferSize:1,refCount:!0}),we(this._destroyed))),this._elementObservables.get(i)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Gd=(()=>{class n{_observers=new Map;_ngZone=f(q);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(e,t){let r=t?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Pa(r)),this._observers.get(r).observe(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var D0=20,A0=(()=>{class n{_ngZone=f(q);_platform=f(Ve);_document=f(se,{optional:!0});constructor(){}_scrolled=new B;_globalSubscription=null;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=D0){return this._platform.isBrowser?new ke(t=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(vo(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):D()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){let r=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(ve(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let t=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&t.push(o)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let r=et(t),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return Gt(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qd=(()=>{class n{elementRef=f(Y);scrollDispatcher=f(A0);ngZone=f(q);dir=f(In,{optional:!0});_destroyed=new B;_elementScrolled=new ke(e=>this.ngZone.runOutsideAngular(()=>Gt(this.elementRef.nativeElement,"scroll").pipe(we(this._destroyed)).subscribe(e)));constructor(){}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let t=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),r&&Ri()!=Je.NORMAL?(e.left!=null&&(e.right=t.scrollWidth-t.clientWidth-e.left),Ri()==Je.INVERTED?e.left=e.right:Ri()==Je.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let t=this.elementRef.nativeElement;Pd()?t.scrollTo(e):(e.top!=null&&(t.scrollTop=e.top),e.left!=null&&(t.scrollLeft=e.left))}measureScrollOffset(e){let t="left",r="right",o=this.elementRef.nativeElement;if(e=="top")return o.scrollTop;if(e=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?r:t:e=="end"&&(e=s?t:r),s&&Ri()==Je.INVERTED?e==t?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&Ri()==Je.NEGATED?e==t?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==t?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(t){return new(t||n)};static \u0275dir=k({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),k0=20,Qd=(()=>{class n{_platform=f(Ve);_viewportSize;_change=new B;_changeListener=e=>{this._change.next(e)};_document=f(se,{optional:!0});constructor(){f(q).runOutsideAngular(()=>{if(this._platform.isBrowser){let t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+t,height:r,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),s=-o.top||e.body.scrollTop||t.scrollY||r.scrollTop||0,a=-o.left||e.body.scrollLeft||t.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(e=k0){return e>0?this._change.pipe(vo(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ia=["*"];function L0(n,i){n&1&&ui(0)}var V0=["tabListContainer"],N0=["tabList"],j0=["tabListInner"],B0=["nextPaginator"],U0=["previousPaginator"],H0=n=>({animationDuration:n}),z0=(n,i)=>({value:n,params:i});function $0(n,i){}var W0=["tabBodyWrapper"],G0=["tabHeader"];function q0(n,i){}function Q0(n,i){if(n&1&&w(0,q0,0,0,"ng-template",12),n&2){let e=h().$implicit;p("cdkPortalOutlet",e.templateLabel)}}function Y0(n,i){if(n&1&&_(0),n&2){let e=h().$implicit;Ne(e.textLabel)}}function K0(n,i){if(n&1){let e=A();c(0,"div",7,2),C("click",function(){let r=b(e),o=r.$implicit,s=r.$index,a=h(),l=Io(1);return y(a._handleClick(o,l,s))})("cdkFocusChange",function(r){let o=b(e).$index,s=h();return y(s._tabFocusChanged(r,o))}),E(2,"span",8)(3,"div",9),c(4,"span",10)(5,"span",11),w(6,Q0,1,1,null,12)(7,Y0,1,1),d()()()}if(n&2){let e=i.$implicit,t=i.$index,r=Io(1),o=h();_t(e.labelClass),fe("mdc-tab--active",o.selectedIndex===t),p("id",o._getTabLabelId(t))("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),oe("tabIndex",o._getTabIndex(t))("aria-posinset",t+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(t))("aria-selected",o.selectedIndex===t)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),u(3),p("matRippleTrigger",r)("matRippleDisabled",e.disabled||o.disableRipple),u(3),Un(e.templateLabel?6:7)}}function Z0(n,i){n&1&&ui(0)}function X0(n,i){if(n&1){let e=A();c(0,"mat-tab-body",13),C("_onCentered",function(){b(e);let r=h();return y(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){b(e);let o=h();return y(o._setTabBodyWrapperHeight(r))}),d()}if(n&2){let e=i.$implicit,t=i.$index,r=h();_t(e.bodyClass),fe("mat-mdc-tab-body-active",r.selectedIndex===t),p("id",r._getTabContentId(t))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),oe("tabindex",r.contentTabIndex!=null&&r.selectedIndex===t?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(t))("aria-hidden",r.selectedIndex!==t)}}var J0=new I("MatTabContent"),e_=(()=>{class n{template=f(Kt);constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=k({type:n,selectors:[["","matTabContent",""]],features:[he([{provide:J0,useExisting:n}])]})}return n})(),t_=new I("MatTabLabel"),Zd=new I("MAT_TAB"),i_=(()=>{class n extends Wd{_closestTab=f(Zd,{optional:!0});static \u0275fac=(()=>{let e;return function(r){return(e||(e=Oe(n)))(r||n)}})();static \u0275dir=k({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[he([{provide:t_,useExisting:n}]),ie]})}return n})(),Xd=new I("MAT_TAB_GROUP"),Da=(()=>{class n{_viewContainerRef=f(Dt);_closestTabGroup=f(Xd,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new B;position=null;origin=null;isActive=!1;constructor(){f(io).load(zd)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Li(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=H({type:n,selectors:[["mat-tab"]],contentQueries:function(t,r,o){if(t&1&&(kt(o,i_,5),kt(o,e_,7,Kt)),t&2){let s;z(s=$())&&(r.templateLabel=s.first),z(s=$())&&(r._explicitContent=s.first)}},viewQuery:function(t,r){if(t&1&&K(Kt,7),t&2){let o;z(o=$())&&(r._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",ae],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[he([{provide:Zd,useExisting:n}]),Fe,Ce],ngContentSelectors:Ia,decls:1,vars:0,template:function(t,r){t&1&&(di(),w(0,L0,1,0,"ng-template"))},encapsulation:2})}return n})(),Oa="mdc-tab-indicator--active",Yd="mdc-tab-indicator--no-transition",Sa=class{_items;_currentItem;constructor(i){this._items=i}hide(){this._items.forEach(i=>i.deactivateInkBar()),this._currentItem=void 0}alignToElement(i){let e=this._items.find(r=>r.elementRef.nativeElement===i),t=this._currentItem;if(e!==t&&(t?.deactivateInkBar(),e)){let r=t?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}},n_=(()=>{class n{_elementRef=f(Y);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let t=this._elementRef.nativeElement;if(!e||!t.getBoundingClientRect||!this._inkBarContentElement){t.classList.add(Oa);return}let r=t.getBoundingClientRect(),o=e.width/r.width,s=e.left-r.left;t.classList.add(Yd),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),t.getBoundingClientRect(),t.classList.remove(Yd),t.classList.add(Oa),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Oa)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,t=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");t.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",t.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=k({type:n,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",ae]},features:[Fe]})}return n})();var Jd=(()=>{class n extends n_{elementRef=f(Y);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Oe(n)))(r||n)}})();static \u0275dir=k({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,r){t&2&&(oe("aria-disabled",!!r.disabled),fe("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",ae]},features:[Fe,ie]})}return n})(),Kd=$t({passive:!0}),r_=650,o_=100,s_=(()=>{class n{_elementRef=f(Y);_changeDetectorRef=f(Se);_viewportRuler=f(Qd);_dir=f(In,{optional:!0});_ngZone=f(q);_platform=f(Ve);_animationMode=f(Yt,{optional:!0});_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new B;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new B;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let t=isNaN(e)?0:e;this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}_selectedIndex=0;selectFocusedIndex=new F;indexFocused=new F;_sharedResizeObserver=f(Gd);_injector=f(ze);constructor(){this._ngZone.runOutsideAngular(()=>{Gt(this._elementRef.nativeElement,"mouseleave").pipe(we(this._destroyed)).subscribe(()=>this._stopInterval())})}ngAfterViewInit(){Gt(this._previousPaginator.nativeElement,"touchstart",Kd).pipe(we(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Gt(this._nextPaginator.nativeElement,"touchstart",Kd).pipe(we(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let e=this._dir?this._dir.change:D("ltr"),t=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Ot(32),we(this._destroyed)),r=this._viewportRuler.change(150).pipe(we(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new so(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),$i(o,{injector:this._injector}),Rn(e,r,t,this._items.changes,this._itemsResized()).pipe(we(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?tt:this._items.changes.pipe(gt(this._items),Ie(e=>new ke(t=>this._ngZone.runOutsideAngular(()=>{let r=new ResizeObserver(o=>t.next(o));return e.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),ci(1),ve(e=>e.some(t=>t.contentRect.width>0&&t.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!no(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let t=this._items.get(this.focusIndex);t&&!t.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let t=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?t.scrollLeft=0:t.scrollLeft=t.scrollWidth-t.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,t=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(t)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let t=this._tabListContainer.nativeElement.offsetWidth,r=(e=="before"?-1:1)*t/3;return this._scrollTo(this._scrollDistance+r)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let t=this._items?this._items.toArray()[e]:null;if(!t)return;let r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=t.elementRef.nativeElement,a,l;this._getLayoutDirection()=="ltr"?(a=o,l=a+s):(l=this._tabListInner.nativeElement.offsetWidth-o,a=l-s);let m=this.scrollDistance,g=this.scrollDistance+r;a<m?this.scrollDistance-=m-a:l>g&&(this.scrollDistance+=Math.min(l-g,a-m))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,t=this._elementRef.nativeElement.offsetWidth,r=e-t>=5;r||(this.scrollDistance=0),r!==this._showPaginationControls&&(this._showPaginationControls=r,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,t=this._tabListContainer.nativeElement.offsetWidth;return e-t||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t?this._inkBar.alignToElement(t):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,t){t&&t.button!=null&&t.button!==0||(this._stopInterval(),Na(r_,o_).pipe(we(Rn(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(o===0||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance}}static \u0275fac=function(t){return new(t||n)};static \u0275dir=k({type:n,inputs:{disablePagination:[2,"disablePagination","disablePagination",ae],selectedIndex:[2,"selectedIndex","selectedIndex",Wn]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Fe]})}return n})(),a_=(()=>{class n extends s_{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new Sa(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Oe(n)))(r||n)}})();static \u0275cmp=H({type:n,selectors:[["mat-tab-header"]],contentQueries:function(t,r,o){if(t&1&&kt(o,Jd,4),t&2){let s;z(s=$())&&(r._items=s)}},viewQuery:function(t,r){if(t&1&&(K(V0,7),K(N0,7),K(j0,7),K(B0,5),K(U0,5)),t&2){let o;z(o=$())&&(r._tabListContainer=o.first),z(o=$())&&(r._tabList=o.first),z(o=$())&&(r._tabListInner=o.first),z(o=$())&&(r._nextPaginator=o.first),z(o=$())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(t,r){t&2&&fe("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl",r._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",ae]},features:[Fe,ie],ngContentSelectors:Ia,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(t,r){if(t&1){let o=A();di(),c(0,"div",5,0),C("click",function(){return b(o),y(r._handlePaginatorClick("before"))})("mousedown",function(a){return b(o),y(r._handlePaginatorPress("before",a))})("touchend",function(){return b(o),y(r._stopInterval())}),E(2,"div",6),d(),c(3,"div",7,1),C("keydown",function(a){return b(o),y(r._handleKeydown(a))}),c(5,"div",8,2),C("cdkObserveContent",function(){return b(o),y(r._onContentChanges())}),c(7,"div",9,3),ui(9),d()()(),c(10,"div",10,4),C("mousedown",function(a){return b(o),y(r._handlePaginatorPress("after",a))})("click",function(){return b(o),y(r._handlePaginatorClick("after"))})("touchend",function(){return b(o),y(r._stopInterval())}),E(12,"div",6),d()}t&2&&(fe("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),p("matRippleDisabled",r._disableScrollBefore||r.disableRipple),u(3),fe("_mat-animation-noopable",r._animationMode==="NoopAnimations"),u(2),oe("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null),u(5),fe("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),p("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[Ca,Sd],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}"],encapsulation:2})}return n})(),l_=new I("MAT_TABS_CONFIG"),c_={translateTab:gl("translateTab",[Kn("center, void, left-origin-center, right-origin-center",mi({transform:"none",visibility:"visible"})),Kn("left",mi({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Kn("right",mi({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Zn("* => left, * => right, left => center, right => center",Yn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Zn("void => left-origin-center",[mi({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Yn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Zn("void => right-origin-center",[mi({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Yn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},d_=(()=>{class n extends lo{_host=f(eu);_centeringSub=Ye.EMPTY;_leavingSub=Ye.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(gt(this._host._isCenterPosition(this._host._position))).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=k({type:n,selectors:[["","matTabBodyHost",""]],features:[ie]})}return n})(),eu=(()=>{class n{_elementRef=f(Y);_dir=f(In,{optional:!0});_positionIndex;_dirChangeSubscription=Ye.EMPTY;_position;_translateTabComplete=new B;_onCentering=new F;_beforeCentering=new F;_afterLeavingCenter=new F;_onCentered=new F(!0);_portalHost;_content;origin;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=f(Se);this._dirChangeSubscription=this._dir.change.subscribe(t=>{this._computePositionAnimationState(t),e.markForCheck()})}this._translateTabComplete.subscribe(e=>{this._isCenterPosition(e.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(e.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){let t=this._isCenterPosition(e.toState);this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(e){return e=="center"||e=="left-origin-center"||e=="right-origin-center"}_computePositionAnimationState(e=this._getLayoutDirection()){this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(e){let t=this._getLayoutDirection();return t=="ltr"&&e<=0||t=="rtl"&&e>0?"left-origin-center":"right-origin-center"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=H({type:n,selectors:[["mat-tab-body"]],viewQuery:function(t,r){if(t&1&&K(lo,5),t&2){let o;z(o=$())&&(r._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(t,r){if(t&1){let o=A();c(0,"div",1,0),C("@translateTab.start",function(a){return b(o),y(r._onTranslateTabStarted(a))})("@translateTab.done",function(a){return b(o),y(r._translateTabComplete.next(a))}),w(2,$0,0,0,"ng-template",2),d()}t&2&&p("@translateTab",zn(3,z0,r._position,pe(1,H0,r.animationDuration)))},dependencies:[d_,qd],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[c_.translateTab]}})}return n})(),u_=!0,tu=(()=>{class n{_elementRef=f(Y);_changeDetectorRef=f(Se);_animationMode=f(Yt,{optional:!0});_allTabs;_tabBodyWrapper;_tabHeader;_tabs=new Ui;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;_tabsSubscription=Ye.EMPTY;_tabLabelSubscription=Ye.EMPTY;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let t=e+"";this._animationDuration=/^\d+$/.test(t)?e+"ms":t}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){if(!u_)throw new Error("mat-tab-group background color must be set through the Sass theming API");let t=this._elementRef.nativeElement.classList;t.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&t.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new F;focusChange=new F;animationDone=new F;selectedTabChange=new F(!0);_groupId;_isServer=!f(Ve).isBrowser;constructor(){let e=f(l_,{optional:!0});this._groupId=f(_a).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let t=this._selectedIndex==null;if(!t){this.selectedTabChange.emit(this._createChangeEvent(e));let r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),t||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((t,r)=>{t.position=r-e,this._selectedIndex!=null&&t.position==0&&!t.origin&&(t.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let t=this._tabs.toArray(),r;for(let o=0;o<t.length;o++)if(t[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=t[o];break}!r&&t[e]&&Promise.resolve().then(()=>{t[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(gt(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(t=>t._closestTabGroup===this||!t._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let t=this._tabHeader;t&&(t.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let t=new Ta;return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Rn(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`${this._groupId}-label-${e}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,t,r){t.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){let t=this._lastFocusedTabIndex??this.selectedIndex;return e===t?0:-1}_tabFocusChanged(e,t){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=t)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=H({type:n,selectors:[["mat-tab-group"]],contentQueries:function(t,r,o){if(t&1&&kt(o,Da,5),t&2){let s;z(s=$())&&(r._allTabs=s)}},viewQuery:function(t,r){if(t&1&&(K(W0,5),K(G0,5)),t&2){let o;z(o=$())&&(r._tabBodyWrapper=o.first),z(o=$())&&(r._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(t,r){t&2&&(oe("mat-align-tabs",r.alignTabs),_t("mat-"+(r.color||"primary")),Le("--mat-tab-animation-duration",r.animationDuration),fe("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header",r.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",ae],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",ae],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",ae],selectedIndex:[2,"selectedIndex","selectedIndex",Wn],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Wn],disablePagination:[2,"disablePagination","disablePagination",ae],disableRipple:[2,"disableRipple","disableRipple",ae],preserveContent:[2,"preserveContent","preserveContent",ae],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[he([{provide:Xd,useExisting:n}]),Fe],ngContentSelectors:Ia,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(t,r){if(t&1){let o=A();di(),c(0,"mat-tab-header",3,0),C("indexFocused",function(a){return b(o),y(r._focusChanged(a))})("selectFocusedIndex",function(a){return b(o),y(r.selectedIndex=a)}),So(2,K0,8,17,"div",4,Oo),d(),w(4,Z0,1,0),c(5,"div",5,1),So(7,X0,1,13,"mat-tab-body",6,Oo),d()}t&2&&(p("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),u(2),To(r._tabs),u(2),Un(r._isServer?4:-1),u(),fe("_mat-animation-noopable",r._animationMode==="NoopAnimations"),u(2),To(r._tabs))},dependencies:[a_,Jd,Ld,Ca,lo,eu],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return n})(),Ta=class{index;tab};var iu=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ue({type:n});static \u0275inj=ce({imports:[wa,wa]})}return n})();var p_=n=>({clickable:n}),m_=n=>({active:n});function f_(n,i){if(n&1){let e=A();c(0,"app-projects-dashboard",6),C("selectedBorderPointChange",function(r){b(e);let o=h(2);return y(o.selectedBorderPoint=r)}),d()}if(n&2){let e=h(2);p("isAddingMode",!0)("newPointBoarder",e.newPointBoarder)("selectedBorderPoint",e.selectedBorderPoint)("addingPointType",e.currentPointType)("showSidebar",!1)("newProject",e.currentProject)("projectsMap",e.projectsMap)("addStage",e.currentStage)}}function g_(n,i){if(n&1&&(c(0,"div"),w(1,f_,1,8,"app-projects-dashboard",5),d()),n&2){let e=h();u(),p("ngIf",e.currentProject)}}function __(n,i){if(n&1&&(c(0,"div"),E(1,"img",22),d()),n&2){let e=h(2);u(),p("src",e.currentProject.logo,Re)}}function v_(n,i){if(n&1&&(c(0,"div"),E(1,"img",23),d()),n&2){let e=h(2);u(),p("src",e.currentProject.mapImage,Re)}}function b_(n,i){n&1&&(c(0,"div")(1,"p"),_(2,'\u064A\u062A\u0645 \u0646\u0642\u0644 \u0647\u0630\u0647 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0649 \u0635\u0641\u062D\u0629 "\u062D\u0633\u0627\u0628\u0649"...'),d()())}function y_(n,i){if(n&1){let e=A();c(0,"div",7)(1,"mat-tab-group",8)(2,"mat-tab",9)(3,"div",10)(4,"form",11,0),C("ngSubmit",function(){b(e);let r=h();return y(r.onSubmit())}),c(6,"div",12)(7,"label",13),_(8,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639"),d(),c(9,"input",14),re("ngModelChange",function(r){b(e);let o=h();return J(o.currentProject.name,r)||(o.currentProject.name=r),y(r)}),d()(),c(10,"div",15)(11,"label",16),_(12,"\u0634\u0639\u0627\u0631 \u0627\u0644\u0645\u0634\u0631\u0648\u0639"),d(),c(13,"input",17),C("change",function(r){b(e);let o=h();return y(o.onFileSelected(r,"logo"))}),d(),w(14,__,2,1,"div",2),d(),c(15,"div",15)(16,"label",18),_(17,"\u0635\u0648\u0631\u0629 \u0627\u0644\u062E\u0631\u064A\u0637\u0629"),d(),c(18,"input",19),C("change",function(r){b(e);let o=h();return y(o.onFileSelected(r,"mapImage"))}),d(),w(19,v_,2,1,"div",2),d(),c(20,"button",20),_(21," \u0627\u0644\u062A\u0627\u0644\u0649 "),d()()()(),c(22,"mat-tab",21)(23,"div",10),w(24,b_,3,0,"div",2),d()()()()}if(n&2){let e=h();u(9),ne("ngModel",e.currentProject.name),u(5),p("ngIf",e.currentProject.logo),u(5),p("ngIf",e.currentProject.mapImage),u(),p("disabled",!e.currentProject.name||!e.currentProject.logo||!e.currentProject.mapImage),u(4),p("ngIf",!e.userInfo)}}function w_(n,i){if(n&1&&(c(0,"p"),_(1),d()),n&2){let e=h(2).$implicit;u(),Ne((e.paths==null?null:e.paths.length)||0)}}function C_(n,i){if(n&1&&(c(0,"p"),_(1),d()),n&2){let e=h(2).$implicit;u(),Ne(e.name)}}function x_(n,i){if(n&1){let e=A();c(0,"input",42),re("ngModelChange",function(r){b(e);let o=h(2).$implicit;return J(o.name,r)||(o.name=r),y(r)}),d()}if(n&2){let e=h(2).$implicit;ne("ngModel",e.name)}}function M_(n,i){if(n&1&&(c(0,"div"),E(1,"img",40),w(2,w_,2,1,"p",2)(3,C_,2,1,"p",2)(4,x_,1,1,"input",41),d()),n&2){let e=h().$implicit,t=h(3);u(),p("src",e.logo,Re)("alt",e.name),u(),p("ngIf",t.currentStage!==1),u(),p("ngIf",t.currentStage!==1),u(),p("ngIf",t.currentStage===1)}}function E_(n,i){if(n&1&&(ge(0),w(1,M_,5,5,"div",2),_e()),n&2){let e=i.$implicit;u(),p("ngIf",e.isProject===!0)}}function P_(n,i){if(n&1&&(c(0,"p"),_(1),d()),n&2){let e=h(2).$implicit;u(),Ne(e.name)}}function O_(n,i){if(n&1){let e=A();c(0,"input",42),re("ngModelChange",function(r){b(e);let o=h(2).$implicit;return J(o.name,r)||(o.name=r),y(r)}),d()}if(n&2){let e=h(2).$implicit;ne("ngModel",e.name)}}function S_(n,i){if(n&1){let e=A();c(0,"div")(1,"img",43),C("click",function(){b(e);let r=h().$implicit,o=h(3);return y(o.triggerFileInput(r))}),d(),c(2,"input",44,1),C("change",function(r){b(e);let o=h().$implicit,s=h(3);return y(s.onImageChange(r,o))}),d(),w(4,P_,2,1,"p",2)(5,O_,1,1,"input",41),d()}if(n&2){let e=h().$implicit,t=h(3);u(),_t(pe(6,p_,t.currentStage===2)),p("src",e.logo,Re)("alt",e.name),u(3),p("ngIf",t.currentStage!==2),u(),p("ngIf",t.currentStage===2)}}function T_(n,i){if(n&1&&(ge(0),w(1,S_,6,8,"div",2),_e()),n&2){let e=i.$implicit;u(),p("ngIf",e.importance===1)}}function I_(n,i){if(n&1&&(c(0,"p"),_(1),d()),n&2){let e=h(2).$implicit;u(),Ne(e.name)}}function D_(n,i){if(n&1){let e=A();c(0,"input",42),re("ngModelChange",function(r){b(e);let o=h(2).$implicit;return J(o.name,r)||(o.name=r),y(r)}),d()}if(n&2){let e=h(2).$implicit;ne("ngModel",e.name)}}function A_(n,i){if(n&1&&(c(0,"div"),E(1,"i",45),w(2,I_,2,1,"p",2)(3,D_,1,1,"input",41),d()),n&2){let e=h().$implicit,t=h(3);u(),p("ngClass",t.getIcon(e.type)),u(),p("ngIf",t.currentStage!==3),u(),p("ngIf",t.currentStage===3)}}function k_(n,i){if(n&1&&(ge(0),w(1,A_,4,3,"div",2),_e()),n&2){let e=i.$implicit;u(),p("ngIf",e.importance===0)}}function R_(n,i){if(n&1&&(c(0,"div",38)(1,"div"),E(2,"img",22),c(3,"h1"),_(4),d()(),c(5,"h2"),_(6,"\u0645\u0634\u0627\u0631\u064A\u0639\u0649"),d(),w(7,E_,2,1,"ng-container",39),c(8,"h2"),_(9,"\u0639\u0644\u0627\u0645\u0627\u062A \u0645\u0645\u064A\u0632\u0629"),d(),w(10,T_,2,1,"ng-container",39),c(11,"h2"),_(12,"\u0639\u0644\u0627\u0645\u0627\u062A \u0639\u0627\u0645\u0629"),d(),w(13,k_,2,1,"ng-container",39),d()),n&2){let e=h(2);u(2),p("src",e.currentProject.logo,Re),u(2),Ne(e.currentProject.name),u(3),p("ngForOf",e.currentProject==null?null:e.currentProject.points),u(3),p("ngForOf",e.currentProject==null?null:e.currentProject.points),u(3),p("ngForOf",e.currentProject==null?null:e.currentProject.points)}}function F_(n,i){if(n&1&&(c(0,"div",54),E(1,"img",55),d()),n&2){let e=h(4);u(),p("src",e.selectedBorderPoint.pointMap,Re)}}function L_(n,i){if(n&1){let e=A();c(0,"div",48)(1,"h1"),_(2),d(),c(3,"div",49)(4,"label",50),_(5,"\u062A\u062D\u0645\u064A\u0644 \u0635\u0648\u0631\u0629 \u0627\u0644\u062E\u0631\u064A\u0637\u0629"),d(),c(6,"input",51),C("change",function(r){b(e);let o=h(3);return y(o.onBorderImageUpload(r))}),d()(),w(7,F_,2,1,"div",52),c(8,"button",53),C("click",function(){b(e);let r=h(3);return y(r.onActionButtonClick())}),_(9," \u062A\u0646\u0641\u064A\u0630 "),d()()}if(n&2){let e=h(3);u(2),Z("\u0627\u0644\u0646\u0642\u0637\u0629 \u0627\u0644\u0645\u062E\u062A\u0627\u0631\u0629: ",e.selectedBorderPoint.name||"\u0628\u062F\u0648\u0646 \u0627\u0633\u0645",""),u(5),p("ngIf",e.selectedBorderPoint.pointMap),u(),p("disabled",!e.selectedBorderPoint.pointMap)}}function V_(n,i){if(n&1&&(c(0,"div",46),w(1,L_,10,3,"div",47),d()),n&2){let e=h(2);u(),p("ngIf",e.selectedBorderPoint)}}function N_(n,i){n&1&&E(0,"i",58)}function j_(n,i){n&1&&E(0,"i",59)}function B_(n,i){if(n&1){let e=A();c(0,"button",28),C("click",function(){b(e);let r=h(2);return y(r.toggleProjectViewer())}),w(1,N_,1,0,"i",56)(2,j_,1,0,"i",57),d()}if(n&2){let e=h(2);u(),p("ngIf",e.projectViewer),u(),p("ngIf",!e.projectViewer)}}function U_(n,i){n&1&&(c(0,"div",60),E(1,"i",61),c(2,"p"),_(3," \u064A\u0631\u062C\u0649 \u0627\u0644\u0646\u0642\u0631 \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0641\u064A \u0627\u0644\u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0644\u0625\u0636\u0627\u0641\u0629 \u0645\u0634\u0627\u0631\u064A\u0639\u0643. "),d()())}function H_(n,i){n&1&&(c(0,"div",62),E(1,"i",61),c(2,"p"),_(3," \u064A\u0631\u062C\u0649 \u0627\u0644\u0646\u0642\u0631 \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0641\u064A \u0627\u0644\u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0645\u062D\u062F\u062F\u0629 \u0644\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A \u0627\u0644\u0645\u0647\u0645\u0629\u060C \u062B\u0645 \u0642\u0645 \u0628\u062A\u063A\u064A\u0631 \u0627\u0644\u0627\u0633\u0645 \u0648 \u0627\u0644\u0634\u0639\u0627\u0631 \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629. "),d()())}function z_(n,i){if(n&1){let e=A();c(0,"i",66),C("click",function(){let r=b(e).$implicit,o=h(3);return y(o.selectType(r.type))}),d()}if(n&2){let e=i.$implicit,t=h(3);_t("fa-solid "+e.icon),p("ngClass",pe(3,m_,t.currentPointType===e.type))}}function $_(n,i){if(n&1&&(c(0,"div",63),E(1,"i",61),c(2,"div",64),w(3,z_,1,5,"i",65),d()()),n&2){let e=h(2);u(3),p("ngForOf",e.pointTypes)}}function W_(n,i){n&1&&(c(0,"div",67),E(1,"i",61),c(2,"p"),_(3," \u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0648\u0627\u0644\u0646\u0642\u0637\u0629\u060C \u0627\u0631\u0633\u0645 \u0627\u0644\u0637\u0631\u064A\u0642\u060C \u062B\u0645 \u0627\u0636\u063A\u0637 \u0639\u0644\u0649 \u0627\u0644\u0646\u0642\u0637\u0629 \u0644\u062D\u0641\u0638\u0647 \u0623\u0648 \u0639\u0644\u0649 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0644\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u0647\u064A\u0626\u0629. "),d()())}function G_(n,i){n&1&&(c(0,"div",68),E(1,"i",61),c(2,"p"),_(3," \u0623\u062E\u062A\u0631 \u0627\u0649 \u0645\u0634\u0631\u0648\u0639\u060C \u062B\u0645 \u0625\u0628\u062F\u0627 \u0628\u0631\u0633\u0645 \u0627\u0644\u062D\u062F\u0648\u062F\u060C \u064A\u0645\u0643\u0646\u0643 \u0627\u0644\u0636\u063A\u0637 \u0639\u0644\u0649 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0645\u0631\u0629 \u0627\u062E\u0631\u0649 \u0644\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u062A\u0647\u064A\u0626\u0629. "),d()())}function q_(n,i){n&1&&(c(0,"div",46),E(1,"i",61),c(2,"p"),_(3,"\u064A\u0631\u062C\u0649 \u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u062D\u062F\u0648\u062F \u062B\u0645 \u062A\u062D\u0645\u064A\u0644 \u0635\u0648\u0631\u0629 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0644\u0644\u0646\u0642\u0637\u0629."),d()())}function Q_(n,i){if(n&1){let e=A();c(0,"div",24),w(1,R_,14,5,"div",25)(2,V_,2,1,"div",26),c(3,"div",27)(4,"button",28),C("click",function(){b(e);let r=h();return y(r.back())}),E(5,"i",29),d(),w(6,B_,3,2,"button",30)(7,U_,4,0,"div",31)(8,H_,4,0,"div",32)(9,$_,4,1,"div",33)(10,W_,4,0,"div",34)(11,G_,4,0,"div",35)(12,q_,4,0,"div",26),c(13,"button",36),C("click",function(){b(e);let r=h();return y(r.next())}),E(14,"i",37),d()()()}if(n&2){let e=h();u(),p("ngIf",e.projectViewer&&e.currentProject&&e.currentProject.name.length>0),u(),p("ngIf",e.currentStage===6&&e.selectedBorderPoint),u(4),p("ngIf",e.currentProject&&e.currentProject.name.length>0),u(),p("ngIf",e.currentStage===1),u(),p("ngIf",e.currentStage===2),u(),p("ngIf",e.currentStage===3),u(),p("ngIf",e.currentStage===4),u(),p("ngIf",e.currentStage===5),u(),p("ngIf",e.currentStage===6),u(),p("disabled",e.currentStage===6)}}var co=class n{currentProject={id:null,name:"",logo:null,mapImage:""};userInfo=null;currentStage=0;projectViewer=!1;selectedBorderPoint=null;uploadedBorderImage=null;newPointBoarder=null;projectsMap={projectId:null,pointId:null,mapImage:null,data:[]};currentPointType="mall";pointTypes=[{type:"mall",icon:"fa-cart-shopping"},{type:"mosque",icon:"fa-moon"},{type:"school",icon:"fa-graduation-cap"},{type:"restaurant",icon:"fa-utensils"},{type:"hospital",icon:"fa-circle-h"}];ngOnChanges(i){i.selectedBorderPoint&&!i.selectedBorderPoint.firstChange&&this.onSelectedBorderPointChange(i.selectedBorderPoint.currentValue)}getIcon(i){return{mosque:"fa-moon",school:"fa-graduation-cap",restaurant:"fa-utensils",mall:"fa-cart-shopping",hospital:"fa-circle-h"}[i]||"fa-question-circle"}onFileSelected(i,e){let t=i.target;if(t.files&&t.files.length){let r=t.files[0],o=new FileReader;o.onload=()=>{e==="logo"?this.currentProject.logo=o.result:this.currentProject.mapImage=o.result},o.readAsDataURL(r)}}getLogo(i){if(!i)return null;if(i instanceof File){let e=new FileReader,t=null;return e.onload=r=>{t=r.target?.result},e.readAsDataURL(i),t}return typeof i=="string"?i:null}onSelectedBorderPointChange(i){this.selectedBorderPoint=i,console.log("Updated selected border point:",this.selectedBorderPoint)}onSubmit(){this.currentProject.name&&this.currentProject.logo&&this.currentProject.mapImage&&(this.currentStage+=1,console.log("New project data:",this.currentProject))}back(){this.currentStage>0&&(this.currentStage-=1),this.currentStage===8&&(this.currentStage=6),console.log("Current project data are: ",this.currentProject),console.log("Border data are: ",this.selectedBorderPoint),console.log("Current stage is: ",this.currentStage)}next(){this.currentStage<10&&(this.currentStage+=1),console.log("Current project data are: ",this.currentProject),console.log("Border data are: ",this.selectedBorderPoint),console.log("Current stage is: ",this.currentStage)}toggleProjectViewer(){this.projectViewer=!this.projectViewer}selectType(i){this.currentPointType=i}triggerFileInput(i){if(this.currentStage===2){let e=document.querySelector(".hidden-input");e&&e.click()}}onImageChange(i,e){let t=i.target;if(t.files&&t.files.length){let r=t.files[0],o=new FileReader;o.onload=()=>{e.logo=o.result},o.readAsDataURL(r)}}onBorderImageUpload(i){let e=i.target;if(e.files&&e.files.length){let t=e.files[0],r=new FileReader;r.onload=()=>{this.selectedBorderPoint.pointMap=r.result,this.projectsMap.mapImage=r.result,this.projectsMap.projectId=this.currentProject.id||0,this.projectsMap.pointId=this.selectedBorderPoint.id,console.log("Uploaded border image:",this.selectedBorderPoint.pointMap)},r.readAsDataURL(t)}}onActionButtonClick(){this.selectedBorderPoint?.pointMap&&(console.log("Action button clicked for border:",this.selectedBorderPoint),this.currentStage=7)}getMapImageSource(i){return i?typeof i=="string"?i:i instanceof File?URL.createObjectURL(i):null:null}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=H({type:n,selectors:[["app-dashboard"]],features:[Ce],decls:3,vars:3,consts:[["projectForm","ngForm"],["fileInput",""],[4,"ngIf"],["class","dashboard stage-0",4,"ngIf"],["class","adding-stages",4,"ngIf"],[3,"isAddingMode","newPointBoarder","selectedBorderPoint","addingPointType","showSidebar","newProject","projectsMap","addStage","selectedBorderPointChange",4,"ngIf"],[3,"selectedBorderPointChange","isAddingMode","newPointBoarder","selectedBorderPoint","addingPointType","showSidebar","newProject","projectsMap","addStage"],[1,"dashboard","stage-0"],[1,"tabs-dark-theme"],["label","\u0625\u0636\u0627\u0641\u0629 \u0645\u0634\u0631\u0648\u0639"],[1,"tab-content"],[1,"new-project-form",3,"ngSubmit"],[1,"form-group",2,"width","100%"],["for","projectName"],["type","text","id","projectName","name","name","required","","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","image"],["for","logo"],["type","file","id","logo","name","logo","accept","image/*",1,"form-control",3,"change"],["for","mapImage"],["type","file","id","mapImage","name","mapImage","accept","image/*",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary",3,"disabled"],["label","\u062D\u0633\u0627\u0628\u0649"],["alt","Project Logo Preview",1,"preview-img",3,"src"],["alt","Map Image Preview",1,"preview-img",3,"src"],[1,"adding-stages"],["class","projectViewer",4,"ngIf"],["class","stage-6 row",4,"ngIf"],[1,"bottom-stages"],[3,"click"],[1,"fa-solid","fa-circle-chevron-right"],[3,"click",4,"ngIf"],["class","stage-1 row",4,"ngIf"],["class","stage-2 row",4,"ngIf"],["class","stage-3 row",4,"ngIf"],["class","stage-4 row",4,"ngIf"],["class","stage-5 row",4,"ngIf"],[3,"click","disabled"],[1,"fa-solid","fa-circle-chevron-left"],[1,"projectViewer"],[4,"ngFor","ngForOf"],[3,"src","alt"],["type","text","class","form-control","name","point",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","name","point",1,"form-control",3,"ngModelChange","ngModel"],[3,"click","src","alt"],["type","file","accept","image/*",1,"hidden-input",3,"change"],[1,"fa-solid",3,"ngClass"],[1,"stage-6","row"],["class","border-upload-container",4,"ngIf"],[1,"border-upload-container"],[1,"form-group"],["for","borderImageUpload"],["type","file","id","borderImageUpload","accept","image/*",1,"form-control",3,"change"],["class","image-preview",4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click","disabled"],[1,"image-preview"],["alt","Border Map Preview",1,"preview-img",3,"src"],["class","fa-solid fa-eye",4,"ngIf"],["class","fa-solid fa-eye-low-vision",4,"ngIf"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-eye-low-vision"],[1,"stage-1","row"],[1,"fa-solid","fa-hand-pointer"],[1,"stage-2","row"],[1,"stage-3","row"],[1,"row",2,"flex-direction","row"],[3,"class","ngClass","click",4,"ngFor","ngForOf"],[3,"click","ngClass"],[1,"stage-4","row"],[1,"stage-5","row"]],template:function(e,t){e&1&&w(0,g_,2,1,"div",2)(1,y_,25,5,"div",3)(2,Q_,15,10,"div",4),e&2&&(p("ngIf",t.currentProject&&t.currentStage!==0),u(),p("ngIf",t.currentStage===0),u(),p("ngIf",t.currentProject&&t.currentStage!==0))},dependencies:[Ti,ye,it,nt,Ee,iu,Da,tu,Ht,Nr,qe,at,Fr,Xs,Et,qs],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(to bottom,#f2de77,#a65c1c,#bf9341);border:1.5px solid #F7F7F7}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(to bottom,#f2de77,#a65c1c,#bf9341)}[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:transparent}body[_ngcontent-%COMP%]{background-color:#202a54;color:#a65c1c;scrollbar-width:thin;scrollbar-color:linear-gradient(to bottom,#F2DE77,#A65C1C,#BF9341) #F7F7F7}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;margin:0;overflow:hidden;display:block;direction:rtl}p[_ngcontent-%COMP%]{margin:0}.input-group.mb-3[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], ul.list-group[_ngcontent-%COMP%]{border-radius:0!important}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{color:#ccc!important;border-color:#ccc!important;background:transparent!important}li[_ngcontent-%COMP%]{cursor:pointer}input[_ngcontent-%COMP%]::placeholder{color:#767676!important}button[_ngcontent-%COMP%]:hover, li[_ngcontent-%COMP%]:hover{color:#ccc!important;background:linear-gradient(to left,#f2de77,#a65c1c,#bf9341)!important;border-color:#ccc!important}button[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus, li[_ngcontent-%COMP%]:focus{box-shadow:none!important}.list-group[_ngcontent-%COMP%]{padding:0}input[type=checkbox][_ngcontent-%COMP%]{background-color:transparent;border-radius:3px;border:1px solid #F7F7F7;width:16px;height:16px;appearance:none}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#a65c1c!important}polygon[_ngcontent-%COMP%]{pointer-events:all;cursor:pointer;stroke-opacity:.5;stroke-width:.3;fill-opacity:.3;transition:opacity .3s ease-in-out}polygon[_ngcontent-%COMP%]:hover{opacity:0}.logo[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flipAnimation 10s infinite linear}@keyframes _ngcontent-%COMP%_flipAnimation{0%{transform:rotateX(0) rotateY(0)}80%{transform:rotateX(0) rotateY(0)}90%{transform:rotateX(0) rotateY(180deg)}to{transform:rotateX(0) rotateY(0)}}@keyframes _ngcontent-%COMP%_lightSlide{95%{background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.8) 50%,transparent 100%);background-position:-200%}to{background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.8) 50%,transparent 100%);background-position:200%}}@keyframes _ngcontent-%COMP%_lightSlide{95%{transform:translate(-150%);opacity:.1}97.5%{opacity:.5}to{transform:translate(150%);opacity:0}}.light-effect[_ngcontent-%COMP%]{position:relative;display:inline-block;background:#555;color:#fff;font-size:24px;padding:20px;border-radius:5px;overflow:hidden}.light-effect[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:50%;height:100%;background:#ffffff80;box-shadow:0 0 20px 10px #fff3;transform:translate(-150%);animation:_ngcontent-%COMP%_lightSlide 15s linear infinite;pointer-events:none}.click-through[_ngcontent-%COMP%]{pointer-events:none!important}[_nghost-%COMP%]{width:100%;height:100%;display:block;align-content:center}.dashboard[_ngcontent-%COMP%]{width:80vw;height:80vh;margin:auto;align-content:center;box-shadow:0 0 20px #0006;background:#202a54;position:relative}  .tabs-dark-theme .mdc-tab__text-label{color:#fff!important;font-family:Noto Sans Arabic,sans-serif;font-optical-sizing:auto;font-style:normal}  .tabs-dark-theme .mdc-tab--active .mdc-tab__text-label{color:#f2de77!important}  .mat-mdc-tab-group{height:100%!important;background-color:#202a54}  .mat-mdc-tab-body-wrapper{height:100%!important;align-items:center}  .mat-mdc-tab-body{min-height:100%;align-content:center}  .mat-mdc-tab-body *{border-radius:0}  .mat-mdc-tab-body-content{min-height:100%!important;position:absolute;top:0;right:0;width:100%}  .tab-content{min-height:100%!important;align-content:center}  .tab-content button{border-radius:0}.new-project-form[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;padding:60px 100px;gap:40px}.new-project-form[_ngcontent-%COMP%]   .form-group.image[_ngcontent-%COMP%]{width:calc(50% - 40px)}.new-project-form[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:250px;object-fit:contain}.adding-stages[_ngcontent-%COMP%]{top:0;right:0;z-index:999;width:100vw;height:100vh;position:absolute;pointer-events:none}.adding-stages[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{pointer-events:all;display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:center}.adding-stages[_ngcontent-%COMP%]   .projectViewer[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .border-upload-container[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .stage-7[_ngcontent-%COMP%]{flex-direction:column;position:absolute;top:10px;right:10px;background:#202a54;padding:30px 20px 20px;align-items:flex-start;gap:20px;width:250px;height:fit-content;max-height:400px;overflow:auto;justify-content:flex-start}.adding-stages[_ngcontent-%COMP%]   .projectViewer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .border-upload-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .stage-7[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}.adding-stages[_ngcontent-%COMP%]   .projectViewer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .border-upload-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .stage-7[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{align-items:center;gap:20px;margin-bottom:10px}.adding-stages[_ngcontent-%COMP%]   .projectViewer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .border-upload-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .stage-7[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem}.adding-stages[_ngcontent-%COMP%]   .projectViewer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .border-upload-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .stage-7[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.adding-stages[_ngcontent-%COMP%]   .projectViewer[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .border-upload-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .stage-7[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex-direction:column}.adding-stages[_ngcontent-%COMP%]   .projectViewer[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .border-upload-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .stage-7[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{width:100%;height:auto;aspect-ratio:3}.adding-stages[_ngcontent-%COMP%]   .projectViewer[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .border-upload-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .adding-stages[_ngcontent-%COMP%]   .stage-7[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.bottom-stages[_ngcontent-%COMP%]{background:#202a54;position:absolute;bottom:0;right:50%;transform:translate(50%,-50%);max-width:80%}.bottom-stages[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0!important;height:40px;width:auto;aspect-ratio:1;padding:0}.bottom-stages[_ngcontent-%COMP%]   .stage-1[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-2[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-3[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-4[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-5[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-6[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-7[_ngcontent-%COMP%]{padding:5px 10px;margin:0}.bottom-stages[_ngcontent-%COMP%]   .stage-1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-4[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-5[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-6[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-6[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-7[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .bottom-stages[_ngcontent-%COMP%]   .stage-7[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:fit-content}.bottom-stages[_ngcontent-%COMP%]   .stage-3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.5}.bottom-stages[_ngcontent-%COMP%]   .stage-3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i.active[_ngcontent-%COMP%]{opacity:1}.bottom-stages[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;overflow:auto;max-width:100%}.hidden-input[_ngcontent-%COMP%]{display:none}.clickable[_ngcontent-%COMP%]{cursor:pointer}']})};var uo=class n{constructor(i){this.platformId=i}ngOnInit(){We(this.platformId)&&this.initOpenSeadragon()}initOpenSeadragon(){return Ni(this,null,function*(){if(We(this.platformId)){let i=yield import("./chunk-VNANLS3C.js"),o=(yield(yield fetch("https://www.loc.gov/item/2011630080/manifest.json")).json()).sequences[0].canvases[0].images[0].resource.service["@id"];i.default({id:"openseadragon-viewer",prefixUrl:"https://tile.loc.gov/image-services/iiif/service:pnp:highsm:11800:11886/",tileSources:o})}})}static \u0275fac=function(e){return new(e||n)(P(xe))};static \u0275cmp=H({type:n,selectors:[["app-iiif-test"]],decls:1,vars:0,consts:[["id","openseadragon-viewer",1,"openseadragon-viewer"]],template:function(e,t){e&1&&E(0,"div",0)},styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}#openseadragon-viewer[_ngcontent-%COMP%]{border:1px solid #ccc}.openseadragon-viewer[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]})};var nu=[{path:"ar",component:Qr},{path:"ar/login",component:Kr},{path:"ar/profile",component:Xr,canActivate:[ni]},{path:"ar/settings",component:Jr,canActivate:[ni]},{path:"ar/dashboard",component:co,canActivate:[ni]},{path:"ar/iiif-test",component:uo,canActivate:[ni]},{path:"",redirectTo:"/ar",pathMatch:"full"},{path:"**",redirectTo:"/ar"}];var Y_="@",K_=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=f(Wa,{optional:!0});loadingSchedulerFn=f(Z_,{optional:!0});_engine;constructor(e,t,r,o,s){this.doc=e,this.delegate=t,this.zone=r,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-G5IIMIAE.js").then(r=>r),t;return this.loadingSchedulerFn?t=this.loadingSchedulerFn(e):t=e(),t.catch(r=>{throw new te(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,t){let r=this.delegate.createRenderer(e,t);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new Aa(r);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(e,t);o.use(a),this.scheduler?.notify(11)}).catch(s=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(t){Po()};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Aa=class{delegate;replay=[];\u0275type=1;constructor(i){this.delegate=i}use(i){if(this.delegate=i,this.replay!==null){for(let e of this.replay)e(i);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}get destroyNode(){return this.delegate.destroyNode}appendChild(i,e){this.delegate.appendChild(i,e)}insertBefore(i,e,t,r){this.delegate.insertBefore(i,e,t,r)}removeChild(i,e,t){this.delegate.removeChild(i,e,t)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,t,r){this.delegate.setAttribute(i,e,t,r)}removeAttribute(i,e,t){this.delegate.removeAttribute(i,e,t)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,t,r){this.delegate.setStyle(i,e,t,r)}removeStyle(i,e,t){this.delegate.removeStyle(i,e,t)}setProperty(i,e,t){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(i,e,t)),this.delegate.setProperty(i,e,t)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,t){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(i,e,t)),this.delegate.listen(i,e,t)}shouldReplay(i){return this.replay!==null&&i.startsWith(Y_)}},Z_=new I("");function ru(n="animations"){return Fn("NgAsyncAnimations"),Tt([{provide:Ln,useFactory:(i,e,t)=>new K_(i,e,t,n),deps:[se,rr,q]},{provide:Yt,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ou={providers:[Uo(),ol({eventCoalescing:!0}),Fc(nu),Xl(Zl()),ru()]};function X_(n,i){n&1&&(c(0,"a",22),_(1,"\u0627\u0644\u0645\u0646\u0635\u0629"),d()),n&2&&p("routerLink","ar/dashboard")}function J_(n,i){n&1&&(c(0,"li",5)(1,"a",22),_(2,"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"),d()()),n&2&&(u(),p("routerLink","ar/login"))}var ho=class n{constructor(i,e,t){this.platformId=i;this.ngZone=e;this.router=t}ngAfterViewInit(){We(this.platformId)&&import("./chunk-4D3F2WLC.js").then(i=>{this.ngZone.runOutsideAngular(()=>{document.querySelectorAll(".dropdown-toggle").forEach(t=>{try{new i.Dropdown(t),console.log("Dropdown initialized:",t)}catch(r){console.error("Error initializing dropdown:",r)}})})}).catch(i=>{console.error("Bootstrap import error:",i)})}isLoggedIn(){return We(this.platformId)?!!localStorage.getItem("token"):!1}static \u0275fac=function(e){return new(e||n)(P(xe),P(q),P(Xe))};static \u0275cmp=H({type:n,selectors:[["app-navmenu"]],decls:33,vars:4,consts:[[1,"nav-container"],[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-lg-0"],[1,"nav-item"],[3,"routerLink"],["src","https://res.cloudinary.com/dmyhr9fcz/image/upload/v1733559930/ogx0jgirrgqrjq70gjed.ico","alt","logo",1,"logo",2,"width","30px"],[1,"nav-item","home"],["aria-current","page",1,"nav-link","active",3,"routerLink"],[1,"fa-solid","fa-house"],["class","nav-link",3,"routerLink",4,"ngIf"],[1,"nav-item","dropdown"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],["class","nav-item",4,"ngIf"],[1,"d-flex"],["type","search","placeholder","\u0628\u062D\u062B","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-success"],[1,"fa-solid","fa-magnifying-glass"],[1,"nav-link",3,"routerLink"]],template:function(e,t){e&1&&(c(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),E(7,"img",7),d()(),c(8,"li",8)(9,"a",9),E(10,"i",10),d()(),c(11,"li",5),w(12,X_,2,1,"a",11),d(),c(13,"li",12)(14,"a",13),_(15," Dropdown "),d(),c(16,"ul",14)(17,"li")(18,"a",15),_(19,"Action"),d()(),c(20,"li")(21,"a",15),_(22,"Another action"),d()(),c(23,"li"),E(24,"hr",16),d(),c(25,"li")(26,"a",15),_(27,"Something else here"),d()()()(),w(28,J_,3,1,"li",17),d(),c(29,"form",18),E(30,"input",19),c(31,"button",20),E(32,"i",21),d()()()()()()),e&2&&(u(6),p("routerLink","/"),u(3),p("routerLink","/"),u(3),p("ngIf",t.isLoggedIn()),u(16),p("ngIf",!t.isLoggedIn()))},dependencies:[Rc,ye,Ee],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(to bottom,#f2de77,#a65c1c,#bf9341);border:1.5px solid #F7F7F7}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(to bottom,#f2de77,#a65c1c,#bf9341)}[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:transparent}body[_ngcontent-%COMP%]{background-color:#202a54;color:#a65c1c;scrollbar-width:thin;scrollbar-color:linear-gradient(to bottom,#F2DE77,#A65C1C,#BF9341) #F7F7F7}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;margin:0;overflow:hidden;display:block;direction:rtl}p[_ngcontent-%COMP%]{margin:0}.input-group.mb-3[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], ul.list-group[_ngcontent-%COMP%]{border-radius:0!important}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{color:#ccc!important;border-color:#ccc!important;background:transparent!important}li[_ngcontent-%COMP%]{cursor:pointer}input[_ngcontent-%COMP%]::placeholder{color:#767676!important}button[_ngcontent-%COMP%]:hover, li[_ngcontent-%COMP%]:hover{color:#ccc!important;background:linear-gradient(to left,#f2de77,#a65c1c,#bf9341)!important;border-color:#ccc!important}button[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus, li[_ngcontent-%COMP%]:focus{box-shadow:none!important}.list-group[_ngcontent-%COMP%]{padding:0}input[type=checkbox][_ngcontent-%COMP%]{background-color:transparent;border-radius:3px;border:1px solid #F7F7F7;width:16px;height:16px;appearance:none}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#a65c1c!important}polygon[_ngcontent-%COMP%]{pointer-events:all;cursor:pointer;stroke-opacity:.5;stroke-width:.3;fill-opacity:.3;transition:opacity .3s ease-in-out}polygon[_ngcontent-%COMP%]:hover{opacity:0}.logo[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flipAnimation 10s infinite linear}@keyframes _ngcontent-%COMP%_flipAnimation{0%{transform:rotateX(0) rotateY(0)}80%{transform:rotateX(0) rotateY(0)}90%{transform:rotateX(0) rotateY(180deg)}to{transform:rotateX(0) rotateY(0)}}@keyframes _ngcontent-%COMP%_lightSlide{95%{background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.8) 50%,transparent 100%);background-position:-200%}to{background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.8) 50%,transparent 100%);background-position:200%}}@keyframes _ngcontent-%COMP%_lightSlide{95%{transform:translate(-150%);opacity:.1}97.5%{opacity:.5}to{transform:translate(150%);opacity:0}}.light-effect[_ngcontent-%COMP%]{position:relative;display:inline-block;background:#555;color:#fff;font-size:24px;padding:20px;border-radius:5px;overflow:hidden}.light-effect[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:50%;height:100%;background:#ffffff80;box-shadow:0 0 20px 10px #fff3;transform:translate(-150%);animation:_ngcontent-%COMP%_lightSlide 15s linear infinite;pointer-events:none}.click-through[_ngcontent-%COMP%]{pointer-events:none!important}.nav-container[_ngcontent-%COMP%]{background-color:#202a54;width:100%;justify-items:right}.nav-container[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{margin:0;padding:0}.nav-container[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0}.nav-container[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px}.nav-container[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:100%;display:block;align-content:center}.nav-container[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li.home[_ngcontent-%COMP%]{border:1px solid #767676;border-width:0 1px 0 1px;margin:0 22px}.nav-container[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#a65c1c66!important}.nav-container[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{text-decoration:underline}.nav-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#f7f7f7}.nav-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{border-radius:0}']})};function ev(n,i){n&1&&(c(0,"div",1),de(),c(1,"svg",2)(2,"defs")(3,"clipPath",3),E(4,"polygon",4),d(),c(5,"linearGradient",5),E(6,"stop",6)(7,"stop",7)(8,"stop",8)(9,"stop",9)(10,"stop",10)(11,"stop",11)(12,"stop",12)(13,"stop",13)(14,"stop",14)(15,"stop",15)(16,"stop",16)(17,"stop",17)(18,"stop",18),d(),c(19,"clipPath",19),E(20,"polygon",20),d(),E(21,"linearGradient",21),c(22,"clipPath",22),E(23,"polygon",23),d(),E(24,"linearGradient",24),c(25,"clipPath",25),E(26,"polygon",26),d(),E(27,"linearGradient",27),c(28,"clipPath",28),E(29,"path",29),d(),E(30,"linearGradient",30),d(),c(31,"g",31)(32,"g"),E(33,"rect",32),c(34,"g",33),E(35,"rect",34),d(),c(36,"g",35),E(37,"rect",36),d(),c(38,"g",37),E(39,"rect",38),d(),c(40,"g",39),E(41,"rect",40),d(),c(42,"g",41),E(43,"rect",42),d()()()()())}var po=class n{constructor(i){this.preloaderService=i;this.loading$=this.preloaderService.loading$}loading$;static \u0275fac=function(e){return new(e||n)(P(lt))};static \u0275cmp=H({type:n,selectors:[["app-preload"]],decls:2,vars:3,consts:[["class","preloader",4,"ngIf"],[1,"preloader"],["id","Layer_2","data-name","Layer 2","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1221.88 1385.76"],["id","clippath"],["points","719.26 211.53 1118.13 441.82 1194.96 486.19 1194.96 548.08 1091.42 488.3 705.9 265.72 320.39 488.3 26.92 657.74 26.92 595.84 293.68 441.82 692.55 211.53 705.9 203.82 719.26 211.53",1,"cls-4"],["id","linear-gradient","x1","235.06","y1","31.27","x2","724.15","y2","551.1","gradientUnits","userSpaceOnUse"],["offset","0","stop-color","#fffb90"],["offset",".13","stop-color","#fbec7a"],["offset",".24","stop-color","#f8dc65"],["offset",".33","stop-color","#c8a443"],["offset",".49","stop-color","#996c22"],["offset",".62","stop-color","#caaa4d"],["offset",".69","stop-color","#fbe878"],["offset",".73","stop-color","#fdf491"],["offset",".77","stop-color","#ffa"],["offset",".8","stop-color","#fdf491"],["offset",".83","stop-color","#fbe878"],["offset",".92","stop-color","#d0a549"],["offset","1","stop-color","#a4631b"],["id","clippath-1"],["points","719.26 382.47 1044.11 570.03 1044.21 570.03 1194.96 657.07 1194.96 719.09 1017.29 616.51 1017.32 616.46 705.9 436.66 394.48 616.46 394.51 616.51 83.13 796.29 83.13 1155.94 83.13 1355.37 29.28 1355.37 29.28 1155.94 29.28 780.82 29.28 765.35 42.75 757.58 367.59 570.03 367.69 570.03 692.55 382.47 705.9 374.76 719.26 382.47",1,"cls-4"],["id","linear-gradient-2","x1","303.26","y1","154.27","x2","791.33","y2","1277.47",0,"xlink","href","#linear-gradient"],["id","clippath-2"],["points","719.26 561.72 966.5 704.46 966.6 704.46 1194.96 836.31 1194.96 1355.37 1173.45 1355.37 1173.45 1155.94 1173.45 885.91 939.68 750.94 939.7 750.89 705.9 615.9 472.1 750.89 472.13 750.94 238.35 885.91 238.35 1155.94 238.35 1355.37 184.52 1355.37 184.52 1155.94 184.52 870.45 184.52 854.97 197.97 847.21 445.2 704.46 445.31 704.46 692.55 561.72 705.9 554.01 719.26 561.72",1,"cls-4"],["id","linear-gradient-3","x1","419.03","y1","367.19","x2","842.02","y2","1285.17",0,"xlink","href","#linear-gradient"],["id","clippath-3"],["points","719.26 742.16 888.37 839.79 888.47 839.79 1057.57 937.42 1071.03 945.19 1071.03 960.66 1071.03 1155.94 1071.03 1351.21 1071.03 1355.37 983.2 1355.37 1017.19 1335.74 1017.19 1155.94 1017.19 976.13 861.55 886.27 861.58 886.22 705.9 796.34 550.23 886.22 550.25 886.27 394.61 976.13 394.61 1155.94 394.61 1335.74 428.61 1355.37 340.77 1355.37 340.77 1351.21 340.77 1155.94 340.77 960.66 340.77 945.19 354.23 937.42 523.33 839.79 523.44 839.79 692.55 742.16 705.9 734.44 719.26 742.16",1,"cls-4"],["id","linear-gradient-4","x1","512.67","y1","595.65","x2","818.58","y2","1306.87",0,"xlink","href","#linear-gradient"],["id","clippath-4"],["d","M1168.05,53.84H53.84v1278.08h1114.21V53.84ZM26.92,0h1194.96v1385.76H0V0h26.92Z",1,"cls-4"],["id","linear-gradient-5","x1","301.58","y1","-266.97","x2","813.22","y2","1320.47",0,"xlink","href","#linear-gradient"],["id","Layer_1-2","data-name","Layer 1"],["width","1221.88","height","1385.76",1,"cls-3"],[1,"cls-11"],["x","26.92","y","203.82","width","1168.04","height","453.92",1,"cls-1"],[1,"cls-9"],["x","29.28","y","374.76","width","1165.68","height","980.61",1,"cls-5"],[1,"cls-8"],["x","184.52","y","554.01","width","1010.44","height","801.36",1,"cls-6"],[1,"cls-12"],["x","340.77","y","734.44","width","730.26","height","620.93",1,"cls-7"],[1,"cls-10"],["y","0","width","1221.88","height","1385.76",1,"cls-2"]],template:function(e,t){e&1&&(w(0,ev,44,0,"div",0),nl(1,"async")),e&2&&p("ngIf",rl(1,1,t.loading$))},dependencies:[ye,Ee,ml],styles:[".preloader[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;font-size:1.5rem;z-index:9999}.preloader[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:50px;animation:_ngcontent-%COMP%_flipAnimation 3s infinite linear,_ngcontent-%COMP%_strokeFlow 4s ease-in-out infinite alternate}.cls-1[_ngcontent-%COMP%]{fill:url(#linear-gradient)}.cls-1[_ngcontent-%COMP%], .cls-2[_ngcontent-%COMP%], .cls-3[_ngcontent-%COMP%], .cls-4[_ngcontent-%COMP%], .cls-5[_ngcontent-%COMP%], .cls-6[_ngcontent-%COMP%], .cls-7[_ngcontent-%COMP%]{stroke-width:0px}.cls-8[_ngcontent-%COMP%]{clip-path:url(#clippath-2)}.cls-2[_ngcontent-%COMP%]{fill:url(#linear-gradient-5)}.cls-3[_ngcontent-%COMP%]{fill:#00423a}.cls-9[_ngcontent-%COMP%]{clip-path:url(#clippath-1)}.cls-10[_ngcontent-%COMP%]{clip-path:url(#clippath-4)}.cls-4[_ngcontent-%COMP%]{clip-rule:evenodd;fill:none}.cls-5[_ngcontent-%COMP%]{fill:url(#linear-gradient-2)}.cls-6[_ngcontent-%COMP%]{fill:url(#linear-gradient-3)}.cls-11[_ngcontent-%COMP%]{clip-path:url(#clippath)}.cls-12[_ngcontent-%COMP%]{clip-path:url(#clippath-3)}.cls-7[_ngcontent-%COMP%]{fill:url(#linear-gradient-4)}.preloader[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#c8a212;stroke-width:2px;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:1000;stroke-dashoffset:1000}.cls-1[_ngcontent-%COMP%], .cls-2[_ngcontent-%COMP%], .cls-5[_ngcontent-%COMP%], .cls-6[_ngcontent-%COMP%], .cls-7[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_luxuryPulse 3s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_luxuryPulse{0%{fill-opacity:1}to{fill-opacity:.3}}@keyframes _ngcontent-%COMP%_strokeFlow{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_flipAnimation{0%{transform:rotateX(0) rotateY(0)}50%{transform:rotateX(0) rotateY(180deg)}to{transform:rotateX(0) rotateY(0)}}.click-through[_ngcontent-%COMP%], .click-through[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}"]})};var mo=class n{constructor(i){this.preloaderService=i}title="\u062F\u0631\u0628 \u0627\u0644\u062D\u0631\u0645\u064A\u0646";ngAfterViewInit(){setTimeout(()=>{this.preloaderService.hide()},2e3)}static \u0275fac=function(e){return new(e||n)(P(lt))};static \u0275cmp=H({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"app-background"],[1,"navmenu"],[1,"container"]],template:function(e,t){e&1&&(E(0,"app-preload")(1,"div",0),c(2,"div",1),E(3,"app-navmenu"),d(),c(4,"div",2),E(5,"router-outlet"),d())},dependencies:[Is,ho,Nl,ye,po],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(to bottom,#f2de77,#a65c1c,#bf9341);border:1.5px solid #F7F7F7}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(to bottom,#f2de77,#a65c1c,#bf9341)}[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:transparent}body[_ngcontent-%COMP%]{background-color:#202a54;color:#a65c1c;scrollbar-width:thin;scrollbar-color:linear-gradient(to bottom,#F2DE77,#A65C1C,#BF9341) #F7F7F7}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;margin:0;overflow:hidden;display:block;direction:rtl}p[_ngcontent-%COMP%]{margin:0}.input-group.mb-3[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], ul.list-group[_ngcontent-%COMP%]{border-radius:0!important}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{color:#ccc!important;border-color:#ccc!important;background:transparent!important}li[_ngcontent-%COMP%]{cursor:pointer}input[_ngcontent-%COMP%]::placeholder{color:#767676!important}button[_ngcontent-%COMP%]:hover, li[_ngcontent-%COMP%]:hover{color:#ccc!important;background:linear-gradient(to left,#f2de77,#a65c1c,#bf9341)!important;border-color:#ccc!important}button[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus, li[_ngcontent-%COMP%]:focus{box-shadow:none!important}.list-group[_ngcontent-%COMP%]{padding:0}input[type=checkbox][_ngcontent-%COMP%]{background-color:transparent;border-radius:3px;border:1px solid #F7F7F7;width:16px;height:16px;appearance:none}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#a65c1c!important}polygon[_ngcontent-%COMP%]{pointer-events:all;cursor:pointer;stroke-opacity:.5;stroke-width:.3;fill-opacity:.3;transition:opacity .3s ease-in-out}polygon[_ngcontent-%COMP%]:hover{opacity:0}.logo[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flipAnimation 10s infinite linear}@keyframes _ngcontent-%COMP%_flipAnimation{0%{transform:rotateX(0) rotateY(0)}80%{transform:rotateX(0) rotateY(0)}90%{transform:rotateX(0) rotateY(180deg)}to{transform:rotateX(0) rotateY(0)}}@keyframes _ngcontent-%COMP%_lightSlide{95%{background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.8) 50%,transparent 100%);background-position:-200%}to{background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.8) 50%,transparent 100%);background-position:200%}}@keyframes _ngcontent-%COMP%_lightSlide{95%{transform:translate(-150%);opacity:.1}97.5%{opacity:.5}to{transform:translate(150%);opacity:0}}.light-effect[_ngcontent-%COMP%]{position:relative;display:inline-block;background:#555;color:#fff;font-size:24px;padding:20px;border-radius:5px;overflow:hidden}.light-effect[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:50%;height:100%;background:#ffffff80;box-shadow:0 0 20px 10px #fff3;transform:translate(-150%);animation:_ngcontent-%COMP%_lightSlide 15s linear infinite;pointer-events:none}.click-through[_ngcontent-%COMP%]{pointer-events:none!important}[_nghost-%COMP%]{display:block;height:100vh}[_nghost-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100vw;height:100vh;background-image:url(https://res.cloudinary.com/dmyhr9fcz/image/upload/v1733657365/zozj2le7tkneejmlejdd.webp);background-size:cover;background-position:center;opacity:.1;z-index:-1}.app-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;height:100vh;background-color:#202a54;z-index:-1}.container[_ngcontent-%COMP%]{z-index:1;text-align:center;color:#fff;width:100vw;height:100vh;padding:0;margin:auto}h1[_ngcontent-%COMP%]{font-size:3rem}p[_ngcontent-%COMP%]{font-size:1.2rem}.navmenu[_ngcontent-%COMP%]{box-shadow:0 0 20px #000c}']})};Yl(mo,ou).catch(n=>console.error(n));
